{
  "stats": {
    "suites": 416,
    "tests": 2317,
    "passes": 2129,
    "pending": 8,
    "failures": 180,
    "start": "2026-01-13T04:29:03.897Z",
    "end": "2026-01-13T04:34:42.450Z",
    "duration": 338553
  },
  "tests": [
    {
      "title": "should reject if the user cannot read analytics",
      "fullTitle": "api: /analytics/preview GET should reject if the user cannot read analytics",
      "file": "/usr/odk/test/integration/api/analytics.js",
      "duration": 375,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the analytics",
      "fullTitle": "api: /analytics/preview GET should return the analytics",
      "file": "/usr/odk/test/integration/api/analytics.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return valid response with empty projects for fresh install ",
      "fullTitle": "api: /analytics/preview GET should return valid response with empty projects for fresh install ",
      "file": "/usr/odk/test/integration/api/analytics.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 unless the user is allowed to create",
      "fullTitle": "api: /projects/:id/app-users POST should return 403 unless the user is allowed to create",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the created key",
      "fullTitle": "api: /projects/:id/app-users POST should return the created key",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 66,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:17:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should allow project managers to create",
      "fullTitle": "api: /projects/:id/app-users POST should allow project managers to create",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 69,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:27:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not allow the created user any form access",
      "fullTitle": "api: /projects/:id/app-users POST should not allow the created user any form access",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 177,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:33:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should create a long session",
      "fullTitle": "api: /projects/:id/app-users POST should create a long session",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 49,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:44:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/app-users POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 69,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:56:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return 403 unless the user is allowed to list",
      "fullTitle": "api: /projects/:id/app-users GET should return 403 unless the user is allowed to list",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of tokens in order with merged data",
      "fullTitle": "api: /projects/:id/app-users GET should return a list of tokens in order with merged data",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 54,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:73:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should only return tokens from the requested project",
      "fullTitle": "api: /projects/:id/app-users GET should only return tokens from the requested project",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 48,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:88:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should leave tokens out if the session is ended",
      "fullTitle": "api: /projects/:id/app-users GET should leave tokens out if the session is ended",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 205,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:103:87\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should sort revoked field keys to the bottom",
      "fullTitle": "api: /projects/:id/app-users GET should sort revoked field keys to the bottom",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:116:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should join through additional data if extended metadata is requested",
      "fullTitle": "api: /projects/:id/app-users GET should join through additional data if extended metadata is requested",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:130:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should correctly report last used in extended metadata",
      "fullTitle": "api: /projects/:id/app-users GET should correctly report last used in extended metadata",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 42,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:143:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should sort revoked field keys to the bottom in extended metadata",
      "fullTitle": "api: /projects/:id/app-users GET should sort revoked field keys to the bottom in extended metadata",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 42,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:164:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return 403 unless the user can delete",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should return 403 unless the user can delete",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:181:85\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete the token",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should delete the token",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:187:85\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should allow project managers to delete",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should allow project managers to delete",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:195:83\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete assignments on the token",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should delete assignments on the token",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:200:85\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should only delete the token if it is part of the project",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should only delete the token if it is part of the project",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 48,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:216:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:222:85\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return 403 if an invalid key is provided",
      "fullTitle": "api: /key/:key should return 403 if an invalid key is provided",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject non-field tokens",
      "fullTitle": "api: /key/:key should reject non-field tokens",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should passthrough to the appropriate route with successful auth",
      "fullTitle": "api: /key/:key should passthrough to the appropriate route with successful auth",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 81,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:249:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not be able access closed forms and its sub-resources",
      "fullTitle": "api: /key/:key should not be able access closed forms and its sub-resources",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 178,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:263:8\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject if the project does not exist",
      "fullTitle": "api: /projects/:id/assignments/forms GET should reject if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot list",
      "fullTitle": "api: /projects/:id/assignments/forms GET should reject if the user cannot list",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all assignments on forms",
      "fullTitle": "api: /projects/:id/assignments/forms GET should return all assignments on forms",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:21:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return extended assignments on forms",
      "fullTitle": "api: /projects/:id/assignments/forms GET should return extended assignments on forms",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 79,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:21:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject if the project does not exist",
      "fullTitle": "api: /projects/:id/assignments/forms /:roleId GET should reject if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot list",
      "fullTitle": "api: /projects/:id/assignments/forms /:roleId GET should reject if the user cannot list",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return filtered assignments on forms",
      "fullTitle": "api: /projects/:id/assignments/forms /:roleId GET should return filtered assignments on forms",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 58,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:21:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return filtered extended assignments on forms",
      "fullTitle": "api: /projects/:id/assignments/forms /:roleId GET should return filtered extended assignments on forms",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 56,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:21:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should prohibit anonymous users from listing assignments",
      "fullTitle": "api: /assignments GET should prohibit anonymous users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from listing assignments",
      "fullTitle": "api: /assignments GET should prohibit unprivileged users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all sitewide assignments",
      "fullTitle": "api: /assignments GET should return all sitewide assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return assignments in extended metadata format if requested",
      "fullTitle": "api: /assignments GET should return assignments in extended metadata format if requested",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit anonymous users from listing assignments",
      "fullTitle": "api: /assignments /:roleId GET should prohibit anonymous users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from listing assignments",
      "fullTitle": "api: /assignments /:roleId GET should prohibit unprivileged users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should notfound by system id",
      "fullTitle": "api: /assignments /:roleId GET should notfound by system id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all assigned actors by system id",
      "fullTitle": "api: /assignments /:roleId GET should return all assigned actors by system id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should notfound by numeric id",
      "fullTitle": "api: /assignments /:roleId GET should notfound by numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all assigned actors by numeric id",
      "fullTitle": "api: /assignments /:roleId GET should return all assigned actors by numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit anonymous users from creating assignments",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should prohibit anonymous users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from creating assignments",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should prohibit unprivileged users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the role does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should return notfound if the role does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the user does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should return notfound if the user does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create an assignment by role system id",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should create an assignment by role system id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create an assignment by role numeric id",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should create an assignment by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit anonymous users from creating assignments",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should prohibit anonymous users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from creating assignments",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should prohibit unprivileged users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the role does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should return notfound if the role does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the user does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should return notfound if the user does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the assignment does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should return notfound if the assignment does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should remove an assignment by role name",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should remove an assignment by role name",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should remove an assignment by role numeric id",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should remove an assignment by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from listing assignments",
      "fullTitle": "/projects/:id/assignments GET should prohibit unprivileged users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "/projects/:id/assignments GET should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list all assignments",
      "fullTitle": "/projects/:id/assignments GET should list all assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from listing assignments",
      "fullTitle": "/projects/:id/assignments /:roleId GET should prohibit unprivileged users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId GET should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list all assignees by role system name",
      "fullTitle": "/projects/:id/assignments /:roleId GET should list all assignees by role system name",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list all assignees by role numeric id",
      "fullTitle": "/projects/:id/assignments /:roleId GET should list all assignees by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from creating assignments",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should prohibit unprivileged users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the role does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should return notfound if the role does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the user does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should return notfound if the user does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not permit granting rights one does not have",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should not permit granting rights one does not have",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should assign the actor by role system name",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should assign the actor by role system name",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should assign the actor by role numeric id",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should assign the actor by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from deleting assignments",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should prohibit unprivileged users from deleting assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the role does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should return notfound if the role does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the user does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should return notfound if the user does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should unassign the actor by role system name",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should unassign the actor by role system name",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should assign the actor by role numeric id",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should assign the actor by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all form assignments",
      "fullTitle": "api: /projects/:projectId/forms/:xmlFormId/assignments should return all form assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:545:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return all form assignments for a role",
      "fullTitle": "api: /projects/:projectId/forms/:xmlFormId/assignments should return all form assignments for a role",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 63,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:561:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete assignments",
      "fullTitle": "api: /projects/:projectId/forms/:xmlFormId/assignments should delete assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 63,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:579:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject if the user cannot read audits",
      "fullTitle": "/audits GET should reject if the user cannot read audits",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all activity",
      "fullTitle": "/audits GET should return all activity",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 73,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"user.create\"\n  \"project.update\"\n  \"project.create\"\n  \"user.session.create\"\n]",
        "message": "expected Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create'\n] (at length, A has 8 and B has 4)",
        "details": "at length, A has 8 and B has 4",
        "showDiff": true,
        "actual": "[\n  \"user.create\"\n  \"project.update\"\n  \"project.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "user.create",
            "project.update",
            "project.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "user.create",
              "project.update",
              "project.create",
              "user.session.create"
            ],
            "details": "at length, A has 8 and B has 4",
            "showDiff": true,
            "actual": "user.create,project.update,project.create,user.session.create,user.session.create,user.session.create,user.session.create,user.session.create",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create'\n] (at length, A has 8 and B has 4)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at assertAuditActions (test/integration/api/audits.js:12:36)\n    at /usr/odk/test/integration/api/audits.js:53:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create'\n] (at length, A has 8 and B has 4)",
        "generatedMessage": true
      }
    },
    {
      "title": "should return extended data if requested",
      "fullTitle": "/audits GET should return extended data if requested",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 91,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"user.create\"\n  \"form.update.publish\"\n  \"form.create\"\n  \"project.create\"\n  \"user.session.create\"\n]",
        "message": "expected Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create'\n] (at length, A has 9 and B has 5)",
        "details": "at length, A has 9 and B has 5",
        "showDiff": true,
        "actual": "[\n  \"user.create\"\n  \"form.update.publish\"\n  \"form.create\"\n  \"project.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "user.create",
            "form.update.publish",
            "form.create",
            "project.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "user.create",
              "form.update.publish",
              "form.create",
              "project.create",
              "user.session.create"
            ],
            "details": "at length, A has 9 and B has 5",
            "showDiff": true,
            "actual": "user.create,form.update.publish,form.create,project.create,user.session.create,user.session.create,user.session.create,user.session.create,user.session.create",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create'\n] (at length, A has 9 and B has 5)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at assertAuditActions (test/integration/api/audits.js:12:36)\n    at /usr/odk/test/integration/api/audits.js:114:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create'\n] (at length, A has 9 and B has 5)",
        "generatedMessage": true
      }
    },
    {
      "title": "should return Enketo IDs for form",
      "fullTitle": "/audits GET should return Enketo IDs for form",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 68,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"form.update.publish\"\n  \"form.create\"\n  \"user.session.create\"\n]",
        "message": "expected Array [\n  'form.update.publish',\n  'form.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [ 'form.update.publish', 'form.create', 'user.session.create' ] (at length, A has 7 and B has 3)",
        "details": "at length, A has 7 and B has 3",
        "showDiff": true,
        "actual": "[\n  \"form.update.publish\"\n  \"form.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "form.update.publish",
            "form.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "form.update.publish",
              "form.create",
              "user.session.create"
            ],
            "details": "at length, A has 7 and B has 3",
            "showDiff": true,
            "actual": "form.update.publish,form.create,user.session.create,user.session.create,user.session.create,user.session.create,user.session.create",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  'form.update.publish',\n  'form.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [ 'form.update.publish', 'form.create', 'user.session.create' ] (at length, A has 7 and B has 3)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at assertAuditActions (test/integration/api/audits.js:12:36)\n    at Context.<anonymous> (test/integration/api/audits.js:177:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  'form.update.publish',\n  'form.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [ 'form.update.publish', 'form.create', 'user.session.create' ] (at length, A has 7 and B has 3)",
        "generatedMessage": true
      }
    },
    {
      "title": "should not expand actor if there is no actor",
      "fullTitle": "/audits GET should not expand actor if there is no actor",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should page data",
      "fullTitle": "/audits GET should page data",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should page extended data",
      "fullTitle": "/audits GET should page extended data",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action",
      "fullTitle": "/audits GET should filter by action",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter by action category (user)",
      "fullTitle": "/audits GET should filter by action category (user)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 89,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"user.delete\"\n  \"user.assignment.delete\"\n  \"user.assignment.create\"\n  \"user.update\"\n  \"user.create\"\n  \"user.session.create\"\n]",
        "message": "expected Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create'\n] (at length, A has 10 and B has 6)",
        "details": "at length, A has 10 and B has 6",
        "showDiff": true,
        "actual": "[\n  \"user.delete\"\n  \"user.assignment.delete\"\n  \"user.assignment.create\"\n  \"user.update\"\n  \"user.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "user.delete",
            "user.assignment.delete",
            "user.assignment.create",
            "user.update",
            "user.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "user.delete",
              "user.assignment.delete",
              "user.assignment.create",
              "user.update",
              "user.create",
              "user.session.create"
            ],
            "details": "at length, A has 10 and B has 6",
            "showDiff": true,
            "actual": "user.delete,user.assignment.delete,user.assignment.create,user.update,user.create,user.session.create,user.session.create,user.session.create,user.session.create,user.session.create",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create'\n] (at length, A has 10 and B has 6)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at assertAuditActions (test/integration/api/audits.js:12:36)\n    at /usr/odk/test/integration/api/audits.js:263:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create'\n] (at length, A has 10 and B has 6)",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter by action category (project)",
      "fullTitle": "/audits GET should filter by action category (project)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action category (form)",
      "fullTitle": "/audits GET should filter by action category (form)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action category (submission)",
      "fullTitle": "/audits GET should filter by action category (submission)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action category (dataset)",
      "fullTitle": "/audits GET should filter by action category (dataset)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action category (entity)",
      "fullTitle": "/audits GET should filter by action category (entity)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 275,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter extended data by action",
      "fullTitle": "/audits GET should filter extended data by action",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter (inclusively) by start date",
      "fullTitle": "/audits GET should filter (inclusively) by start date",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 8 to be 4",
        "showDiff": true,
        "actual": "8",
        "negate": false,
        "assertion": {
          "obj": 8,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 8,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 8 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:468:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 8 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter by start date+time",
      "fullTitle": "/audits GET should filter by start date+time",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 38,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "3",
        "message": "expected 7 to be 3",
        "showDiff": true,
        "actual": "7",
        "negate": false,
        "assertion": {
          "obj": 7,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 3,
            "showDiff": true,
            "actual": 7,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 7 to be 3\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:488:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 7 to be 3",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter extended data by start date+time",
      "fullTitle": "/audits GET should filter extended data by start date+time",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 38,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "3",
        "message": "expected 7 to be 3",
        "showDiff": true,
        "actual": "7",
        "negate": false,
        "assertion": {
          "obj": 7,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 3,
            "showDiff": true,
            "actual": 7,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 7 to be 3\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:508:36\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 7 to be 3",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter (inclusively) by end date",
      "fullTitle": "/audits GET should filter (inclusively) by end date",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter by end date+time",
      "fullTitle": "/audits GET should filter by end date+time",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter extended data by end date+time",
      "fullTitle": "/audits GET should filter extended data by end date+time",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter out submission and backup events given action=nonverbose",
      "fullTitle": "/audits GET should filter out submission and backup events given action=nonverbose",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 98,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "3",
        "message": "expected 7 to be 3",
        "showDiff": true,
        "actual": "7",
        "negate": false,
        "assertion": {
          "obj": 7,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 3,
            "showDiff": true,
            "actual": 7,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 7 to be 3\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:599:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 7 to be 3",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter out entity events given action=nonverbose",
      "fullTitle": "/audits GET should filter out entity events given action=nonverbose",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 155,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 8 to be 4",
        "showDiff": true,
        "actual": "8",
        "negate": false,
        "assertion": {
          "obj": 8,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 8,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 8 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:655:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/audits.js:652:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 8 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter out offline entity submission backlog events given action=nonverbose",
      "fullTitle": "/audits GET should filter out offline entity submission backlog events given action=nonverbose",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 120,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 8 to be 4",
        "showDiff": true,
        "actual": "8",
        "negate": false,
        "assertion": {
          "obj": 8,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 8,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 8 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:698:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/audits.js:695:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 8 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should log and return notes if given",
      "fullTitle": "/audits GET should log and return notes if given",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 71,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 8 to be 4",
        "showDiff": true,
        "actual": "8",
        "negate": false,
        "assertion": {
          "obj": 8,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 8,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 8 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:723:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 8 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should fail gracefully if note decoding fails",
      "fullTitle": "/audits GET should fail gracefully if note decoding fails",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the information of a purged actee",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the information of a purged actee",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the deletedAt date of a deleted form",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted form",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the deletedAt date of a deleted user",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted user",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should get the deletedAt date of a deleted project",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted project",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the deletedAt date of a deleted app user",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted app user",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 63,
      "currentRetry": 0,
      "err": {
        "stack": "TypeError: Cannot read properties of undefined (reading 'actee')\n    at /usr/odk/test/integration/api/audits.js:807:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "message": "Cannot read properties of undefined (reading 'actee')"
      }
    },
    {
      "title": "should get the deletedAt date of a deleted public link",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted public link",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the actee information of a dataset",
      "fullTitle": "/audits GET audit logs of dataset and entity events should get the actee information of a dataset",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the actee information of a dataset through an entity event",
      "fullTitle": "/audits GET audit logs of dataset and entity events should get the actee information of a dataset through an entity event",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should get the attachment events of a (partial) submission",
      "fullTitle": "/audits GET audit logs of OpenRosa submission attachment events should get the attachment events of a (partial) submission",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle resubmitting partial submission with all attachments",
      "fullTitle": "/audits GET audit logs of OpenRosa submission attachment events should handle resubmitting partial submission with all attachments",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle resubmitting partial submission with contents of attachment changed",
      "fullTitle": "/audits GET audit logs of OpenRosa submission attachment events should handle resubmitting partial submission with contents of attachment changed",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot backup",
      "fullTitle": "api: /backup POST should reject if the user cannot backup",
      "file": "/usr/odk/test/integration/api/backup.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a valid zip file if the user can backup @slow",
      "fullTitle": "api: /backup POST should return a valid zip file if the user can backup @slow",
      "file": "/usr/odk/test/integration/api/backup.js",
      "duration": 1018,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /submissions/:id/comments POST should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read the submission",
      "fullTitle": "api: /submissions/:id/comments POST should reject if the user cannot read the submission",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if no comment is provided",
      "fullTitle": "api: /submissions/:id/comments POST should reject if no comment is provided",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept the new comment",
      "fullTitle": "api: /submissions/:id/comments POST should accept the new comment",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /submissions/:id/comments GET should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read the submission",
      "fullTitle": "api: /submissions/:id/comments GET should reject if the user cannot read the submission",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return comments in order",
      "fullTitle": "api: /submissions/:id/comments GET should return comments in order",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return extended comments",
      "fullTitle": "api: /submissions/:id/comments GET should return extended comments",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot set config",
      "fullTitle": "api: /config generic endpoints POST should reject if the user cannot set config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the config cannot be directly set",
      "fullTitle": "api: /config generic endpoints POST should reject if the config cannot be directly set",
      "file": "/usr/odk/test/integration/api/config.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should reject for an unknown config",
      "fullTitle": "api: /config generic endpoints POST should reject for an unknown config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should set the config",
      "fullTitle": "api: /config generic endpoints POST should set the config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should call fromValue for the config frame",
      "fullTitle": "api: /config generic endpoints POST should call fromValue for the config frame",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should overwrite the existing config",
      "fullTitle": "api: /config generic endpoints POST should overwrite the existing config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /config generic endpoints POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot set config",
      "fullTitle": "api: /config generic endpoints GET should reject if the user cannot set config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the config is not set",
      "fullTitle": "api: /config generic endpoints GET should return notfound if the config is not set",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the config",
      "fullTitle": "api: /config generic endpoints GET should return the config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should transform the config value",
      "fullTitle": "api: /config generic endpoints GET should transform the config value",
      "file": "/usr/odk/test/integration/api/config.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should reject if the user cannot set config",
      "fullTitle": "api: /config generic endpoints DELETE should reject if the user cannot set config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the config cannot be directly set",
      "fullTitle": "api: /config generic endpoints DELETE should reject if the config cannot be directly set",
      "file": "/usr/odk/test/integration/api/config.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should reject for an unknown config",
      "fullTitle": "api: /config generic endpoints DELETE should reject for an unknown config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should unset the config",
      "fullTitle": "api: /config generic endpoints DELETE should unset the config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return success even if no config is set",
      "fullTitle": "api: /config generic endpoints DELETE should return success even if no config is set",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /config generic endpoints DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if user cannot create datasets",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should reject if user cannot create datasets",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if dataset name is not provided",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should reject if dataset name is not provided",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if dataset name is null",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should reject if dataset name is null",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject dataset name is invalid",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should reject dataset name is invalid",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create a new dataset and return dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should create a new dataset and return dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow properties to be set on new dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should allow properties to be set on new dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should add label-only entity to dataset, all via API",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should add label-only entity to dataset, all via API",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an event in the audit log for creating a new dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should log an event in the audit log for creating a new dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 214,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if creating a dataset that already exists",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should reject if creating a dataset that already exists",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if creating a dataset that has a similar name to an existing published dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should reject if creating a dataset that has a similar name to an existing published dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow creating a dataset that only exists as a draft",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should allow creating a dataset that only exists as a draft",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow creating a dataset that has a similar name to a draft dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should allow creating a dataset that has a similar name to a draft dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow creating a dataset with same name as draft that conflicts with published dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should not allow creating a dataset with same name as draft that conflicts with published dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject user does not have dataset update access",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject user does not have dataset update access",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should add property to dataset and return success",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should add property to dataset and return success",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept entities with properties after properties have been added",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should accept entities with properties after properties have been added",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if property name is invalid",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if property name is invalid",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if property name is not provided",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if property name is not provided",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if property name is null",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if property name is null",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if creating a dataset property that already exists",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if creating a dataset property that already exists",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if creating a dataset property that already exists but with different capitalization",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if creating a dataset property that already exists but with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log an event for creating a new dataset property",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should log an event for creating a new dataset property",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow property name from a deleted draft form be used",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should allow property name from a deleted draft form be used",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot list datasets",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET should reject if the user cannot list datasets",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the datasets of Default project",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET should return the datasets of Default project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the extended datasets of Default project",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET should return the extended datasets of Default project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return draft datasets",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET should not return draft datasets",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the 0 for entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should return the 0 for entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the extended datasets of Default project",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should return the extended datasets of Default project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the correct count and latest timestamp of entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should return the correct count and latest timestamp of entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 196,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should exclude deleted entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should exclude deleted entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the correct count for multiple dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should return the correct count for multiple dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot access dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should reject if the user cannot access dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should let the user download the dataset (even if 0 entity rows)",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should let the user download the dataset (even if 0 entity rows)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only published properties",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return only published properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if dataset does not exist",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should reject if dataset does not exist",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 197,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if dataset is not published",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should reject if dataset is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return csv file with data",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return csv file with data",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return csv file for dataset that have dot in its property name",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return csv file for dataset that have dot in its property name",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 272,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should stream csv of dataset with entities from multiple forms",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should stream csv of dataset with entities from multiple forms",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 379,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return deleted entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should not return deleted entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 236,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated value correctly (entity updated via API)",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return updated value correctly (entity updated via API)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 232,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated value correctly (entity updated via submission)",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return updated value correctly (entity updated via submission)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 267,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter the Entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should filter the Entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 345,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should search the Entities with $search parameter",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should search the Entities with $search parameter",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 220,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine $filter and $search parameters",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should combine $filter and $search parameters",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 304 content not changed if ETag matches",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET ETag on entities.csv should return 304 content not changed if ETag matches",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 282,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return new ETag if entity data is modified",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET ETag on entities.csv should return new ETag if entity data is modified",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 299,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return new ETag if entity deleted",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET ETag on entities.csv should return new ETag if entity deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 263,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the metadata of the dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return the metadata of the dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 284,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the extended metadata of the dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return the extended metadata of the dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if dataset is not published",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should reject if dataset is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return duplicate linkedForms",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return duplicate linkedForms",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a linked form that has been deleted",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return a linked form that has been deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a form draft as a linked form",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return a form draft as a linked form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 159,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return properties of a dataset in order",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return properties of a dataset in order",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties from multiple forms in order",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties from multiple forms in order",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties from multiple forms where later form publishes dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties from multiple forms where later form publishes dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties from multiple forms including updated form with updated schema",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties from multiple forms including updated form with updated schema",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties when purged draft form shares some properties",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties when purged draft form shares some properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties when draft form (purged before second form publish) shares some properties",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties when draft form (purged before second form publish) shares some properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return ordered dataset properties including from deleted published form",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return ordered dataset properties including from deleted published form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should not return null in properties.forms when creation form is updated",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return null in properties.forms when creation form is updated",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return deleted form",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return deleted form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 109,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return source form that does not set any property",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return source form that does not set any property",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless user can form.update",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should reject unless user can form.update",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if user can form.update but not entity.list",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should reject if user can form.update but not entity.list",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should link dataset to form using PATCH",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should link dataset to form using PATCH",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 185,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset attachment in form manifest",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should return dataset attachment in form manifest",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should override blob and link dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should override blob and link dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 280,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow an attachment to have a .CSV extension",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should allow an attachment to have a .CSV extension",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 267,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should unlink dataset from the form",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should unlink dataset from the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return error if dataset is not found",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should return error if dataset is not found",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should throw problem if datasetId is being set for non-data type",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should throw problem if datasetId is being set for non-data type",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return error if dataset is not published",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should return error if dataset is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should unlink dataset from the form",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name DELETE should unlink dataset from the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set datasetId of attachment on form draft upload",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments should set datasetId of attachment on form draft upload",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not link dataset if previous version has blob",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments should not link dataset if previous version has blob",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 120,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should link dataset if previous version does not have blob or dataset linked",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments should link dataset if previous version does not have blob or dataset linked",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not set datasetId of non-file type attachment",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments should not set datasetId of non-file type attachment",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should autolink on upload new form and simultaneously publish",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should autolink on upload new form and simultaneously publish",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should autolink when first publishing a draft",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should autolink when first publishing a draft",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if attachment already filled in",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if attachment already filled in",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if attachment isnt the dataset in question",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if attachment isnt the dataset in question",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if dataset already published because it will be attached already if dataset made before",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if dataset already published because it will be attached already if dataset made before",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 123,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should autolink if dataset already published but it was created after the form draft",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should autolink if dataset already published but it was created after the form draft",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 132,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if the update form doesnt consume dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if the update form doesnt consume dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if form doesnt create dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if form doesnt create dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not autolink on create/consume dataset if .csv extention doesnt match case",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink on create/consume dataset if .csv extention doesnt match case",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink on draft consume-only form if .csv extention doesnt match case",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink on draft consume-only form if .csv extention doesnt match case",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw problem if blobId and datasetId are being set",
      "fullTitle": "datasets and entities linking form attachments to datasets check datasetId constraints should throw problem if blobId and datasetId are being set",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw problem if datasetId is being set for non-data type",
      "fullTitle": "datasets and entities linking form attachments to datasets check datasetId constraints should throw problem if datasetId is being set for non-data type",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not throw problem for fast external itemsets when there is existing \"itemsets\" dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets check datasetId constraints should not throw problem for fast external itemsets when there is existing \"itemsets\" dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not throw problem for new version of \"fast external itemsets\" when there is existing \"itemsets\" dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets check datasetId constraints should not throw problem for new version of \"fast external itemsets\" when there is existing \"itemsets\" dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities csv",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return entities csv",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 407,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities csv for testing",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return entities csv for testing",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return data for columns that contain valid special characters",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return data for columns that contain valid special characters",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 271,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return deleted entities",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should not return deleted entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated value correctly",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return updated value correctly",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 289,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return md5 of last Entity timestamp in the manifest",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return md5 of last Entity timestamp in the manifest",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 315,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return approvalEntityList as the type attribute of mediaFile for datasets that require approval",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return approvalEntityList as the type attribute of mediaFile for datasets that require approval",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 235,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 304 content not changed if ETag matches",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return 304 content not changed if ETag matches",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 333,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return ETag if content has changed",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return ETag if content has changed",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 299,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return new ETag if content has been deleted",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return new ETag if content has been deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 343,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return new ETag if content has changed - draft token",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return new ETag if content has changed - draft token",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 267,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject dataset-diff if the user cannot modify the form",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should reject dataset-diff if the user cannot modify the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 220,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if user can modify form but not list datasets on project",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should reject if user can modify form but not list datasets on project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all properties of dataset",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return all properties of dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all properties with isNew to be false",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return all properties with isNew to be false",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all properties with appropriate value of isNew",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return all properties with appropriate value of isNew",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return properties in the same order they appear as questions in the form",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return properties in the same order they appear as questions in the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return ordered properties including properties not in the form",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return ordered properties including properties not in the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 152,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset name only if no property mapping is defined",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return dataset name only if no property mapping is defined",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array if there is no dataset defined",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return empty array if there is no dataset defined",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return only properties of the dataset of the requested project",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return only properties of the dataset of the requested project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return inForm false for removed property",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return inForm false for removed property",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array if managed encryption is enabled",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return empty array if managed encryption is enabled",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 249,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array if form is encrypted",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return empty array if form is encrypted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all properties of dataset",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should return all properties of dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all properties with appropriate value of inForm",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should return all properties with appropriate value of inForm",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return unpublished properties",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should not return unpublished properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset name only if there is no properties",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should return dataset name only if there is no properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should let the user download even if there are no properties",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should let the user download even if there are no properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a Problem if the entity xml has the wrong version",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return a Problem if the entity xml has the wrong version",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 207,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a Problem if the entity xml is invalid (e.g. missing dataset name)",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return a Problem if the entity xml is invalid (e.g. missing dataset name)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a Problem if the savetos reference invalid properties",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return a Problem if the savetos reference invalid properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a Problem if the savetos reference invalid properties (extra whitespace)",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return a Problem if the savetos reference invalid properties (extra whitespace)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the created form upon success",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return the created form upon success",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept entity form and save dataset with no binds",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should accept entity form and save dataset with no binds",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not let multiple fields to be mapped to a single property",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should not let multiple fields to be mapped to a single property",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should ignore a saveto incorrrectly placed on a bind on a structural field",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should ignore a saveto incorrrectly placed on a bind on a structural field",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when a saveto is on a field inside a repeat group",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should throw an error when a saveto is on a field inside a repeat group",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should publish dataset when any dataset creating form is published",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should publish dataset when any dataset creating form is published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 127,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should warn if the entities-version is 2022.1.0 (earlier than 2024.1.0)",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST warnings about entities-version from before 2024.1.0 should warn if the entities-version is 2022.1.0 (earlier than 2024.1.0)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should warn if the entities-version is 2023.1.0 (earlier than 2024.1.0)",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST warnings about entities-version from before 2024.1.0 should warn if the entities-version is 2023.1.0 (earlier than 2024.1.0)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow two forms to refrence the same dataset if the case is exactly the same",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should allow two forms to refrence the same dataset if the case is exactly the same",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow a form to be uploaded if dataset name conflicts with existing published dataset",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should not allow a form to be uploaded if dataset name conflicts with existing published dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow the second form to publish a dataset that will have a name conflict",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should not allow the second form to publish a dataset that will have a name conflict",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow the second form to publish (with new version) a dataset that will have a name conflict",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should not allow the second form to publish (with new version) a dataset that will have a name conflict",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should prevent name conflicts when there are multiple draft datasets with different capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should prevent name conflicts when there are multiple draft datasets with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow forms that match exisitng datasets even when there are other drafts with different capitalizations",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should allow forms that match exisitng datasets even when there are other drafts with different capitalizations",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow forms with same name in a different project to be published",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should allow forms with same name in a different project to be published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if property name differ by just capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload should reject if property name differ by just capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject when publishing duplicate property with different capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload should reject when publishing duplicate property with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject when new Form draft has duplicate property with different capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload should reject when new Form draft has duplicate property with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "reject if the Form contains duplicate properties with different capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload reject if the Form contains duplicate properties with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not reject for existing duplicate properties",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload should not reject for existing duplicate properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update a dataset with a new draft and be able to upload multiple drafts",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST updating datasets through new form drafts should update a dataset with a new draft and be able to upload multiple drafts",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 151,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a Problem if updated form has invalid dataset properties",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST updating datasets through new form drafts should return a Problem if updated form has invalid dataset properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow a new form that creates a dataset without user having dataset.create verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow a new form that creates a dataset without user having dataset.create verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 255,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow \"creating\" of a dataset when the dataset exists but unpublished",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow \"creating\" of a dataset when the dataset exists but unpublished",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow updating a form about an unpublished dataset, which is similar to creating that dataset",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow updating a form about an unpublished dataset, which is similar to creating that dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow updating a draft that creates a dataset without user having dataset.create verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow updating a draft that creates a dataset without user having dataset.create verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow unpublished dataset to be published on form publish if user does not have dataset.create verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow unpublished dataset to be published on form publish if user does not have dataset.create verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow a new form that updates a dataset without user having dataset.update verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should NOT allow a new form that updates a dataset without user having dataset.update verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 233,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow update draft that updates a dataset without user having dataset.update verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should NOT allow update draft that updates a dataset without user having dataset.update verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow unpublished properties to be published on form publish if user does not have dataset.update verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should NOT allow unpublished properties to be published on form publish if user does not have dataset.update verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ALLOW update of form draft that does not modify existing dataset",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should ALLOW update of form draft that does not modify existing dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 138,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ALLOW new form about existing dataset that does not update it",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should ALLOW new form about existing dataset that does not update it",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log dataset creation when form is not published",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should not log dataset creation when form is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log dataset modification when form is not published",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should not log dataset modification when form is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log appropriate sequence of form and dataset events",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should log appropriate sequence of form and dataset events",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log dataset modification when no new property is added",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should not log dataset modification when no new property is added",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log dataset publishing with properties in audit log",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should log dataset publishing with properties in audit log",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 241,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to add properties to datasets",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST uploading forms that UPDATE but do not create entities should be able to add properties to datasets",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to have an update entity form with no savetos",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST uploading forms that UPDATE but do not create entities should be able to have an update entity form with no savetos",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create dataset if it does not exist and and log it",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST uploading forms that UPDATE but do not create entities should create dataset if it does not exist and and log it",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should clean up form fields and dataset properties of unneeded drafts",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset property interaction with intermediate form schemas and purging uneeded drafts should clean up form fields and dataset properties of unneeded drafts",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should populate entity properties based on correct form schema",
      "fullTitle": "datasets and entities form schemas and dataset properties should populate entity properties based on correct form schema",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 314,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow update where no label or no properties are updated and entity block is childless",
      "fullTitle": "datasets and entities form schemas and dataset properties should allow update where no label or no properties are updated and entity block is childless",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow label to be added to entity block in new version of form",
      "fullTitle": "datasets and entities form schemas and dataset properties should allow label to be added to entity block in new version of form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show same field type (structure) for meta/entity tag with and without children",
      "fullTitle": "datasets and entities form schemas and dataset properties should show same field type (structure) for meta/entity tag with and without children",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should gracefully handle error if incoming entity tag in sub has no attributes",
      "fullTitle": "datasets and entities form schemas and dataset properties should gracefully handle error if incoming entity tag in sub has no attributes",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow a form that has created an entity to be purged",
      "fullTitle": "datasets and entities dataset and entities should have isolated lifecycle should allow a form that has created an entity to be purged",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 167,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return published dataset even if corresponding form is deleted",
      "fullTitle": "datasets and entities dataset and entities should have isolated lifecycle should return published dataset even if corresponding form is deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should keep dataset and its property status intact even if corresponding form is deleted",
      "fullTitle": "datasets and entities dataset and entities should have isolated lifecycle should keep dataset and its property status intact even if corresponding form is deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not let submission edits get caught in pending submission count",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings should not let submission edits get caught in pending submission count",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 182,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow updating settings",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should allow updating settings",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should disallow writing/changing dataset name",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should disallow writing/changing dataset name",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return bad request if value of convert query param is invalid",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should return bad request if value of convert query param is invalid",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return warning for approvalRequired if there are pending submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should return warning for approvalRequired if there are pending submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a warning for ownerOnly by itself",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should not return a warning for ownerOnly by itself",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update dataset when pending submissions are draft or deleted",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should update dataset when pending submissions are draft or deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update approvalRequired without automatic conversions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should update approvalRequired without automatic conversions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should automatically convert pending submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should automatically convert pending submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not convert pending submissions after only ownerOnly is updated",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should not convert pending submissions after only ownerOnly is updated",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not convert deleted submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should not convert deleted submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 143,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not convert draft submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should not convert draft submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log error if there is a problem in a submission while auto converting",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should log error if there is a problem in a submission while auto converting",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should use latest version of submission in pending submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should use latest version of submission in pending submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should use latest version of submission (updated to not create entity) in pending submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should use latest version of submission (updated to not create entity) in pending submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should do something reasonable with pending submissions when they contain entity updates",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should do something reasonable with pending submissions when they contain entity updates",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 268,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not reprocess submission that previously generated entity.error",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings central issue #547, reprocessing submissions that had previous entity errors should not reprocess submission that previously generated entity.error",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reprocess submission that was edited after previously generating entity.error",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings central issue #547, reprocessing submissions that had previous entity errors should reprocess submission that was edited after previously generating entity.error",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 214,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not reprocessed an update caught up in the pending submission scenario ",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings central issue #547, reprocessing submissions that had previous entity errors should not reprocessed an update caught up in the pending submission scenario ",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 245,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "ignores the flag for an admin",
      "fullTitle": "datasets and entities ownerOnly ignores the flag for an admin",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 172,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "ignores the flag for a project manager",
      "fullTitle": "datasets and entities ownerOnly ignores the flag for a project manager",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 303,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "ignores the flag for a project viewer",
      "fullTitle": "datasets and entities ownerOnly ignores the flag for a project viewer",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 419,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "ignores the flag in /v1/test",
      "fullTitle": "datasets and entities ownerOnly ignores the flag in /v1/test",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 328,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "limits entity access for a Data Collector",
      "fullTitle": "datasets and entities ownerOnly limits entity access for a Data Collector",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 351,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "does not limit access if the flag is false",
      "fullTitle": "datasets and entities ownerOnly does not limit access if the flag is false",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 306,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "returns same hash as normal for users who can entity.list",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash returns same hash as normal for users who can entity.list",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 430,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "returns different hash for a data collector",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash returns different hash for a data collector",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 338,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "returns same hash as normal for a data collector if flag is false",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash returns same hash as normal for a data collector if flag is false",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 335,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "does not change hash of a different dataset",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash does not change hash of a different dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 471,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after a data collector creates an entity",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after a data collector creates an entity",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 550,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "does not change hash after someone else creates an entity",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash does not change hash after someone else creates an entity",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 534,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after an entity is updated",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after an entity is updated",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 520,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after an entity is deleted",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after an entity is deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 505,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "does not change hash after an entity is purged",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash does not change hash after an entity is purged",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 691,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after an entity is restored",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after an entity is restored",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 676,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after an entity is undeleted, then another entity is deleted",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after an entity is undeleted, then another entity is deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 790,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after a dataset property is added",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after a dataset property is added",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 473,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "computes hash based on timestamps and the entity count",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash computes hash based on timestamps and the entity count",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 745,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should happily return given no entities",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should happily return given no entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return data for app-user with access to consuming Form",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return data for app-user with access to consuming Form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 103,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/integration/api/datasets.js:6809:10\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/datasets.js:38:3)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should reject for app-user if consuming Form is closed",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should reject for app-user if consuming Form is closed",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 136,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at /usr/odk/test/integration/api/datasets.js:6832:10\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/datasets.js:38:3)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
      }
    },
    {
      "title": "should return with correct deleted value",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return with correct deleted value",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return purged entities as well",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return purged entities as well",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only queried entities",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return only queried entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only queried purged entities",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return only queried purged entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should send form and submission that collects entities for multiple trees in a repeat group",
      "fullTitle": "Entities from Repeats submitting forms and submissions should send form and submission that collects entities for multiple trees in a repeat group",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send form and submission that collects entities about household and multiple people",
      "fullTitle": "Entities from Repeats submitting forms and submissions should send form and submission that collects entities about household and multiple people",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send form and submission about two entities at different levels: farm and farmer",
      "fullTitle": "Entities from Repeats submitting forms and submissions should send form and submission about two entities at different levels: farm and farmer",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should assign properties to dataset trees in a repeat group",
      "fullTitle": "Entities from Repeats assigning properties to the individual datasets should assign properties to dataset trees in a repeat group",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should assign properties to households and people datasets at parent and child repeat levels",
      "fullTitle": "Entities from Repeats assigning properties to the individual datasets should assign properties to households and people datasets at parent and child repeat levels",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should assign properties to farm and farmer datasets at different levels",
      "fullTitle": "Entities from Repeats assigning properties to the individual datasets should assign properties to farm and farmer datasets at different levels",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with two entities in it at different levels",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with two entities in it at different levels",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with entity repeats",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with entity repeats",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with entity and entity repeats",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with entity and entity repeats",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with entities in two levels of repeat groups",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with entities in two levels of repeat groups",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 137,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with entity declared in a repeat / group",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with entity declared in a repeat / group",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with repeat entities that update and create",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with repeat entities that update and create",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should assign the same entity source to multiple entities created by the same submission",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should assign the same entity source to multiple entities created by the same submission",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 116,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make an entity_def_source record or make any entities if one has an error",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should not make an entity_def_source record or make any entities if one has an error",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 116,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an error when one of multiple entities fails",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should log an error when one of multiple entities fails",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should note what happens when two entities hold submission into backlog",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should note what happens when two entities hold submission into backlog",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should note behavior when one entity in a submission causes entire submission to be held in backlog",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should note behavior when one entity in a submission causes entire submission to be held in backlog",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 109,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 187,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should happily return given no entities",
      "fullTitle": "Entities API GET /datasets/:name/entities should happily return given no entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return metadata of the entities of the dataset",
      "fullTitle": "Entities API GET /datasets/:name/entities should return metadata of the entities of the dataset",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 328,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return metadata of the entities of the dataset - only deleted",
      "fullTitle": "Entities API GET /datasets/:name/entities should return metadata of the entities of the dataset - only deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return extended metadata of the entities of the dataset",
      "fullTitle": "Entities API GET /datasets/:name/entities should return extended metadata of the entities of the dataset",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 145,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not mince the object properties",
      "fullTitle": "Entities API GET /datasets/:name/entities should not mince the object properties",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 202,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities in stable order",
      "fullTitle": "Entities API GET /datasets/:name/entities should return entities in stable order",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should strip uuid: prefix from query param in entity requests",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should strip uuid: prefix from query param in entity requests",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return full entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return full entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return full extended entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return full extended entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return current version of entity data when updated",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return current version of entity data when updated",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 191,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not mince the object properties",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should not mince the object properties",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 214,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return full entity even if form+submission has been deleted and purged",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return full entity even if form+submission has been deleted and purged",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 265,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an Entity with SOFT conflict",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return an Entity with SOFT conflict",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an Entity with HARD conflict",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return an Entity with HARD conflict",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 171,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 186,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all versions of the Entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return all versions of the Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 159,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all versions of the Entity - Extended",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return all versions of the Entity - Extended",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 180,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all versions of the Entity - Conflicts",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return all versions of the Entity - Conflicts",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 239,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should get version source with source details even when there is no corresponding submission event",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should get version source with source details even when there is no corresponding submission event",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only relevent versions needed for conflict resolution",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should return only relevent versions needed for conflict resolution",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 244,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should correctly set relevantToConflict field",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should correctly set relevantToConflict field",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 295,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array when all conflicts are resolved",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should return empty array when all conflicts are resolved",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 225,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only relevent versions after conflict resolution",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should return only relevent versions after conflict resolution",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 236,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should correctly set `resolved` flag for the versions",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should correctly set `resolved` flag for the versions",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 251,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return correct response for conflict after second resolution",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should return correct response for conflict after second resolution",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 296,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/diffs should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/diffs should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 138,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/diffs should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return differences between the version of an Entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/diffs should return differences between the version of an Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 206,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 180,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return audit logs of the Entity including updates via API and submission",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return audit logs of the Entity including updates via API and submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 243,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return audit logs of the Entity when it is created via POST API",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return audit logs of the Entity when it is created via POST API",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the latest instance name of a source submission",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return the latest instance name of a source submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 181,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return right approval details when we have multiple approvals",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return right approval details when we have multiple approvals",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return paginated audit logs of the Entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return paginated audit logs of the Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 172,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return delete and restore events",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return delete and restore events",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 206,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include submission or source event when entity created or updated via API",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should not include submission or source event when entity created or updated via API",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return source when entity created via submission approval",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return source when entity created via submission approval",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return source when entity created via submission creation",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return source when entity created via submission creation",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return source when entity updated via submission",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return source when entity updated via submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return instanceId even when submission is deleted",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return instanceId even when submission is deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 186,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return instanceId even when form is deleted",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return instanceId even when form is deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entity audits even when submission and its logs are deleted",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return entity audits even when submission and its logs are deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 196,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API POST /datasets/:name/entities should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot write",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if the user cannot write",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject malformed json",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject malformed json",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject creating new entity if dataset not yet published",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject creating new entity if dataset not yet published",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create an Entity",
      "fullTitle": "Entities API POST /datasets/:name/entities should create an Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should generate uuid if one is not provided",
      "fullTitle": "Entities API POST /datasets/:name/entities should generate uuid if one is not provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if uuid is not a valid uuid",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if uuid is not a valid uuid",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if label is blank",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if label is blank",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if label is not provided",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if label is not provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if uuid is not unique",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if uuid is not unique",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 202,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if entity with the same uuid is soft deleted",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if entity with the same uuid is soft deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 220,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if data properties do not match dataset exactly",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if data properties do not match dataset exactly",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark the source as type api",
      "fullTitle": "Entities API POST /datasets/:name/entities should mark the source as type api",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the entity create event in the audit log",
      "fullTitle": "Entities API POST /datasets/:name/entities should log the entity create event in the audit log",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 356,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot update",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should reject if the user cannot update",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 219,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if version or force flag is not provided",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should reject if version or force flag is not provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 224,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if version does not match",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should reject if version does not match",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 169,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should store the entity update source and creator id",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should store the entity update source and creator id",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 218,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should add a source row with type api when updating an entity via PATCH",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should add a source row with type api when updating an entity via PATCH",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the entity update event in the audit log",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should log the entity update event in the audit log",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow parallel updates to the same Entity",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should not allow parallel updates to the same Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 415,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should partially update an Entity",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should partially update an Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the latest data after multiple updates",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should return the latest data after multiple updates",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 228,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the label of an entity",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should update the label of an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if updating the label to be empty",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should reject if updating the label to be empty",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 184,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update an entity with additional properties",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should update an entity with additional properties",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 210,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should let a propery be set to empty string",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should let a propery be set to empty string",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not accept null property",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should not accept null property",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if updating property not in dataset",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should reject if updating property not in dataset",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 142,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should resolve the conflict without updating data",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should resolve the conflict without updating data",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should resolve the conflict with updating data",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should resolve the conflict with updating data",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resolve without the flag",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should not resolve without the flag",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 209,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should resolve the conflict and forcefully update the entity",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should resolve the conflict and forcefully update the entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 196,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw error if there is no conflict",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should throw error if there is no conflict",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if version does not match",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should reject if version does not match",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should forcefully resolve the conflict",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should forcefully resolve the conflict",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API DELETE /datasets/:name/entities/:uuid should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API DELETE /datasets/:name/entities/:uuid should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 178,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot delete",
      "fullTitle": "Entities API DELETE /datasets/:name/entities/:uuid should reject if the user cannot delete",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 191,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete an Entity",
      "fullTitle": "Entities API DELETE /datasets/:name/entities/:uuid should delete an Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 223,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the entity has not been deleted",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should reject if the entity has not been deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the entity does not exist",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should reject if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the entity uuid is not valid",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should reject if the entity uuid is not valid",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 169,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot restore",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should reject if the user cannot restore",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 170,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete the entity and then restore it",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should soft-delete the entity and then restore it",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject malformed entity object json",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should reject malformed entity object json",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject malformed contents of entity array",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should reject malformed contents of entity array",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject malformed entities array",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should reject malformed entities array",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject empty entities array",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should reject empty entities array",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create Entities in bulk",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should create Entities in bulk",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should generate uuids for entities when no uuid is provided",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should generate uuids for entities when no uuid is provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities if one is invalid (missing label)",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities if one is invalid (missing label)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities if one is invalid (invalid property)",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities if one is invalid (invalid property)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities if one is invalid (invalid UUID)",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities if one is invalid (invalid UUID)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities there is a UUID collision",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities there is a UUID collision",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 205,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities if there is a UUID collision with soft deleted Entity",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities if there is a UUID collision with soft deleted Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error if no source is provided",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity source when created through bulk append should throw an error if no source is provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error if source name is missing",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity source when created through bulk append should throw an error if source name is missing",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save source details in entity version source",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity source when created through bulk append should save source details in entity version source",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 141,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entities that share the same source",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity source when created through bulk append should create entities that share the same source",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return bulk create event in the audit log for an entity",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity audit events when created through bulk append should return bulk create event in the audit log for an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fetch the correct events for a conflict resolution (no new version)",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity audit events when created through bulk append should fetch the correct events for a conflict resolution (no new version)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 322,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fetch the correct events for a conflict resolution that does add a new version",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity audit events when created through bulk append should fetch the correct events for a conflict resolution that does add a new version",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 291,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return not found if dataset is not there",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should return not found if dataset is not there",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return unauthorized if user does not have rights to delete entities",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should return unauthorized if user does not have rights to delete entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 185,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return ok even if provided entities are not there",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should return ok even if provided entities are not there",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete entities with the given UUIDs",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should delete entities with the given UUIDs",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count 0 if entities are already deleted",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should return count 0 if entities are already deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 182,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log entity.delete when only one uuid is provided",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should log entity.delete when only one uuid is provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 166,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return not found if dataset is not there",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return not found if dataset is not there",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return unauthorized if user does not have rights to restore entities",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return unauthorized if user does not have rights to restore entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return ok even if provided entities are not there",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return ok even if provided entities are not there",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should restore entities with the given UUIDs",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should restore entities with the given UUIDs",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count 0 if entities are not deleted",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return count 0 if entities are not deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log entity.restore when only one uuid is provided",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should log entity.restore when only one uuid is provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed valid and invalid UUIDs in bulk restore",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should handle mixed valid and invalid UUIDs in bulk restore",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle bulk restore with audit logging for multiple entities",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should handle bulk restore with audit logging for multiple entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return bulk restore event for individual entity audits",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return bulk restore event for individual entity audits",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 170,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity",
      "fullTitle": "Entities API create new entities from submissions should create entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity if the label is missing in the submission",
      "fullTitle": "Entities API create new entities from submissions should not create entity if the label is missing in the submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity if the uuid is missing in the submission",
      "fullTitle": "Entities API create new entities from submissions should not create entity if the uuid is missing in the submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process multiple updates in a row",
      "fullTitle": "Entities API entity updates from submissions should process multiple updates in a row",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update data and label",
      "fullTitle": "Entities API entity updates from submissions should update data and label",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 173,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update only the label",
      "fullTitle": "Entities API entity updates from submissions should update only the label",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update label if not included",
      "fullTitle": "Entities API entity updates from submissions should not update label if not included",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 153,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update label if label is blank",
      "fullTitle": "Entities API entity updates from submissions should not update label if label is blank",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set field to blank",
      "fullTitle": "Entities API entity updates from submissions should set field to blank",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update field if not included in xml",
      "fullTitle": "Entities API entity updates from submissions should not update field if not included in xml",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an error and not update if baseVersion is missing",
      "fullTitle": "Entities API entity updates from submissions update error cases should log an error and not update if baseVersion is missing",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 152,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an error and not update if baseVersion in submission does not exist",
      "fullTitle": "Entities API entity updates from submissions update error cases should log an error and not update if baseVersion in submission does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an error and if baseVersion is not an integer",
      "fullTitle": "Entities API entity updates from submissions update error cases should log an error and if baseVersion is not an integer",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 205,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create an entity if it does not yet exist",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should create an entity if it does not yet exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should perform an upsert with blank label",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should perform an upsert with blank label",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should have create error if failed to update non-existent entity but still had error with create (e.g blank label)",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should have create error if failed to update non-existent entity but still had error with create (e.g blank label)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update an entity if it does exist",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should update an entity if it does exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 184,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail both update and create if uuid exists and base version is wrong",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should fail both update and create if uuid exists and base version is wrong",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 162,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail both update and create on error like invalid uuid",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should fail both update and create on error like invalid uuid",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 159,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity when both create and update are true but baseVersion is empty",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should create entity when both create and update are true but baseVersion is empty",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 184,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log error when both create and update are true, baseVersion is empty but entity uuid exists",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should log error when both create and update are true, baseVersion is empty but entity uuid exists",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create an entity from submission edited to have create flag",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should create an entity from submission edited to have create flag",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 164,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create an entity from approved submission edited to have create flag",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should create an entity from approved submission edited to have create flag",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create second entity with new uuid from edited submission",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not create second entity with new uuid from edited submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update a entity from edited sub if sub already created entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not update a entity from edited sub if sub already created entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update same entity from edited sub if sub already created entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not update same entity from edited sub if sub already created entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 142,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update entity when submission is edited to set update to true",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should update entity when submission is edited to set update to true",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update different entity when submission previously updated an entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not update different entity when submission previously updated an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 239,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not re-update entity when submission previously updated an entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not re-update entity when submission previously updated an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 211,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update entity after editing submission to reference valid entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should update entity after editing submission to reference valid entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity after sub updates an entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not create entity after sub updates an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should result in an error for an update from a create form",
      "fullTitle": "Entities API permitted entity actions should result in an error for an update from a create form",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should result in an error for a create from an update form",
      "fullTitle": "Entities API permitted entity actions should result in an error for a create from an update form",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject >250kb requests to non-entity endpoint",
      "fullTitle": "Entities API increased bodyParser json request limit for bulk entity creation should reject >250kb requests to non-entity endpoint",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow >250kb requests to bulk entity endpoint",
      "fullTitle": "Entities API increased bodyParser json request limit for bulk entity creation should allow >250kb requests to bulk entity endpoint",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow >250kb requests to bulk entity endpoint with query parameters",
      "fullTitle": "Entities API increased bodyParser json request limit for bulk entity creation should allow >250kb requests to bulk entity endpoint with query parameters",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 142,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array if no entities exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should return empty array if no entities exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return creators sorted by display name",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should return creators sorted by display name",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include duplicate creators",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should not include duplicate creators",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only include creators of non-deleted entities",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should only include creators of non-deleted entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can delete",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should reject unless the user can delete",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should delete the form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return associated assignments for a deleted form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should not return associated assignments for a deleted form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 72,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/delete-restore.js:43:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not return associated assignments for a specific role for a deleted form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should not return associated assignments for a specific role for a deleted form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 71,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/delete-restore.js:64:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject restoring unless the user can delete",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should reject restoring unless the user can delete",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject restoring if referenced by the xml form id",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should reject restoring if referenced by the xml form id",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restore a soft-deleted form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should restore a soft-deleted form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log form.restore in audit log",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should log form.restore in audit log",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restore a specific form by numeric id when multiple trashed forms share the same xmlFormId",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should restore a specific form by numeric id when multiple trashed forms share the same xmlFormId",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail restoring a form that is not deleted",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should fail restoring a form that is not deleted",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail to restore a form when another active form with the same form id exists",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should fail to restore a form when another active form with the same form id exists",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restore web user submission access",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) restoring access to undeleted forms should restore web user submission access",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restore public link submission access",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) restoring access to undeleted forms should restore public link submission access",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should restore app user submission access",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) restoring access to undeleted forms should restore app user submission access",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 53,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/delete-restore.js:201:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not be able to access assignments of deleted form thru the form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) restoring access to undeleted forms should not be able to access assignments of deleted form thru the form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 44,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/delete-restore.js:223:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should reject notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user may modify the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should reject unless the user may modify the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the xmlFormId does not match",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should reject if the xmlFormId does not match",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should set the draft version",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should set the draft version",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create a new draft token while setting a new draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should create a new draft token while setting a new draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request an enketoId while setting a new draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should request an enketoId while setting a new draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request a new enketoId while setting each new draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should request a new enketoId while setting each new draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return with success even if the request to Enketo fails",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should return with success even if the request to Enketo fails",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should wait for Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should wait for Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 581,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request an enketoId from the worker if the request from the endpoint fails",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should request an enketoId from the worker if the request from the endpoint fails",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not request an enketoId from the worker if the request from the endpoint succeeds",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not request an enketoId from the worker if the request from the endpoint succeeds",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should manage draft/published enketo tokens separately",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should manage draft/published enketo tokens separately",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should replace the draft version",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should replace the draft version",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep the draft token while replacing the draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should keep the draft token while replacing the draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep the enketoId while replacing the draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should keep the enketoId while replacing the draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request an enketoId from the worker while replacing the draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not request an enketoId from the worker while replacing the draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should copy the published form definition if not given one",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should copy the published form definition if not given one",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should do nothing given no POST body and no published form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should do nothing given no POST body and no published form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept xlsx drafts",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should accept xlsx drafts",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should ignore xlsx warnings if asked",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should ignore xlsx warnings if asked",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should deal with xlsx itemsets",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should deal with xlsx itemsets",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should pick up xlsx itemsets when newly required",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should pick up xlsx itemsets when newly required",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should pick up new xlsx itemsets replacing the old one",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should pick up new xlsx itemsets replacing the old one",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow version conflicts in draft state",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should allow version conflicts in draft state",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should complain about field conflicts",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain about field conflicts",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should complain about field conflicts (older)",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain about field conflicts (older)",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not complain on downcast to string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not complain on downcast to string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should complain on upcast from string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain on upcast from string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not complain on double-downcast to string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not complain on double-downcast to string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should complain on upcast once downcasted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain on upcast once downcasted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should complain on downcast from group to string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain on downcast from group to string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should complain on downcast from repeat to string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain on downcast from repeat to string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not complain about discarded draft field conflicts",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not complain about discarded draft field conflicts",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow new draft with missing meta group",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should allow new draft with missing meta group",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should identify attachments",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should identify attachments",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should carry forward matching published attachments",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should carry forward matching published attachments",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should carry forward matching draft attachments",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should carry forward matching draft attachments",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 127,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update form title with draft title when no published form exists",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST updating form titles should update form title with draft title when no published form exists",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update form title with draft title when form already published",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST updating form titles should not update form title with draft title when form already published",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update form title from draft when form published and existing draft present",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST updating form titles should not update form title from draft when form published and existing draft present",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 145,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update form title with latest draft title only on publish",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST updating form titles should update form title with latest draft title only on publish",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the old undeeded draft when a new version is uploaded",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts should purge the old undeeded draft when a new version is uploaded",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 119,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the old undeeded draft when a new version is uploaded (and no published draft)",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts should purge the old undeeded draft when a new version is uploaded (and no published draft)",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not purge fields because they are part of schema of published form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts purging form fields of unneeded drafts should not purge fields because they are part of schema of published form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge fields of unneeded intermediate draft with different schema",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts purging form fields of unneeded drafts should purge fields of unneeded intermediate draft with different schema",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the form field and schema of intermediate version (and no published draft)",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts purging form fields of unneeded drafts should purge the form field and schema of intermediate version (and no published draft)",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow new draft submissions to be sent after soft-deleting old ones",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should allow new draft submissions to be sent after soft-deleting old ones",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow a new draft submission to be sent if it conflicts with a soft-deleted old ones",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should NOT allow a new draft submission to be sent if it conflicts with a soft-deleted old ones",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete submissions of undeeded draft when a new version is uploaded",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should soft-delete submissions of undeeded draft when a new version is uploaded",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete submissions of draft when it is abandoned/deleted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should soft-delete submissions of draft when it is abandoned/deleted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete submissions of draft when it is published",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should soft-delete submissions of draft when it is published",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete submissions of draft when it is published AND the version is set on publish",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should soft-delete submissions of draft when it is published AND the version is set on publish",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge draft submissions when project is encrypted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should purge draft submissions when project is encrypted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 226,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge old draft submissions after 30 days",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should purge old draft submissions after 30 days",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not let soft-deleted draft submissions be undeleted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should not let soft-deleted draft submissions be undeleted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should work in the straight forward case of replacing active draft with previous draft and submissions",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts experimental - recovering deleted draft submissions should work in the straight forward case of replacing active draft with previous draft and submissions",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine draft subs from two draft versions if recovering old subs without deleting new ones",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts experimental - recovering deleted draft submissions should combine draft subs from two draft versions if recovering old subs without deleting new ones",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should recover draft subs in a def that got published (without changing the version) by adding them to the published subs",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts experimental - recovering deleted draft submissions should recover draft subs in a def that got published (without changing the version) by adding them to the published subs",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show what happens when a published def is set as the draft def of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts experimental - recovering deleted draft submissions should show what happens when a published def is set as the draft def of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user does not have project-specific permissions",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user does not have project-specific permissions",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user does not have project-specific permissions, even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user does not have project-specific permissions, even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user does not have project-specific permissions, even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user does not have project-specific permissions, even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"app-user\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"app-user\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"app-user\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"app-user\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 120,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"app-user\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"app-user\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formfill\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formfill\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formfill\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formfill\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formfill\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formfill\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formview\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formview\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formview\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formview\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formview\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formview\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"pub-link\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"pub-link\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"pub-link\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"pub-link\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"pub-link\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"pub-link\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"viewer\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"viewer\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"viewer\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"viewer\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"viewer\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"viewer\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should give basic draft details",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should give basic draft details",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should give extended draft details",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should give extended draft details",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the correct enketoId with extended draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should return the correct enketoId with extended draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not count nondraft submissions in its count",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should not count nondraft submissions in its count",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot modify",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should reject if the user cannot modify",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete the draft without deleting the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should delete the draft without deleting the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the draft when it is deleted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should purge the draft when it is deleted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should conflict if there is no published version",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should conflict if there is no published version",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create a new draft token after delete",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should create a new draft token after delete",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot modify",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should reject if the user cannot modify",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the version conflicts",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should reject if the version conflicts",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set version on the fly if requested",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should set version on the fly if requested",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should succeed and set the publish date",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should succeed and set the publish date",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not have a draft afterwards",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should not have a draft afterwards",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should show the published versions at /versions",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should show the published versions at /versions",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should provide attachments as expected",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should provide attachments as expected",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs when publishing for first time",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should request Enketo IDs when publishing for first time",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with success even if request to Enketo fails",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should return with success even if request to Enketo fails",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should wait for Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should wait for Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 596,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs when republishing if they are missing",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should request Enketo IDs when republishing if they are missing",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request Enketo IDs when republishing if they are present",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should not request Enketo IDs when republishing if they are present",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs from worker if request from endpoint fails",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should request Enketo IDs from worker if request from endpoint fails",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request Enketo IDs from worker if request from endpoint succeeds",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should not request Enketo IDs from worker if request from endpoint succeeds",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update version even if version provided in query parameter has special chars",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should update version even if version provided in query parameter has special chars",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the correct def ids in the form audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should log the correct def ids in the form audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 141,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return fields",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /fields GET should return fields",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a manifest",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /manifest GET should return a manifest",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the draft does not exist",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should reject notfound if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user may modify the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should reject unless the user may modify the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept the file",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should accept the file",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept xml type files",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should accept xml type files",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upload form definition and form attachment with cookie auth",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should upload form definition and form attachment with cookie auth",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 55,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at Context.<anonymous> (test/integration/api/forms/draft.js:2125:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should replace an extant file with another",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should replace an extant file with another",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow the same file in different slots",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should allow the same file in different slots",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the draft does not exist",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should reject notfound if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user may update the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should reject unless the user may update the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the file does not exist",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should reject notfound if the file does not exist",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the attachment contents",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should delete the attachment contents",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can create",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject unless the user can create",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the xml is malformed",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if the xml is malformed",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form id cannot be found",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if the form id cannot be found",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form id already exists",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if the form id already exists",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if an empty form version already existed but was deleted",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if an empty form version already existed but was deleted",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the created form upon success",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should return the created form upon success",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decode html entities in the value of form version - getodk/central#1470",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should decode html entities in the value of form version - getodk/central#1470",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if form id ends in .xml",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if form id ends in .xml",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if form id ends in .xls(x)",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if form id ends in .xls(x)",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if form id is too long",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if form id is too long",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept and convert valid xlsx files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should accept and convert valid xlsx files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail on warnings even for valid xlsx files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should fail on warnings even for valid xlsx files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail on warnings even for valid xlsx files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should fail on warnings even for valid xlsx files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create the form for xlsx files with warnings given ignoreWarnings",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should create the form for xlsx files with warnings given ignoreWarnings",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should apply itemsets.csv if it is returned and expected",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should apply itemsets.csv if it is returned and expected",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should ignore itemsets.csv if it is returned but not expected",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should ignore itemsets.csv if it is returned but not expected",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an appropriate response upon conversion error",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should return an appropriate response upon conversion error",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept xls forms and return them over that endpoint",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should accept xls forms and return them over that endpoint",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should by default save the given definition as the draft",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should by default save the given definition as the draft",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should if flagged save the given definition as published",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should if flagged save the given definition as published",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should set the publish date if flagged publish=true",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should set the publish date if flagged publish=true",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should have published timestamp different from create timestamp if published separately",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should have published timestamp different from create timestamp if published separately",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log both actions in the audit log on publish=true",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should log both actions in the audit log on publish=true",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 285,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject with deleted form exists warning",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject with deleted form exists warning",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject with xls and deleted form exists warnings",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject with xls and deleted form exists warnings",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject form with missing meta group",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject form with missing meta group",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject form with meta field that is not a group",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject form with meta field that is not a group",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create the form for xml files with warnings given ignoreWarnings",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should create the form for xml files with warnings given ignoreWarnings",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should request an enketoId",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should request an enketoId",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with success even if request to Enketo fails",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should return with success even if request to Enketo fails",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should wait for Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should wait for Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 558,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request an enketoId from worker if request from endpoint fails",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should request an enketoId from worker if request from endpoint fails",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request an enketoId from worker if request from endpoint succeeds",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should not request an enketoId from worker if request from endpoint succeeds",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should request Enketo IDs",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with success even if request to Enketo fails",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should return with success even if request to Enketo fails",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should wait for Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should wait for Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 1079,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should wait for published Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should wait for published Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 613,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs from worker if request from endpoint fails",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should request Enketo IDs from worker if request from endpoint fails",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request Enketo IDs from worker if request from endpoint succeeds",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should not request Enketo IDs from worker if request from endpoint succeeds",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST with structureChanged warning should reject",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept if ignoreWarnings set",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST with structureChanged warning should accept if ignoreWarnings set",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject with xls",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST with structureChanged warning should reject with xls",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the form was not created by xlsform",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return notfound if the form was not created by xlsform",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return xls notfound given xlsx file",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return xls notfound given xlsx file",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the xlsx file originally provided",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return the xlsx file originally provided",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return s3 redirect after xlsx file uploaded to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return s3 redirect after xlsx file uploaded to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the xlsx file originally provided for a draft",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return the xlsx file originally provided for a draft",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return s3 redirect after xlsx file for draft uploaded to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return s3 redirect after xlsx file for draft uploaded to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should continue to offer the xlsx file after a copy-draft",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should continue to offer the xlsx file after a copy-draft",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not continue to offer the xlsx file after a noncopy-draft",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should not continue to offer the xlsx file after a noncopy-draft",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow xls file download only",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xls GET should allow xls file download only",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xml GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return just xml",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xml GET should return just xml",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the correct form given duplicates across projects",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xml GET should get the correct form given duplicates across projects",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return basic form details",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return basic form details",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return encrypted form keyId",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return encrypted form keyId",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 219,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return extended form details",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return extended form details",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return xls content type with extended form details",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return xls content type with extended form details",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count of public links with extended metadata",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return count of public links with extended metadata",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should exclude deleted and revoked public links",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should exclude deleted and revoked public links",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 127,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a draftToken",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should not return a draftToken",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not count draft submissions in its count",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should not count draft submissions in its count",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the correct enketoId",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return the correct enketoId",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /manifest GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return no files if no attachments exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /manifest GET should return no files if no attachments exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include attachments that have been uploaded",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /manifest GET should include attachments that have been uploaded",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /fields GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of fields",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /fields GET should return a list of fields",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should indicate selectMultiple fields",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /fields GET should indicate selectMultiple fields",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a sanitized JSON schema structure",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /fields GET should return a sanitized JSON schema structure",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should reject notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read the form",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should reject if the user cannot read the form",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an empty list if no attachments exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should return an empty list if no attachments exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should return a list of files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should flag exists: true for extant files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should flag exists: true for extant files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return upload updatedAt for extended metadata",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should return upload updatedAt for extended metadata",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return deletion exists and updatedAt for extended metadata",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should return deletion exists and updatedAt for extended metadata",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should reject notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject unless the user may read the form",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should reject unless the user may read the form",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the file does not exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should reject notfound if the file does not exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return file contents with appropriate headers",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return file contents with appropriate headers",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 307 if file has been moved to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return 307 if file has been moved to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 304 content not changed if ETag matches",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return 304 content not changed if ETag matches",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return latest content and correct ETag",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return latest content and correct ETag",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return latest content if previous content was uploaded to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return latest content if previous content was uploaded to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ignore local etag if content was uploaded to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should ignore local etag if content was uploaded to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can update",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should reject unless the user can update",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update allowed fields",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should update allowed fields",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if state is invalid",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should reject if state is invalid",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not update disallowed fields",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should not update disallowed fields",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return Form if it is in draft and no auth is provided",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should not return Form if it is in draft and no auth is provided",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject without session token",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should reject without session token",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the Form with session token queryparam",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should return the Form with session token queryparam",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow form lookup by enketoId if form has multiple published versions",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should allow form lookup by enketoId if form has multiple published versions",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 116,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the Form by enketoOnceId",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should return the Form by enketoOnceId",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can list",
      "fullTitle": "api: /projects/:id/forms (listing forms) GET should reject unless the user can list",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list forms in order",
      "fullTitle": "api: /projects/:id/forms (listing forms) GET should list forms in order",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should provide extended metadata if requested",
      "fullTitle": "api: /projects/:id/forms (listing forms) GET should provide extended metadata if requested",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../forms?deleted=true GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list soft-deleted forms",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../forms?deleted=true GET should list soft-deleted forms",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list soft-deleted forms including extended metadata and submissions",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../forms?deleted=true GET should list soft-deleted forms including extended metadata and submissions",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include deletedAt form field on regular forms",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../forms?deleted=true GET should not include deletedAt form field on regular forms",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if there is no authentication",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should reject if there is no authentication",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return no results if the user cannot read",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return no results if the user cannot read",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return form details as xml",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return form details as xml",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return only return matching form given formID=",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return only return matching form given formID=",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return nothing given a nonmatching formID=",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return nothing given a nonmatching formID=",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return auth-filtered results for app users",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return auth-filtered results for app users",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 44,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/list.js:194:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should prefix returned routes for app users",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should prefix returned routes for app users",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 46,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/list.js:222:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not include closing/closed forms",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should not include closing/closed forms",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not include deleted forms",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should not include deleted forms",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not include forms without published versions",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should not include forms without published versions",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should escape illegal characters in url",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should escape illegal characters in url",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include a manifest node for forms with attachments",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should include a manifest node for forms with attachments",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list the correct form given duplicates across projects",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should list the correct form given duplicates across projects",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should encode html entities in the response",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should encode html entities in the response",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft does not exist",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject after publish with a custom error message",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject after publish with a custom error message",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject on incorrect key with a custom error message",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject on incorrect key with a custom error message",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should give an appropriate formList",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should give an appropriate formList",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include a manifest node for forms with attachments",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should include a manifest node for forms with attachments",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft does not exist",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should reject if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an empty manifest if the draft has no attachments",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should return an empty manifest if the draft has no attachments",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a manifest with present attachments",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should return a manifest with present attachments",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft does not exist",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should reject if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should give the xml",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should give the xml",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /attachments/:name GET should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /attachments/:name GET should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /attachments/:name GET should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the attachment",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /attachments/:name GET should return the attachment",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list all versions",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should list all versions",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not list draft or orphan versions",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should not list draft or orphan versions",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not list any versions if none are published",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should not list any versions if none are published",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not give an enketoId",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should not give an enketoId",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return publishedBy if extended is requested",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should return publishedBy if extended is requested",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return xls content type with extended form details",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should return xls content type with extended form details",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not give an enketoId with extended details",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should not give an enketoId with extended details",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should sort results desc by publishedAt",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should sort results desc by publishedAt",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 119,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the version does not exist",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version GET should reject if the version does not exist",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return basic details",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version GET should return basic details",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should look for empty string given ___",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version GET should look for empty string given ___",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the xlsx file originally provided",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version .xlsx GET should return the xlsx file originally provided",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a list of fields",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version /fields GET should return a list of fields",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a manifest",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version /manifest GET should return a manifest",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a list of attachments",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version /attachments should return a list of attachments",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an attachment",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version /attachments should return an attachment",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make additional form schemas for a form with unchanged fields",
      "fullTitle": "api: /projects/:id/forms (versions) intermediate form schema should not make additional form schemas for a form with unchanged fields",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should make additional form schema when fields change",
      "fullTitle": "api: /projects/:id/forms (versions) intermediate form schema should make additional form schema when fields change",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 254,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "odk2geojson_helper_point()",
      "fullTitle": "db: geodata parsing functions odk2geojson_helper_point()",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 137,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "odk2geojson_helper_linestring",
      "fullTitle": "db: geodata parsing functions odk2geojson_helper_linestring",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "odk2geojson_helper_polygon",
      "fullTitle": "db: geodata parsing functions odk2geojson_helper_polygon",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "odk2geojson_ducktyped",
      "fullTitle": "db: geodata parsing functions odk2geojson_ducktyped",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "individual submission geodata is available (default field)",
      "fullTitle": "api: individual submission geodata individual submission geodata is available (default field)",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "when a submission is edited, the geodata of the edit appears under the editee instanceID",
      "fullTitle": "api: individual submission geodata when a submission is edited, the geodata of the edit appears under the editee instanceID",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "when a submission is edited, the geodata of the editee appears as a version of the submission",
      "fullTitle": "api: individual submission geodata when a submission is edited, the geodata of the editee appears as a version of the submission",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 120,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "when a submission is edited, the geodata of the edits appears as a versions of the submission",
      "fullTitle": "api: individual submission geodata when a submission is edited, the geodata of the edits appears as a versions of the submission",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "form upload creates geofield-descriptors",
      "fullTitle": "api: submission-geodata form upload creates geofield-descriptors",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "geo-submission is accessible via GeoJSON API (default field)",
      "fullTitle": "api: submission-geodata geo-submission is accessible via GeoJSON API (default field)",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "submission post creates geoextracts of all types ((multi)point, (multi)linestring, (multi)polygon)), retrievable using fieldpath query parameter",
      "fullTitle": "api: submission-geodata submission post creates geoextracts of all types ((multi)point, (multi)linestring, (multi)polygon)), retrievable using fieldpath query parameter",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "submissionID filter does its job",
      "fullTitle": "api: submission-geodata submissionID filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "fieldPath filter accepts no more than 1 query parameter",
      "fullTitle": "api: submission-geodata fieldPath filter accepts no more than 1 query parameter",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "submitterId filter does its job",
      "fullTitle": "api: submission-geodata submitterId filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "reviewState filter does its job",
      "fullTitle": "api: submission-geodata reviewState filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deleted filter does its job",
      "fullTitle": "api: submission-geodata deleted filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "resultset limiter does its job",
      "fullTitle": "api: submission-geodata resultset limiter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "timerange filter does its job",
      "fullTitle": "api: submission-geodata timerange filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "individual entity geodata is available",
      "fullTitle": "api: individual entity geodata individual entity geodata is available",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should serve valid (and not invalid) geodata for entities",
      "fullTitle": "api: entities-geodata should serve valid (and not invalid) geodata for entities",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "creatorId filter does its job",
      "fullTitle": "api: entities-geodata creatorId filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "entityUUID filter does its job",
      "fullTitle": "api: entities-geodata entityUUID filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "timerange filter does its job",
      "fullTitle": "api: entities-geodata timerange filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deletion filter does its job",
      "fullTitle": "api: entities-geodata deletion filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "resultset limiter does its job",
      "fullTitle": "api: entities-geodata resultset limiter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 205,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "Attribute label filter does its job",
      "fullTitle": "api: entities-geodata Attribute label filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 236,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "conflict status filter does its job",
      "fullTitle": "api: entities-geodata conflict status filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 218,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mix fields and geotypes for default field from form with different versions",
      "fullTitle": "api: entities-geodata should mix fields and geotypes for default field from form with different versions",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should use root instance ID for edited submission",
      "fullTitle": "api: entities-geodata should use root instance ID for edited submission",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return all entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entity data that matches spec",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return entity data that matches spec",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 358,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count of entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return count of entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 372,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count of entities not the entity_defs",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return count of entities not the entity_defs",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 307,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count of filtered entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return count of filtered entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 312,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only second entity",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return only second entity",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 307,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return nextURL",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return nextURL",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 317,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
        "message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D'",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata-entities.js:236:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata-entities.js:229:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should not duplicate or skip entities - opaque cursor",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should not duplicate or skip entities - opaque cursor",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 269,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
        "message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D'",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata-entities.js:258:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata-entities.js:250:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should not return deleted entities - opaque cursor",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should not return deleted entities - opaque cursor",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 354,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
        "message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D'",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata-entities.js:297:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata-entities.js:288:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should return filtered entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return filtered entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 405,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow filtering by UUID",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should allow filtering by UUID",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 302,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only searched entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return only searched entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 261,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only searched and filtered entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return only searched and filtered entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 276,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only searched entities with pagination",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return only searched entities with pagination",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 326,
      "currentRetry": 0,
      "err": {
        "stack": "TypeError: Invalid URL\n    at new URL (node:internal/url:827:25)\n    at Request.request (node_modules/superagent/lib/node/index.js:678:15)\n    at Request.end (node_modules/superagent/lib/node/index.js:909:8)\n    at Test.end (node_modules/supertest/lib/test.js:136:11)\n    at /usr/odk/node_modules/superagent/lib/request-base.js:265:12\n    at new Promise (<anonymous>)\n    at RequestBase.then (node_modules/superagent/lib/request-base.js:249:31)\n    at Context.<anonymous> (test/integration/api/odata-entities.js:472:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "message": "Invalid URL",
        "code": "ERR_INVALID_URL",
        "input": "http://127.0.0.1:36005https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24search=john&%24skiptoken=01eyJ1dWlkIjoiMmRjOWJmODUtNzRiZC00NzM3LWIzMzktNGFkN2RhNTk1ZmE5In0%3D"
      }
    },
    {
      "title": "should filter by conflict status",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should filter by conflict status",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 366,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT filter by label",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should NOT filter by label",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 265,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT filter by name/uuid",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should NOT filter by name/uuid",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return filtered entities with pagination",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return filtered entities with pagination",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 299,
      "currentRetry": 0,
      "err": {
        "stack": "TypeError: Invalid URL\n    at new URL (node:internal/url:827:25)\n    at Request.request (node_modules/superagent/lib/node/index.js:678:15)\n    at Request.end (node_modules/superagent/lib/node/index.js:909:8)\n    at Test.end (node_modules/supertest/lib/test.js:136:11)\n    at /usr/odk/node_modules/superagent/lib/request-base.js:265:12\n    at new Promise (<anonymous>)\n    at RequestBase.then (node_modules/superagent/lib/request-base.js:249:31)\n    at Context.<anonymous> (test/integration/api/odata-entities.js:564:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "message": "Invalid URL",
        "code": "ERR_INVALID_URL",
        "input": "http://127.0.0.1:46447https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24filter=__system%2FcreatorId+eq+6&%24skiptoken=01eyJ1dWlkIjoiZTRmODcxZGItYTY5ZS00NTA5LWI4ZWYtYzU3YmYzNzRkZTk1In0%3D"
      }
    },
    {
      "title": "should throw error if filter criterion is invalid",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should throw error if filter criterion is invalid",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 310,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return selected properties only",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return selected properties only",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 138,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return selected user-defined only",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return selected user-defined only",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 275,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return update count and updatedAt",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return update count and updatedAt",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 378,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by updatedAt",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should filter by updatedAt",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 340,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities in specified order",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return entities in specified order",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 306,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities with order specified in multiple clauses",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return entities with order specified in multiple clauses",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 381,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities in stable order",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return entities in stable order",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 454,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return sorted null values in the correct order",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return sorted null values in the correct order",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 391,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return sorted null values in the correct order in any clause",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return sorted null values in the correct order in any clause",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 481,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine orderby with other filters",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should combine orderby with other filters",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 476,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if orderby used with skiptoken",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should reject if orderby used with skiptoken",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 334,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support equality with standard notation",
      "fullTitle": "api: /datasets/:name.svc GET /Entities filtering deleted entities should support equality with standard notation",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 361,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support equality with yoda notation",
      "fullTitle": "api: /datasets/:name.svc GET /Entities filtering deleted entities should support equality with yoda notation",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 379,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support inequality with standard notation",
      "fullTitle": "api: /datasets/:name.svc GET /Entities filtering deleted entities should support inequality with standard notation",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 397,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support inequality with yoda notation",
      "fullTitle": "api: /datasets/:name.svc GET /Entities filtering deleted entities should support inequality with yoda notation",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 385,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return service document",
      "fullTitle": "api: /datasets/:name.svc GET service document should return service document",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 263,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Entities\"\n      \"url\": \"Entities\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/datasets/people.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Entities\"\n      \"url\": \"Entities\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/datasets/people.svc/$metadata",
            "value": [
              {
                "name": "Entities",
                "kind": "EntitySet",
                "url": "Entities"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata",
              "value": [
                {
                  "name": "Entities",
                  "kind": "EntitySet",
                  "url": "Entities"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata-entities.js:910:26\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata-entities.js:907:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return metadata document",
      "fullTitle": "api: /datasets/:name.svc GET service document should return metadata document",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the form exists",
      "fullTitle": "api: /forms/:id.svc GET should reject unless the form exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form is published",
      "fullTitle": "api: /forms/:id.svc GET should reject unless the form is published",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an OData service document",
      "fullTitle": "api: /forms/:id.svc GET should return an OData service document",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.children.child\"\n      \"url\": \"Submissions.children.child\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.children.child\"\n      \"url\": \"Submissions.children.child\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata",
            "value": [
              {
                "name": "Submissions",
                "kind": "EntitySet",
                "url": "Submissions"
              },
              {
                "name": "Submissions.children.child",
                "kind": "EntitySet",
                "url": "Submissions.children.child"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata",
              "value": [
                {
                  "name": "Submissions",
                  "kind": "EntitySet",
                  "url": "Submissions"
                },
                {
                  "name": "Submissions.children.child",
                  "kind": "EntitySet",
                  "url": "Submissions.children.child"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:50:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should set the appropriate response headers",
      "fullTitle": "api: /forms/:id.svc GET should set the appropriate response headers",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form exists",
      "fullTitle": "api: /forms/:id.svc /$metadata GET should reject unless the form exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form is published",
      "fullTitle": "api: /forms/:id.svc /$metadata GET should reject unless the form is published",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /$metadata GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an EDMX metadata document",
      "fullTitle": "api: /forms/:id.svc /$metadata GET should return an EDMX metadata document",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form exists",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should reject unless the form exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission does not exist",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should reject if the submission does not exist",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the submission has been soft-deleted",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should reject if the submission has been soft-deleted",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a single row result",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single row result",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 108,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "double"
                },
                "name": "Vick",
                "children": {
                  "child@odata.navigationLink": "Submissions('double')/children/child"
                },
                "__id": "double",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": "testid",
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "double",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": "testid",
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "children": {
                    "child@odata.navigationLink": "Submissions('double')/children/child"
                  },
                  "meta": {
                    "instanceID": "double"
                  },
                  "name": "Vick"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:152:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return success if \"uuid:\" prefix is encoded",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return success if \"uuid:\" prefix is encoded",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an accurate edit count",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return an accurate edit count",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a single encrypted frame (no formdata)",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single encrypted frame (no formdata)",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 80,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 2,
                  "status": "missingEncryptedFormData",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 2,
                    "status": "missingEncryptedFormData",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:222:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single encrypted frame (has formdata)",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single encrypted frame (has formdata)",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 89,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 1,
                  "attachmentsExpected": 2,
                  "status": "notDecrypted",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 1,
                    "attachmentsExpected": 2,
                    "status": "notDecrypted",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:261:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 74,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"46ebf42ee83ddec5028c42b2c054402d1e700208\"\n      \"name\": \"Alice\"\n      \"toys\": {}\n    }\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy\"\n      }\n    }\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"8954b393f82c1833abb19be08a3d6cb382171f54\"\n      \"name\": \"Chelsea\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('8954b393f82c1833abb19be08a3d6cb382171f54')/toys/toy\"\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      toys: Object {},\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      },\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double',\n      name: 'Alice',\n      toys: Object {}\n    },\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double',\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"46ebf42ee83ddec5028c42b2c054402d1e700208\"\n      \"name\": \"Alice\"\n      \"toys\": {}\n    }\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy\"\n      }\n    }\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"8954b393f82c1833abb19be08a3d6cb382171f54\"\n      \"name\": \"Chelsea\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('8954b393f82c1833abb19be08a3d6cb382171f54')/toys/toy\"\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Alice",
                "toys": {},
                "__id": "46ebf42ee83ddec5028c42b2c054402d1e700208",
                "__Submissions-id": "double"
              },
              {
                "name": "Bob",
                "toys": {
                  "toy@odata.navigationLink": "Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy"
                },
                "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                "__Submissions-id": "double"
              },
              {
                "name": "Chelsea",
                "toys": {
                  "toy@odata.navigationLink": "Submissions('double')/children/child('8954b393f82c1833abb19be08a3d6cb382171f54')/toys/toy"
                },
                "__id": "8954b393f82c1833abb19be08a3d6cb382171f54",
                "__Submissions-id": "double"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "46ebf42ee83ddec5028c42b2c054402d1e700208",
                  "__Submissions-id": "double",
                  "name": "Alice",
                  "toys": {}
                },
                {
                  "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                  "__Submissions-id": "double",
                  "name": "Bob",
                  "toys": {
                    "toy@odata.navigationLink": "Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy"
                  }
                },
                {
                  "__id": "8954b393f82c1833abb19be08a3d6cb382171f54",
                  "__Submissions-id": "double",
                  "name": "Chelsea",
                  "toys": {
                    "toy@odata.navigationLink": "Submissions('double')/children/child('8954b393f82c1833abb19be08a3d6cb382171f54')/toys/toy"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      toys: Object {},\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      },\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double',\n      name: 'Alice',\n      toys: Object {}\n    },\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double',\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:288:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      toys: Object {},\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      },\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double',\n      name: 'Alice',\n      toys: Object {}\n    },\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double',\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and offset subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should limit and offset subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 83,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.nextLink\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions('double')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy\"\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.nextLink\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions('double')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy\"\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Bob",
                "toys": {
                  "toy@odata.navigationLink": "Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy"
                },
                "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                "__Submissions-id": "double"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
            "@odata.nextLink": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions('double')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "@odata.nextLink": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions('double')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D",
              "value": [
                {
                  "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                  "__Submissions-id": "double",
                  "name": "Bob",
                  "toys": {
                    "toy@odata.navigationLink": "Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:318:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return just a count if asked",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return just a count if asked",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 75,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.count\": 3\n  \"value\": []\n}",
        "message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3,\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.count\": 3\n  \"value\": []\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
            "@odata.count": 3
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "@odata.count": 3,
              "value": []
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3,\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:338:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3,\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should gracefully degrade on encrypted subtables",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should gracefully degrade on encrypted subtables",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 95,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": []\n}",
        "message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": []\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "value": []
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:362:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return mixed encoded/decoded URLs as supplied",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return mixed encoded/decoded URLs as supplied",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 92,
      "currentRetry": 0,
      "err": {
        "operator": "to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}",
        "previous": {
          "operator": "to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
          "previous": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
            "negate": false,
            "assertion": {
              "obj": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
              "anyOne": false,
              "negate": false,
              "params": {
                "operator": "to be",
                "expected": "http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
                "showDiff": true,
                "actual": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
                "negate": false,
                "assertion": "[object Object]"
              },
              "light": false
            },
            "_message": "expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
            "generatedMessage": true
          },
          "actual": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
          "negate": false,
          "assertion": {
            "obj": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
            "anyOne": false,
            "negate": false,
            "params": {
              "operator": "to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
              "previous": "AssertionError: expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
              "actual": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
              "negate": false,
              "assertion": "[object Object]"
            },
            "light": false
          },
          "_message": "expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
          "generatedMessage": true
        },
        "actual": {
          "value": [
            {
              "meta": {
                "instanceID": "uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4"
              },
              "name": "Vick",
              "children": {
                "child@odata.navigationLink": "Submissions('uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4')/children/child"
              },
              "__id": "uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4",
              "__system": {
                "submissionDate": "2026-01-13T04:31:34.449Z",
                "updatedAt": null,
                "submitterId": "5",
                "submitterName": "Alice",
                "attachmentsPresent": 0,
                "attachmentsExpected": 0,
                "status": null,
                "reviewState": null,
                "deviceId": null,
                "edits": 0,
                "formVersion": "1.0",
                "deletedAt": null
              }
            }
          ],
          "@odata.context": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions"
        },
        "negate": false,
        "assertion": {
          "obj": "[object Object]",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}",
            "previous": "AssertionError: expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      },\n      __id: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4',\n      __system: Object {\n        submissionDate: '2026-01-13T04:31:34.449Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n} to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n        expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      },\n      __id: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4',\n      __system: Object {\n        submissionDate: '2026-01-13T04:31:34.449Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n} to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n        expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value [as containDeep] (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:390:31\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      },\n      __id: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4',\n      __system: Object {\n        submissionDate: '2026-01-13T04:31:34.449Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n} to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n        expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single row result with all properties",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single row result with all properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 81,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "double"
                },
                "name": "Vick",
                "children": {
                  "child@odata.navigationLink": "Submissions('double')/children/child"
                },
                "__id": "double",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": "testid",
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "double",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": "testid",
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "children": {
                    "child@odata.navigationLink": "Submissions('double')/children/child"
                  },
                  "meta": {
                    "instanceID": "double"
                  },
                  "name": "Vick"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:416:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single row result with selected properties",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single row result with selected properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 83,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"status\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object { status: null }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object { status: null },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"status\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "double"
                },
                "name": "Vick",
                "children": {
                  "child@odata.navigationLink": "Submissions('double')/children/child"
                },
                "__id": "double",
                "__system": {
                  "status": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "double",
                  "__system": {
                    "status": null
                  },
                  "children": {
                    "child@odata.navigationLink": "Submissions('double')/children/child"
                  },
                  "meta": {
                    "instanceID": "double"
                  },
                  "name": "Vick"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object { status: null }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object { status: null },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:452:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object { status: null }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object { status: null },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single row result with all system properties",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single row result with all system properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 77,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": "testid",
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": "testid",
                    "edits": 0,
                    "formVersion": "1.0"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:478:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable results with selected properties",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return subtable results with selected properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 75,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy\"\n  \"value\": [\n    {\n      \"name\": \"Rainbow Dash\"\n    }\n    {\n      \"name\": \"Rarity\"\n    }\n    {\n      \"name\": \"Fluttershy\"\n    }\n    {\n      \"name\": \"Princess Luna\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy',\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy\"\n  \"value\": [\n    {\n      \"name\": \"Rainbow Dash\"\n    }\n    {\n      \"name\": \"Rarity\"\n    }\n    {\n      \"name\": \"Fluttershy\"\n    }\n    {\n      \"name\": \"Princess Luna\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Rainbow Dash"
              },
              {
                "name": "Rarity"
              },
              {
                "name": "Fluttershy"
              },
              {
                "name": "Princess Luna"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy",
              "value": [
                {
                  "name": "Rainbow Dash"
                },
                {
                  "name": "Rarity"
                },
                {
                  "name": "Fluttershy"
                },
                {
                  "name": "Princess Luna"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy',\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:504:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy',\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy')",
        "generatedMessage": true
      }
    },
    {
      "title": "should not return parent IDs if __id is selected",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should not return parent IDs if __id is selected",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 99,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__id\": \"46ebf42ee83ddec5028c42b2c054402d1e700208\"\n      \"name\": \"Alice\"\n    }\n    {\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"8954b393f82c1833abb19be08a3d6cb382171f54\"\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208'\n    },\n    Object { name: 'Bob', __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d' },\n    Object {\n      name: 'Chelsea',\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      name: 'Alice'\n    },\n    Object { __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d', name: 'Bob' },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      name: 'Chelsea'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__id\": \"46ebf42ee83ddec5028c42b2c054402d1e700208\"\n      \"name\": \"Alice\"\n    }\n    {\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"8954b393f82c1833abb19be08a3d6cb382171f54\"\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Alice",
                "__id": "46ebf42ee83ddec5028c42b2c054402d1e700208"
              },
              {
                "name": "Bob",
                "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d"
              },
              {
                "name": "Chelsea",
                "__id": "8954b393f82c1833abb19be08a3d6cb382171f54"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "46ebf42ee83ddec5028c42b2c054402d1e700208",
                  "name": "Alice"
                },
                {
                  "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                  "name": "Bob"
                },
                {
                  "__id": "8954b393f82c1833abb19be08a3d6cb382171f54",
                  "name": "Chelsea"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208'\n    },\n    Object { name: 'Bob', __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d' },\n    Object {\n      name: 'Chelsea',\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      name: 'Alice'\n    },\n    Object { __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d', name: 'Bob' },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      name: 'Chelsea'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:523:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208'\n    },\n    Object { name: 'Bob', __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d' },\n    Object {\n      name: 'Chelsea',\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      name: 'Alice'\n    },\n    Object { __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d', name: 'Bob' },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      name: 'Chelsea'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return only parent ID",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return only parent ID",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 128,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the form exists",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject unless the form exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form is published",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject unless the form is published",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return toplevel rows",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return toplevel rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 82,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                },
                {
                  "__id": "rtwo",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                },
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:592:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should exclude a deleted submission from rows",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should exclude a deleted submission from rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 240,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rtwo",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                },
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:670:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return deleted submission",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return deleted submission",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 223,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0"
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:730:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a count even if there are no rows",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return a count even if there are no rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 190,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 230,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rthree\"\n      \"__id\": \"32809ae2b3dc404ea292205eb884b21fa4e9acc5\"\n      \"age\": 2\n      \"name\": \"Candace\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      age: 2,\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree'\n    },\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree',\n      name: 'Candace',\n      age: 2\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rthree\"\n      \"__id\": \"32809ae2b3dc404ea292205eb884b21fa4e9acc5\"\n      \"age\": 2\n      \"name\": \"Candace\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Candace",
                "age": 2,
                "__id": "32809ae2b3dc404ea292205eb884b21fa4e9acc5",
                "__Submissions-id": "rthree"
              },
              {
                "name": "Billy",
                "age": 4,
                "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                "__Submissions-id": "rtwo"
              },
              {
                "name": "Blaine",
                "age": 6,
                "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                "__Submissions-id": "rtwo"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "32809ae2b3dc404ea292205eb884b21fa4e9acc5",
                  "__Submissions-id": "rthree",
                  "name": "Candace",
                  "age": 2
                },
                {
                  "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                  "__Submissions-id": "rtwo",
                  "name": "Billy",
                  "age": 4
                },
                {
                  "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                  "__Submissions-id": "rtwo",
                  "name": "Blaine",
                  "age": 6
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      age: 2,\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree'\n    },\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree',\n      name: 'Candace',\n      age: 2\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:769:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      age: 2,\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree'\n    },\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree',\n      name: 'Candace',\n      age: 2\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and offset toplevel rows",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and offset toplevel rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 233,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"@odata.nextLink\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"@odata.nextLink\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
            "@odata.nextLink": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "@odata.nextLink": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
              "value": [
                {
                  "__id": "rtwo",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:796:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit Submissions",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit Submissions",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 225,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:839:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:832:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should ignore $skip when $skipToken is given",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should ignore $skip when $skipToken is given",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 219,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:858:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:846:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'",
        "generatedMessage": true
      }
    },
    {
      "title": "should have no impact on skipToken when a new submission is created",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should have no impact on skipToken when a new submission is created",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 216,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:888:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:875:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'",
        "generatedMessage": true
      }
    },
    {
      "title": "should support $skiptoken even if associated submission is deleted",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should support $skiptoken even if associated submission is deleted",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return no submissions if $skiptoken instanceId does not exist",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return no submissions if $skiptoken instanceId does not exist",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 211,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return duplicate submissions if $skiptoken instanceId is reused",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should not return duplicate submissions if $skiptoken instanceId is reused",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 307,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a matching submission whose id is after that of $skiptoken submission",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return a matching submission whose id is after that of $skiptoken submission",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 224,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should limit and filter Submissions",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and filter Submissions",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 224,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1028:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1021:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and return selected fields of Submissions",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and return selected fields of Submissions",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 235,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1041:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1035:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should provide toplevel row count if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should provide toplevel row count if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 227,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"@odata.count\": 3\n  \"@odata.nextLink\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3,\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"@odata.count\": 3\n  \"@odata.nextLink\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
            "@odata.nextLink": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "@odata.count": 3
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "@odata.nextLink": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
              "@odata.count": 3,
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3,\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1052:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3,\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return id-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return id-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 262,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1106:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return submitter-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return submitter-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 250,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                },
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1213:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return submissionDate-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return submissionDate-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 202,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submissionDate\": \"2010-06-01T00:00:00.000Z\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submissionDate\": \"2010-06-01T00:00:00.000Z\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "submissionDate": "2010-06-01T00:00:00.000Z",
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rone",
                  "__system": {
                    "submissionDate": "2010-06-01T00:00:00.000Z",
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1275:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should only return submissions with submissionDate gt provided timestamp",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should only return submissions with submissionDate gt provided timestamp",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 227,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return submissionDate-filtered toplevel rows with a function",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return submissionDate-filtered toplevel rows with a function",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 218,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submissionDate\": \"2010-06-01T00:00:00.000Z\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submissionDate\": \"2010-06-01T00:00:00.000Z\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "submissionDate": "2010-06-01T00:00:00.000Z",
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rone",
                  "__system": {
                    "submissionDate": "2010-06-01T00:00:00.000Z",
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1345:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return updatedAt-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return updatedAt-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 216,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1388:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return reviewState-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return reviewState-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 213,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": \"rejected\"\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": \"rejected\"\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": "rejected",
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rtwo",
                  "__system": {
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": "rejected",
                    "deviceId": null,
                    "edits": 0,
                    "deletedAt": null,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1435:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter toplevel rows by $root expression",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should filter toplevel rows by $root expression",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 215,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": \"rejected\"\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": \"rejected\"\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": "rejected",
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rtwo",
                  "__system": {
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": "rejected",
                    "deviceId": null,
                    "edits": 0,
                    "deletedAt": null,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1477:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1468:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should count correctly while windowing",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should count correctly while windowing",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 254,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count correctly while filtering",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should count correctly while filtering",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 273,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count correctly while filtering and windowing",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should count correctly while filtering and windowing",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 218,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return encrypted frames (no formdata)",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return encrypted frames (no formdata)",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 221,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:99b303d9-6494-477b-a30d-d8aae8867335\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:99b303d9-6494-477b-a30d-d8aae8867335\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__id": "uuid:99b303d9-6494-477b-a30d-d8aae8867335",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 2,
                  "status": "missingEncryptedFormData",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              },
              {
                "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 2,
                  "status": "missingEncryptedFormData",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "uuid:99b303d9-6494-477b-a30d-d8aae8867335",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 2,
                    "status": "missingEncryptedFormData",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                },
                {
                  "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 2,
                    "status": "missingEncryptedFormData",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1738:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return encrypted frames (has formdata)",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return encrypted frames (has formdata)",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 240,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:99b303d9-6494-477b-a30d-d8aae8867335\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:99b303d9-6494-477b-a30d-d8aae8867335\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__id": "uuid:99b303d9-6494-477b-a30d-d8aae8867335",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 1,
                  "attachmentsExpected": 2,
                  "status": "notDecrypted",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              },
              {
                "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 1,
                  "attachmentsExpected": 2,
                  "status": "notDecrypted",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "uuid:99b303d9-6494-477b-a30d-d8aae8867335",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 1,
                    "attachmentsExpected": 2,
                    "status": "notDecrypted",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                },
                {
                  "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 1,
                    "attachmentsExpected": 2,
                    "status": "notDecrypted",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1800:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and offset subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and offset subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 236,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.nextLink\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.nextLink\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Billy",
                "age": 4,
                "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                "__Submissions-id": "rtwo"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
            "@odata.nextLink": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "@odata.nextLink": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
              "value": [
                {
                  "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                  "__Submissions-id": "rtwo",
                  "name": "Billy",
                  "age": 4
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1843:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject if subtable filtering criterion is non-root",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject if subtable filtering criterion is non-root",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 248,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should filter subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 94,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Billy",
                "age": 4,
                "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                "__Submissions-id": "rtwo"
              },
              {
                "name": "Blaine",
                "age": 6,
                "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                "__Submissions-id": "rtwo"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                  "__Submissions-id": "rtwo",
                  "name": "Billy",
                  "age": 4
                },
                {
                  "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                  "__Submissions-id": "rtwo",
                  "name": "Blaine",
                  "age": 6
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1877:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1874:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter and paginate subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should filter and paginate subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 202,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Blaine",
                "age": 6,
                "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                "__Submissions-id": "rtwo"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                  "__Submissions-id": "rtwo",
                  "name": "Blaine",
                  "age": 6
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1904:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1901:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should count correctly while filtering and windowing subtable",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should count correctly while filtering and windowing subtable",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 217,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should limit subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 227,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1938:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1933:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject unmatched repeatId",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject unmatched repeatId",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 267,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1959:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1954:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and filter subtable",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and filter subtable",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 290,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1983:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1979:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable from deleted submissions",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return subtable from deleted submissions",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 230,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should gracefully degrade on encrypted subtables",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should gracefully degrade on encrypted subtables",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 228,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": []\n}",
        "message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  value: Array [],\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": []\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "value": [],
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  value: Array [],\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2025:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  value: Array [],\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return toplevel rows with selected properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return toplevel rows with selected properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 210,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object { name: 'Chelsea', __id: 'rthree' },\n    Object { name: 'Bob', __id: 'rtwo' },\n    Object { name: 'Alice', __id: 'rone' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { __id: 'rthree', name: 'Chelsea' },\n    Object { __id: 'rtwo', name: 'Bob' },\n    Object { __id: 'rone', name: 'Alice' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Chelsea",
                "__id": "rthree"
              },
              {
                "name": "Bob",
                "__id": "rtwo"
              },
              {
                "name": "Alice",
                "__id": "rone"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "name": "Chelsea"
                },
                {
                  "__id": "rtwo",
                  "name": "Bob"
                },
                {
                  "__id": "rone",
                  "name": "Alice"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object { name: 'Chelsea', __id: 'rthree' },\n    Object { name: 'Bob', __id: 'rtwo' },\n    Object { name: 'Alice', __id: 'rone' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { __id: 'rthree', name: 'Chelsea' },\n    Object { __id: 'rtwo', name: 'Bob' },\n    Object { __id: 'rone', name: 'Alice' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2036:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object { name: 'Chelsea', __id: 'rthree' },\n    Object { name: 'Bob', __id: 'rtwo' },\n    Object { name: 'Alice', __id: 'rone' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { __id: 'rthree', name: 'Chelsea' },\n    Object { __id: 'rtwo', name: 'Bob' },\n    Object { __id: 'rone', name: 'Alice' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return toplevel rows with group properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return toplevel rows with group properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 242,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n    }\n    {\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n    }\n    {\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n    }\n    {\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n    }\n    {\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                }
              },
              {
                "meta": {
                  "instanceID": "rtwo"
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "meta": {
                    "instanceID": "rthree"
                  }
                },
                {
                  "meta": {
                    "instanceID": "rtwo"
                  }
                },
                {
                  "meta": {
                    "instanceID": "rone"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2057:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:2054:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return toplevel row with nested group properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return toplevel row with nested group properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 220,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"hospital\": {\n        \"hiv_medication\": {\n          \"have_hiv_medication\": \"Yes\"\n        }\n        \"name\": \"AKUH\"\n      }\n      \"text\": \"xyz\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"hospital\": {\n        \"hiv_medication\": {\n          \"have_hiv_medication\": \"Yes\"\n        }\n        \"name\": \"AKUH\"\n      }\n      \"text\": \"xyz\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "text": "xyz",
                "hospital": {
                  "name": "AKUH",
                  "hiv_medication": {
                    "have_hiv_medication": "Yes"
                  }
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions",
              "value": [
                {
                  "text": "xyz",
                  "hospital": {
                    "name": "AKUH",
                    "hiv_medication": {
                      "have_hiv_medication": "Yes"
                    }
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2084:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:2081:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable results with selected properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return subtable results with selected properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 234,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__id\": \"32809ae2b3dc404ea292205eb884b21fa4e9acc5\"\n      \"name\": \"Candace\"\n    }\n    {\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"name\": \"Billy\"\n    }\n    {\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5'\n    },\n    Object {\n      name: 'Billy',\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c'\n    },\n    Object {\n      name: 'Blaine',\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      name: 'Candace'\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      name: 'Billy'\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      name: 'Blaine'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__id\": \"32809ae2b3dc404ea292205eb884b21fa4e9acc5\"\n      \"name\": \"Candace\"\n    }\n    {\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"name\": \"Billy\"\n    }\n    {\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Candace",
                "__id": "32809ae2b3dc404ea292205eb884b21fa4e9acc5"
              },
              {
                "name": "Billy",
                "__id": "52eff9ea82550183880b9d64c20487642fa6e60c"
              },
              {
                "name": "Blaine",
                "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "32809ae2b3dc404ea292205eb884b21fa4e9acc5",
                  "name": "Candace"
                },
                {
                  "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                  "name": "Billy"
                },
                {
                  "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                  "name": "Blaine"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5'\n    },\n    Object {\n      name: 'Billy',\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c'\n    },\n    Object {\n      name: 'Blaine',\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      name: 'Candace'\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      name: 'Billy'\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      name: 'Blaine'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2106:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5'\n    },\n    Object {\n      name: 'Billy',\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c'\n    },\n    Object {\n      name: 'Blaine',\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      name: 'Candace'\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      name: 'Billy'\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      name: 'Blaine'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return only parent ID",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return only parent ID",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 255,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return subtable results with group properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return subtable results with group properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 238,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat\"\n  \"value\": [\n    {\n      \"address\": {\n        \"city\": \"Toronto\"\n        \"country\": \"Canada\"\n      }\n    }\n    {\n      \"address\": {\n        \"city\": \"New York\"\n        \"country\": \"US\"\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat',\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat\"\n  \"value\": [\n    {\n      \"address\": {\n        \"city\": \"Toronto\"\n        \"country\": \"Canada\"\n      }\n    }\n    {\n      \"address\": {\n        \"city\": \"New York\"\n        \"country\": \"US\"\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "address": {
                  "city": "Toronto",
                  "country": "Canada"
                }
              },
              {
                "address": {
                  "city": "New York",
                  "country": "US"
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat",
              "value": [
                {
                  "address": {
                    "city": "Toronto",
                    "country": "Canada"
                  }
                },
                {
                  "address": {
                    "city": "New York",
                    "country": "US"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat',\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2158:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:2155:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat',\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return results even when repeat name is not a valid OData name ",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return results even when repeat name is not a valid OData name ",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 272,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.q1_8_test\"\n      \"url\": \"Submissions.q1_8_test\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.q1_8_test\"\n      \"url\": \"Submissions.q1_8_test\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata",
            "value": [
              {
                "name": "Submissions",
                "kind": "EntitySet",
                "url": "Submissions"
              },
              {
                "name": "Submissions.q1_8_test",
                "kind": "EntitySet",
                "url": "Submissions.q1_8_test"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata",
              "value": [
                {
                  "name": "Submissions",
                  "kind": "EntitySet",
                  "url": "Submissions"
                },
                {
                  "name": "Submissions.q1_8_test",
                  "kind": "EntitySet",
                  "url": "Submissions.q1_8_test"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2225:26\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:2221:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return submissions in specified order",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET orderby should return submissions in specified order",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine orderby and other things like filtering",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET orderby should combine orderby and other things like filtering",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 249,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return null values at the correct end of list with orderby",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET orderby should return null values at the correct end of list with orderby",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 257,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if both orderby and skiptoken are used together",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET orderby should reject if both orderby and skiptoken are used together",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 203,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return not found if there is no draft",
      "fullTitle": "api: /forms/:id.svc /draft.svc GET should return not found if there is no draft",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 195,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /draft.svc GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an OData service document",
      "fullTitle": "api: /forms/:id.svc /draft.svc GET should return an OData service document",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 67,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata",
            "value": [
              {
                "name": "Submissions",
                "kind": "EntitySet",
                "url": "Submissions"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata",
              "value": [
                {
                  "name": "Submissions",
                  "kind": "EntitySet",
                  "url": "Submissions"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2305:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return the appropriate document for the draft",
      "fullTitle": "api: /forms/:id.svc /draft.svc GET should return the appropriate document for the draft",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 111,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.children.child\"\n      \"url\": \"Submissions.children.child\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.children.child\"\n      \"url\": \"Submissions.children.child\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata",
            "value": [
              {
                "name": "Submissions",
                "kind": "EntitySet",
                "url": "Submissions"
              },
              {
                "name": "Submissions.children.child",
                "kind": "EntitySet",
                "url": "Submissions.children.child"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata",
              "value": [
                {
                  "name": "Submissions",
                  "kind": "EntitySet",
                  "url": "Submissions"
                },
                {
                  "name": "Submissions.children.child",
                  "kind": "EntitySet",
                  "url": "Submissions.children.child"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2322:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject unless the draft exists",
      "fullTitle": "api: /forms/:id.svc /draft.svc /$metadata GET should reject unless the draft exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /draft.svc /$metadata GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an EDMX metadata document",
      "fullTitle": "api: /forms/:id.svc /draft.svc /$metadata GET should return an EDMX metadata document",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the appropriate document for the draft",
      "fullTitle": "api: /forms/:id.svc /draft.svc /$metadata GET should return the appropriate document for the draft",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the draft exists",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions('xyz') should reject unless the draft exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions('xyz') should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a single row result",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions('xyz') should return a single row result",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 83,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "double"
                },
                "name": "Vick",
                "children": {
                  "child@odata.navigationLink": "Submissions('double')/children/child"
                },
                "__id": "double",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "double",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "children": {
                    "child@odata.navigationLink": "Submissions('double')/children/child"
                  },
                  "meta": {
                    "instanceID": "double"
                  },
                  "name": "Vick"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2393:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should not return results from the published form",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions('xyz') should not return results from the published form",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the draft exists",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions.xyz should reject unless the draft exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions.xyz should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return toplevel rows",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions.xyz should return toplevel rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 96,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                },
                {
                  "__id": "rtwo",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                },
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2471:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should not return results from the published form",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions.xyz should not return results from the published form",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 627,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions\"\n  \"value\": []\n}",
        "message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions\"\n  \"value\": []\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions",
              "value": []
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2558:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should parse and save info from submission creating an entity",
      "fullTitle": "Offline Entities parsing branchId and trunkVersion from submission xml should parse and save info from submission creating an entity",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 725,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should parse and save branch info from sub updating an entity",
      "fullTitle": "Offline Entities parsing branchId and trunkVersion from submission xml should parse and save branch info from sub updating an entity",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 378,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ignore empty string trunkVersion and branchId values in update scenario",
      "fullTitle": "Offline Entities parsing branchId and trunkVersion from submission xml should ignore empty string trunkVersion and branchId values in update scenario",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 334,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log processing error if trunkVersion is set but branchId is not",
      "fullTitle": "Offline Entities parsing branchId and trunkVersion from submission xml should log processing error if trunkVersion is set but branchId is not",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 487,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should let multiple updates in the same branch get applied in order",
      "fullTitle": "Offline Entities offline branches submitted in order should let multiple updates in the same branch get applied in order",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply update branch in order after server version has advanced",
      "fullTitle": "Offline Entities offline branches submitted in order should apply update branch in order after server version has advanced",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 317,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle updating a branch in order, but with an interruption",
      "fullTitle": "Offline Entities offline branches submitted in order should handle updating a branch in order, but with an interruption",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 279,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle an offline branch that starts with a create",
      "fullTitle": "Offline Entities offline branches submitted in order should handle an offline branch that starts with a create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle offline create+update+update with interleaved online updates",
      "fullTitle": "Offline Entities offline branches submitted in order should handle offline create+update+update with interleaved online updates",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 276,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should quietly process submission without entity work if trunk and base versions are not good",
      "fullTitle": "Offline Entities out of order runs should quietly process submission without entity work if trunk and base versions are not good",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 139,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not apply out of order update from a run after starting a run",
      "fullTitle": "Offline Entities out of order runs should not apply out of order update from a run after starting a run",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 210,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not apply later trunkVersion (past existing server version)",
      "fullTitle": "Offline Entities out of order runs should not apply later trunkVersion (past existing server version)",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply later run received earlier",
      "fullTitle": "Offline Entities out of order runs should apply later run received earlier",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 209,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle offline update that comes before a create",
      "fullTitle": "Offline Entities out of order runs should handle offline update that comes before a create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 172,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle offline create/update that comes in backwards",
      "fullTitle": "Offline Entities out of order runs should handle offline create/update that comes in backwards",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an event when holding submission in backlog (force update)",
      "fullTitle": "Offline Entities out of order runs should log an event when holding submission in backlog (force update)",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an event when holding submission in backlog (force update-as-create, then create-as-update)",
      "fullTitle": "Offline Entities out of order runs should log an event when holding submission in backlog (force update-as-create, then create-as-update)",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 196,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should include submission.backlog.reprocess event in audit log of held submission",
      "fullTitle": "Offline Entities out of order runs should include submission.backlog.reprocess event in audit log of held submission",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 162,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not over-process a submission that is being held because it is later in a run",
      "fullTitle": "Offline Entities reprocessing submissions when toggling approvalRequired dataset flag should not over-process a submission that is being held because it is later in a run",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 280,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should wait for approval of create submission in offline branch",
      "fullTitle": "Offline Entities reprocessing submissions when toggling approvalRequired dataset flag should wait for approval of create submission in offline branch",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 260,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process update submission in backlog if approvalRequired is true",
      "fullTitle": "Offline Entities reprocessing submissions when toggling approvalRequired dataset flag should not process update submission in backlog if approvalRequired is true",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 171,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply an entity update when the previous update is missing",
      "fullTitle": "Offline Entities force-processing held submissions should apply an entity update when the previous update is missing",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 171,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply two updates when first upate is missing",
      "fullTitle": "Offline Entities force-processing held submissions should apply two updates when first upate is missing",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply an entity update as a create",
      "fullTitle": "Offline Entities force-processing held submissions should apply an entity update as a create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply an entity update as a create followed by another update",
      "fullTitle": "Offline Entities force-processing held submissions should apply an entity update as a create followed by another update",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply an entity update as a create, and then properly handle the delayed create as an update",
      "fullTitle": "Offline Entities force-processing held submissions should apply an entity update as a create, and then properly handle the delayed create as an update",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should verify that the create-as-update submission was parsed as a create even when applied as an update",
      "fullTitle": "Offline Entities force-processing held submissions should verify that the create-as-update submission was parsed as a create even when applied as an update",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission from over 7 days ago",
      "fullTitle": "Offline Entities force-processing held submissions only force-process submissions held in backlog for a certain amount of time should process a submission from over 7 days ago",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 153,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process a submission in a soft-deleted form",
      "fullTitle": "Offline Entities force-processing held submissions force-processing deleted submissions and entities should not process a submission in a soft-deleted form",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process a submission that has been soft-deleted",
      "fullTitle": "Offline Entities force-processing held submissions force-processing deleted submissions and entities should not process a submission that has been soft-deleted",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process a submission for an entity that has been soft-deleted",
      "fullTitle": "Offline Entities force-processing held submissions force-processing deleted submissions and entities should not process a submission for an entity that has been soft-deleted",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark an update that is not contiguous with its trunk version as a soft conflict",
      "fullTitle": "Offline Entities conflict cases should mark an update that is not contiguous with its trunk version as a soft conflict",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark an update that is not contiguous (due to force processing) as a soft conflict",
      "fullTitle": "Offline Entities conflict cases should mark an update that is not contiguous (due to force processing) as a soft conflict",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 222,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark an update that is not contiguous with its trunk version as a soft conflict on entity despite earlier conflict resolution",
      "fullTitle": "Offline Entities conflict cases should mark an update that is not contiguous with its trunk version as a soft conflict on entity despite earlier conflict resolution",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark an update that is not contiguous (from an offline create branch) as a soft conflict on entity despite earlier conflict resolution",
      "fullTitle": "Offline Entities conflict cases should mark an update that is not contiguous (from an offline create branch) as a soft conflict on entity despite earlier conflict resolution",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 250,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should check that interrupting version logic is doesnt flag non-conflicts as conflicts",
      "fullTitle": "Offline Entities conflict cases should check that interrupting version logic is doesnt flag non-conflicts as conflicts",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show proper conflict info on create applied as update",
      "fullTitle": "Offline Entities conflict cases should show proper conflict info on create applied as update",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show proper conflict info on create applied as update that is only a soft conflict",
      "fullTitle": "Offline Entities conflict cases should show proper conflict info on create applied as update that is only a soft conflict",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 208,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should concurrently process an offline create + update @slow",
      "fullTitle": "Offline Entities locking an entity while processing a related submission should concurrently process an offline create + update @slow",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 3035,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle two updates followed by delayed create",
      "fullTitle": "Offline Entities miscellaneous should handle two updates followed by delayed create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle update from sub and update from API followed by delayed create",
      "fullTitle": "Offline Entities miscellaneous should handle update from sub and update from API followed by delayed create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 215,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not exist",
      "fullTitle": "api: /oidc/... GET /oidc/login should not exist",
      "file": "/usr/odk/test/integration/api/oidc.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not exist",
      "fullTitle": "api: /oidc/... GET /oidc/callback should not exist",
      "file": "/usr/odk/test/integration/api/oidc.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 if not logged in",
      "fullTitle": "api: /projects GET should return 401 if not logged in",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return an empty array if the user has access to no projects",
      "fullTitle": "api: /projects GET should return an empty array if the user has access to no projects",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all projects for an administrator",
      "fullTitle": "api: /projects GET should return all projects for an administrator",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return only granted projects for a non-administrator",
      "fullTitle": "api: /projects GET should return only granted projects for a non-administrator",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should only return each project once even if multiply assigned",
      "fullTitle": "api: /projects GET should only return each project once even if multiply assigned",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the correct project verbs when multiply assigned",
      "fullTitle": "api: /projects GET should return the correct project verbs when multiply assigned",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should order projects appropriately",
      "fullTitle": "api: /projects GET should order projects appropriately",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return extended metadata if requested",
      "fullTitle": "api: /projects GET should return extended metadata if requested",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 122,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:116:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return extended metadata if requested",
      "fullTitle": "api: /projects GET should return extended metadata if requested",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 82,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 2 to be 1",
        "showDiff": true,
        "actual": "2",
        "negate": false,
        "assertion": {
          "obj": 2,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 2,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 2 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/projects.js:173:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 2 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should order extended metadata projects appropriately",
      "fullTitle": "api: /projects GET should order extended metadata projects appropriately",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 65,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 5 to be 4",
        "showDiff": true,
        "actual": "5",
        "negate": false,
        "assertion": {
          "obj": 5,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 5,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 5 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/projects.js:197:38\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 5 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject unless the user can create",
      "fullTitle": "api: /projects POST should reject unless the user can create",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless a name is provided",
      "fullTitle": "api: /projects POST should reject unless a name is provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create the given project",
      "fullTitle": "api: /projects POST should create the given project",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create the given project with a description",
      "fullTitle": "api: /projects POST should create the given project with a description",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create an audit log entry",
      "fullTitle": "api: /projects POST should create an audit log entry",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "api: /projects /:id GET should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if id is non-numeric",
      "fullTitle": "api: /projects /:id GET should reject if id is non-numeric",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if id is too big",
      "fullTitle": "api: /projects /:id GET should reject if id is too big",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if id is too small",
      "fullTitle": "api: /projects /:id GET should reject if id is too small",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects /:id GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the default project",
      "fullTitle": "api: /projects /:id GET should return the default project",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return extended metadata if requested",
      "fullTitle": "api: /projects /:id GET should return extended metadata if requested",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 57,
      "currentRetry": 0,
      "err": {
        "message": "expected '2026-01-13T04:32:02.218Z' to not exist",
        "stack": "AssertionError: expected '2026-01-13T04:32:02.218Z' to not exist\n    at /usr/odk/test/integration/api/projects.js:321:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/projects.js:314:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)"
      }
    },
    {
      "title": "should not count deleted app users",
      "fullTitle": "api: /projects /:id GET should not count deleted app users",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 56,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:367:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not return verb information unless extended meta data is requested",
      "fullTitle": "api: /projects /:id GET should not return verb information unless extended meta data is requested",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return verb information with extended metadata (alice)",
      "fullTitle": "api: /projects /:id GET should return verb information with extended metadata (alice)",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return verb information with extended metadata (bob)",
      "fullTitle": "api: /projects /:id GET should return verb information with extended metadata (bob)",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return verb information with extended metadata (data collector only)",
      "fullTitle": "api: /projects /:id GET should return verb information with extended metadata (data collector only)",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return verb information with extended metadata (chelsea with two roles)",
      "fullTitle": "api: /projects /:id GET should return verb information with extended metadata (chelsea with two roles)",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "api: /projects /:id PATCH should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can update",
      "fullTitle": "api: /projects /:id PATCH should reject unless the user can update",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a sensible error given a nonboolean value",
      "fullTitle": "api: /projects /:id PATCH should return a sensible error given a nonboolean value",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update the project details and return the new project data",
      "fullTitle": "api: /projects /:id PATCH should update the project details and return the new project data",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update the project description",
      "fullTitle": "api: /projects /:id PATCH should update the project description",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects /:id PATCH should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "api: /projects /:id DELETE should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can delete",
      "fullTitle": "api: /projects /:id DELETE should reject unless the user can delete",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the project",
      "fullTitle": "api: /projects /:id DELETE should delete the project",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 81,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[]",
        "message": "expected Array [\n  Object {\n    id: 7,\n    name: 'A Test Project',\n    description: null,\n    archived: null,\n    keyId: null,\n    createdAt: '2026-01-13T04:32:02.226Z',\n    updatedAt: null,\n    deletedAt: null,\n    verbs: Array [\n      'analytics.read',\n      'assignment.create',\n      'assignment.delete',\n      'assignment.list',\n      'audit.read',\n      'backup.run',\n      'config.read',\n      'config.set',\n      'dataset.create',\n      'dataset.list',\n      'dataset.read',\n      'dataset.update',\n      'entity.create',\n      'entity.delete',\n      'entity.list',\n      'entity.read',\n      'entity.restore',\n      'entity.update',\n      'field_key.create',\n      'field_key.delete',\n      'field_key.list',\n      'form.create',\n      'form.delete',\n      'form.list',\n      'form.read',\n      'form.restore',\n      'form.update',\n      'project.create',\n      'project.delete',\n      'project.read',\n      'project.update',\n      'public_link.create',\n      'public_link.delete',\n      'public_link.list',\n      'public_link.read',\n      'public_link.update',\n      'role.create',\n      'role.delete',\n      'role.update',\n      'session.end',\n      'submission.create',\n      'submission.delete',\n      'submission.list',\n      'submission.read',\n      'submission.restore',\n      'submission.update',\n      'user.create',\n      'user.delete',\n      'user.list',\n      'user.password.invalidate',\n      'user.read',\n      'user.update'\n    ]\n  }\n] to equal Array [] (at length, A has 1 and B has 0)",
        "details": "at length, A has 1 and B has 0",
        "showDiff": true,
        "actual": "[\n  {\n    \"archived\": [null]\n    \"createdAt\": \"2026-01-13T04:32:02.226Z\"\n    \"deletedAt\": [null]\n    \"description\": [null]\n    \"id\": 7\n    \"keyId\": [null]\n    \"name\": \"A Test Project\"\n    \"updatedAt\": [null]\n    \"verbs\": [\n      \"analytics.read\"\n      \"assignment.create\"\n      \"assignment.delete\"\n      \"assignment.list\"\n      \"audit.read\"\n      \"backup.run\"\n      \"config.read\"\n      \"config.set\"\n      \"dataset.create\"\n      \"dataset.list\"\n      \"dataset.read\"\n      \"dataset.update\"\n      \"entity.create\"\n      \"entity.delete\"\n      \"entity.list\"\n      \"entity.read\"\n      \"entity.restore\"\n      \"entity.update\"\n      \"field_key.create\"\n      \"field_key.delete\"\n      \"field_key.list\"\n      \"form.create\"\n      \"form.delete\"\n      \"form.list\"\n      \"form.read\"\n      \"form.restore\"\n      \"form.update\"\n      \"project.create\"\n      \"project.delete\"\n      \"project.read\"\n      \"project.update\"\n      \"public_link.create\"\n      \"public_link.delete\"\n      \"public_link.list\"\n      \"public_link.read\"\n      \"public_link.update\"\n      \"role.create\"\n      \"role.delete\"\n      \"role.update\"\n      \"session.end\"\n      \"submission.create\"\n      \"submission.delete\"\n      \"submission.list\"\n      \"submission.read\"\n      \"submission.restore\"\n      \"submission.update\"\n      \"user.create\"\n      \"user.delete\"\n      \"user.list\"\n      \"user.password.invalidate\"\n      \"user.read\"\n      \"user.update\"\n    ]\n  }\n]",
        "negate": false,
        "assertion": {
          "obj": [
            {
              "id": 7,
              "name": "A Test Project",
              "description": null,
              "archived": null,
              "keyId": null,
              "createdAt": "2026-01-13T04:32:02.226Z",
              "updatedAt": null,
              "deletedAt": null,
              "verbs": [
                "analytics.read",
                "assignment.create",
                "assignment.delete",
                "assignment.list",
                "audit.read",
                "backup.run",
                "config.read",
                "config.set",
                "dataset.create",
                "dataset.list",
                "dataset.read",
                "dataset.update",
                "entity.create",
                "entity.delete",
                "entity.list",
                "entity.read",
                "entity.restore",
                "entity.update",
                "field_key.create",
                "field_key.delete",
                "field_key.list",
                "form.create",
                "form.delete",
                "form.list",
                "form.read",
                "form.restore",
                "form.update",
                "project.create",
                "project.delete",
                "project.read",
                "project.update",
                "public_link.create",
                "public_link.delete",
                "public_link.list",
                "public_link.read",
                "public_link.update",
                "role.create",
                "role.delete",
                "role.update",
                "session.end",
                "submission.create",
                "submission.delete",
                "submission.list",
                "submission.read",
                "submission.restore",
                "submission.update",
                "user.create",
                "user.delete",
                "user.list",
                "user.password.invalidate",
                "user.read",
                "user.update"
              ]
            }
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [],
            "details": "at length, A has 1 and B has 0",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  Object {\n    id: 7,\n    name: 'A Test Project',\n    description: null,\n    archived: null,\n    keyId: null,\n    createdAt: '2026-01-13T04:32:02.226Z',\n    updatedAt: null,\n    deletedAt: null,\n    verbs: Array [\n      'analytics.read',\n      'assignment.create',\n      'assignment.delete',\n      'assignment.list',\n      'audit.read',\n      'backup.run',\n      'config.read',\n      'config.set',\n      'dataset.create',\n      'dataset.list',\n      'dataset.read',\n      'dataset.update',\n      'entity.create',\n      'entity.delete',\n      'entity.list',\n      'entity.read',\n      'entity.restore',\n      'entity.update',\n      'field_key.create',\n      'field_key.delete',\n      'field_key.list',\n      'form.create',\n      'form.delete',\n      'form.list',\n      'form.read',\n      'form.restore',\n      'form.update',\n      'project.create',\n      'project.delete',\n      'project.read',\n      'project.update',\n      'public_link.create',\n      'public_link.delete',\n      'public_link.list',\n      'public_link.read',\n      'public_link.update',\n      'role.create',\n      'role.delete',\n      'role.update',\n      'session.end',\n      'submission.create',\n      'submission.delete',\n      'submission.list',\n      'submission.read',\n      'submission.restore',\n      'submission.update',\n      'user.create',\n      'user.delete',\n      'user.list',\n      'user.password.invalidate',\n      'user.read',\n      'user.update'\n    ]\n  }\n] to equal Array [] (at length, A has 1 and B has 0)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/projects.js:565:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  Object {\n    id: 7,\n    name: 'A Test Project',\n    description: null,\n    archived: null,\n    keyId: null,\n    createdAt: '2026-01-13T04:32:02.226Z',\n    updatedAt: null,\n    deletedAt: null,\n    verbs: Array [\n      'analytics.read',\n      'assignment.create',\n      'assignment.delete',\n      'assignment.list',\n      'audit.read',\n      'backup.run',\n      'config.read',\n      'config.set',\n      'dataset.create',\n      'dataset.list',\n      'dataset.read',\n      'dataset.update',\n      'entity.create',\n      'entity.delete',\n      'entity.list',\n      'entity.read',\n      'entity.restore',\n      'entity.update',\n      'field_key.create',\n      'field_key.delete',\n      'field_key.list',\n      'form.create',\n      'form.delete',\n      'form.list',\n      'form.read',\n      'form.restore',\n      'form.update',\n      'project.create',\n      'project.delete',\n      'project.read',\n      'project.update',\n      'public_link.create',\n      'public_link.delete',\n      'public_link.list',\n      'public_link.read',\n      'public_link.update',\n      'role.create',\n      'role.delete',\n      'role.update',\n      'session.end',\n      'submission.create',\n      'submission.delete',\n      'submission.list',\n      'submission.read',\n      'submission.restore',\n      'submission.update',\n      'user.create',\n      'user.delete',\n      'user.list',\n      'user.password.invalidate',\n      'user.read',\n      'user.update'\n    ]\n  }\n] to equal Array [] (at length, A has 1 and B has 0)",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject if the user cannot update the project",
      "fullTitle": "api: /projects /:id/key POST should reject if the user cannot update the project",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if no passphrase is provided",
      "fullTitle": "api: /projects /:id/key POST should reject if no passphrase is provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if passphrase is too short",
      "fullTitle": "api: /projects /:id/key POST should reject if passphrase is too short",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if managed encryption is already active",
      "fullTitle": "api: /projects /:id/key POST should reject if managed encryption is already active",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a keyId if managed encryption is active",
      "fullTitle": "api: /projects /:id/key POST should return a keyId if managed encryption is active",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should modify extant forms",
      "fullTitle": "api: /projects /:id/key POST should modify extant forms",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 191,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not modify already-encrypted forms",
      "fullTitle": "api: /projects /:id/key POST should not modify already-encrypted forms",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 222,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should modify extant drafts",
      "fullTitle": "api: /projects /:id/key POST should modify extant drafts",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 202,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reuse the draft token and enketoId of an existing draft",
      "fullTitle": "api: /projects /:id/key POST should reuse the draft token and enketoId of an existing draft",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 251,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should modify only the draft if there is no published version",
      "fullTitle": "api: /projects /:id/key POST should modify only the draft if there is no published version",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 228,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the unneeded form defs being replaced when encrypted",
      "fullTitle": "api: /projects /:id/key POST should purge the unneeded form defs being replaced when encrypted",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 194,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should automatically enable subsequently created forms for encryption",
      "fullTitle": "api: /projects /:id/key POST should automatically enable subsequently created forms for encryption",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete draft submissions on project encryption",
      "fullTitle": "api: /projects /:id/key POST should delete draft submissions on project encryption",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 310,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not delete live submissions on project encryption",
      "fullTitle": "api: /projects /:id/key POST should not delete live submissions on project encryption",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 66,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at Context.<anonymous> (test/integration/api/projects.js:773:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects /:id/key POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not throw form warnings",
      "fullTitle": "api: /projects /:id/key POST should not throw form warnings",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 252,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "api: /projects /:id PUT should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can update",
      "fullTitle": "api: /projects /:id PUT should reject unless the user can update",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if a required project field is not provided",
      "fullTitle": "api: /projects /:id PUT should fail if a required project field is not provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update project information",
      "fullTitle": "api: /projects /:id PUT should update project information",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated data with the PUT",
      "fullTitle": "api: /projects /:id PUT should return updated data with the PUT",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects /:id PUT should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if the wrong number of forms is provided",
      "fullTitle": "api: /projects /:id PUT should fail if the wrong number of forms is provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if an unknown form is provided",
      "fullTitle": "api: /projects /:id PUT should fail if an unknown form is provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if the same form is provided twice",
      "fullTitle": "api: /projects /:id PUT should fail if the same form is provided twice",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if an invalid form state is given",
      "fullTitle": "api: /projects /:id PUT should fail if an invalid form state is given",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update form details",
      "fullTitle": "api: /projects /:id PUT should update form details",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow changing non-writable form details",
      "fullTitle": "api: /projects /:id PUT should not allow changing non-writable form details",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects /:id PUT should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the roleId is not given",
      "fullTitle": "api: /projects /:id PUT should reject if the roleId is not given",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 42,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1019:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject if the roleId is not recognized",
      "fullTitle": "api: /projects /:id PUT should reject if the roleId is not recognized",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1039:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject if the actorId is not given",
      "fullTitle": "api: /projects /:id PUT should reject if the actorId is not given",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the actorId is not recognized",
      "fullTitle": "api: /projects /:id PUT should reject if the actorId is not recognized",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user lacks the verbs to be granted",
      "fullTitle": "api: /projects /:id PUT should reject if the user lacks the verbs to be granted",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1107:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should create the requested assignments",
      "fullTitle": "api: /projects /:id PUT should create the requested assignments",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1131:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should log the creation action in the audit log",
      "fullTitle": "api: /projects /:id PUT should log the creation action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 46,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1173:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete the requested assignments",
      "fullTitle": "api: /projects /:id PUT should delete the requested assignments",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 48,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1209:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not delete enketo formviewer assignments",
      "fullTitle": "api: /projects /:id PUT should not delete enketo formviewer assignments",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 54,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1242:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not delete public link assignments",
      "fullTitle": "api: /projects /:id PUT should not delete public link assignments",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the deletion action in the audit log",
      "fullTitle": "api: /projects /:id PUT should log the deletion action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1317:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should leave assignments alone if no array is given",
      "fullTitle": "api: /projects /:id PUT should leave assignments alone if no array is given",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1351:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should leave assignments alone if there is no change",
      "fullTitle": "api: /projects /:id PUT should leave assignments alone if there is no change",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1377:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return the correct projects with the correct verbs",
      "fullTitle": "api: /projects?forms=true should return the correct projects with the correct verbs",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return projects with verbs and nested extended forms",
      "fullTitle": "api: /projects?forms=true GET should return projects with verbs and nested extended forms",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 49,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 2 to be 1",
        "showDiff": true,
        "actual": "2",
        "negate": false,
        "assertion": {
          "obj": 2,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 2,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 2 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at Context.<anonymous> (test/integration/api/projects.js:1415:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 2 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should return projects with datasets",
      "fullTitle": "api: /projects?forms=true GET should return projects with datasets",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return projects with forms and datasets",
      "fullTitle": "api: /projects?forms=true GET should return projects with forms and datasets",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return projects/forms not assigned to user",
      "fullTitle": "api: /projects?forms=true GET should not return projects/forms not assigned to user",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return projects/datasets not assigned to user",
      "fullTitle": "api: /projects?forms=true GET should not return projects/datasets not assigned to user",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all forms including drafts to managers and above",
      "fullTitle": "api: /projects?forms=true GET should return all forms including drafts to managers and above",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return draft forms to data collectors",
      "fullTitle": "api: /projects?forms=true GET should not return draft forms to data collectors",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 109,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return datasets to data collectors",
      "fullTitle": "api: /projects?forms=true GET should not return datasets to data collectors",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return multiple projects with forms",
      "fullTitle": "api: /projects?forms=true GET should return multiple projects with forms",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set project data from formList even on non-extended projects",
      "fullTitle": "api: /projects?forms=true GET should set project data from formList even on non-extended projects",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 58,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/projects.js:1566:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should set project data from datasetList even on non-extended projects",
      "fullTitle": "api: /projects?forms=true GET should set project data from datasetList even on non-extended projects",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 238,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 2 to be 1",
        "showDiff": true,
        "actual": "2",
        "negate": false,
        "assertion": {
          "obj": 2,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 2,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 2 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/projects.js:1627:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/projects.js:1624:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 2 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should return verbs for multiple roles",
      "fullTitle": "api: /projects?forms=true GET should return verbs for multiple roles",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 unless the user is allowed to create",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should return 403 unless the user is allowed to create",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the created key",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should return the created key",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the once attribute if given",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should return the once attribute if given",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow project managers to create",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should allow project managers to create",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow the created user to submit to the given form",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should allow the created user to submit to the given form",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 79,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/public-links.js:49:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 unless the user is allowed to list",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should return 403 unless the user is allowed to list",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of links in order with merged data",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should return a list of links in order with merged data",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only return tokens from the requested form",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should only return tokens from the requested form",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should leave tokens out if the session is ended",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should leave tokens out if the session is ended",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should sort revoked links to the bottom",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should sort revoked links to the bottom",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should join through additional data if extended metadata is requested",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should join through additional data if extended metadata is requested",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should sort revoked field keys to the bottom in extended metadata",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should sort revoked field keys to the bottom in extended metadata",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 unless the user can delete",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should return 403 unless the user can delete",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the token",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should delete the token",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow project managers to delete",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should allow project managers to delete",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should only delete the token if it is part of the form",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should only delete the token if it is part of the form",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the token deletion in the audit log",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should log the token deletion in the audit log",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 if an invalid key is provided",
      "fullTitle": "api: /key/:key should return 403 if an invalid key is provided",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should allow cookie+public-link",
      "fullTitle": "api: /key/:key should allow cookie+public-link",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should passthrough to the appropriate route with successful auth",
      "fullTitle": "api: /key/:key should passthrough to the appropriate route with successful auth",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 75,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/public-links.js:218:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should not allow creating submissions on other forms",
      "fullTitle": "api: /key/:key should not allow creating submissions on other forms",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able access closed forms and its sub-resources",
      "fullTitle": "api: /key/:key should not be able access closed forms and its sub-resources",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all roles",
      "fullTitle": "api: /roles GET should return all roles",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should notfound a role by system id",
      "fullTitle": "api: /roles /:id GET should notfound a role by system id",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should retrieve a role by system id",
      "fullTitle": "api: /roles /:id GET should retrieve a role by system id",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should notfound a role by numeric id",
      "fullTitle": "api: /roles /:id GET should notfound a role by numeric id",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should retrive a role by numeric id",
      "fullTitle": "api: /roles /:id GET should retrive a role by numeric id",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a new session if the information is valid",
      "fullTitle": "api: /sessions POST should return a new session if the information is valid",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a new session even if invalid auth is passed in the header - invalid session cookie",
      "fullTitle": "api: /sessions POST should return a new session even if invalid auth is passed in the header - invalid session cookie",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a new session even if invalid auth is passed in the header - invalid bearer token",
      "fullTitle": "api: /sessions POST should return a new session even if invalid auth is passed in the header - invalid bearer token",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a new session even if invalid auth is passed in the header - invalid basic auth",
      "fullTitle": "api: /sessions POST should return a new session even if invalid auth is passed in the header - invalid basic auth",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a new session even if valid cookie is passed",
      "fullTitle": "api: /sessions POST should return a new session even if valid cookie is passed",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should treat email addresses case insensitively",
      "fullTitle": "api: /sessions POST should treat email addresses case insensitively",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should provide a csrf token when the session returns",
      "fullTitle": "api: /sessions POST should provide a csrf token when the session returns",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should set cookie information when the session returns",
      "fullTitle": "api: /sessions POST should set cookie information when the session returns",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 43,
      "currentRetry": 0,
      "err": {
        "message": "expected null to exist",
        "stack": "AssertionError: expected null to exist\n    at /usr/odk/test/integration/api/sessions.js:88:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)"
      }
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /sessions POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 3 to be 1",
        "showDiff": true,
        "actual": "3",
        "negate": false,
        "assertion": {
          "obj": 3,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 3,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 3 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/sessions.js:109:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 3 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a 400 for invalid password (undefined)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid password (undefined)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid password (null)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid password (null)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid password (empty string)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid password (empty string)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid password (wrong password)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid password (wrong password)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid password (number)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid password (number)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid password (array)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid password (array)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid password (object)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid password (object)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (undefined)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (undefined)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (null)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (null)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (empty string)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (empty string)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid email (invalid email)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid email (invalid email)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (number)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (number)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (array)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (array)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (object)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (object)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 401 if the email is wrong",
      "fullTitle": "api: /sessions POST should return a 401 if the email is wrong",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 if insufficient information is provided",
      "fullTitle": "api: /sessions POST should return a 400 if insufficient information is provided",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should treat a password repeated once as the singular version of the same",
      "fullTitle": "api: /sessions POST weird bcrypt implementation details should treat a password repeated once as the singular version of the same",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should treat a password repeated twice as the singular version of the same",
      "fullTitle": "api: /sessions POST weird bcrypt implementation details should treat a password repeated twice as the singular version of the same",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should treat a password repeated until truncation as the singular version of the same",
      "fullTitle": "api: /sessions POST weird bcrypt implementation details should treat a password repeated until truncation as the singular version of the same",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if no valid session exists",
      "fullTitle": "api: /sessions /restore GET should fail if no valid session exists",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the active session if it exists",
      "fullTitle": "api: /sessions /restore GET should return the active session if it exists",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 53,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/integration/api/sessions.js:172:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should return a 403 if the token does not exist",
      "fullTitle": "api: /sessions /:token DELETE should return a 403 if the token does not exist",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 403 if the user cannot delete the given token",
      "fullTitle": "api: /sessions /:token DELETE should return a 403 if the user cannot delete the given token",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should invalidate the token if successful",
      "fullTitle": "api: /sessions /:token DELETE should invalidate the token if successful",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log if it is a field key",
      "fullTitle": "api: /sessions /:token DELETE should log the action in the audit log if it is a field key",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/sessions.js:206:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should allow non-admins to delete their own sessions",
      "fullTitle": "api: /sessions /:token DELETE should allow non-admins to delete their own sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow managers to delete project app user sessions",
      "fullTitle": "api: /sessions /:token DELETE should allow managers to delete project app user sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 54,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/sessions.js:229:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should allow managers to delete project public link sessions",
      "fullTitle": "api: /sessions /:token DELETE should allow managers to delete project public link sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow app users to delete their own sessions",
      "fullTitle": "api: /sessions /:token DELETE should not allow app users to delete their own sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/sessions.js:251:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should clear cookies if successful for the current session",
      "fullTitle": "api: /sessions /:token DELETE should clear cookies if successful for the current session",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 68,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict\"\n  \"__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict\"\n]",
        "message": "expected Array [\n  '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] to equal Array [\n  'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] (at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict')",
        "details": "at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict'",
        "showDiff": true,
        "actual": "[\n  \"__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict\"\n  \"__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict",
            "__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict",
              "__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict"
            ],
            "details": "at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict'",
            "showDiff": true,
            "actual": "__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict,__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] to equal Array [\n  'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] (at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/sessions.js:262:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] to equal Array [\n  'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] (at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict')",
        "generatedMessage": true
      }
    },
    {
      "title": "should not clear cookies if using some other session",
      "fullTitle": "api: /sessions /:token DELETE should not clear cookies if using some other session",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 212,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log the action in the audit log for users",
      "fullTitle": "api: /sessions /:token DELETE should not log the action in the audit log for users",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 75,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "2",
        "message": "expected 4 to be 2",
        "showDiff": true,
        "actual": "4",
        "negate": false,
        "assertion": {
          "obj": 4,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 2,
            "showDiff": true,
            "actual": 4,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 4 to be 2\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/sessions.js:286:36\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 4 to be 2",
        "generatedMessage": true
      }
    },
    {
      "title": "should log the action in the audit log for public links",
      "fullTitle": "api: /sessions /:token DELETE should log the action in the audit log for public links",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log for app users",
      "fullTitle": "api: /sessions /:token DELETE should log the action in the audit log for app users",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 55,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/sessions.js:309:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return a 401 if no token was specified",
      "fullTitle": "api: /sessions /current DELETE should return a 401 if no token was specified",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 404 if basic auth provided",
      "fullTitle": "api: /sessions /current DELETE should return a 404 if basic auth provided",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should invalidate the token if successful",
      "fullTitle": "api: /sessions /current DELETE should invalidate the token if successful",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow app users to delete their own sessions",
      "fullTitle": "api: /sessions /current DELETE should not allow app users to delete their own sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 78,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Context.<anonymous> (test/integration/api/sessions.js:348:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject if the CSRF token is missing",
      "fullTitle": "api: /sessions cookie CSRF auth should reject if the CSRF token is missing",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the CSRF token is wrong",
      "fullTitle": "api: /sessions cookie CSRF auth should reject if the CSRF token is wrong",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should succeed if the CSRF token is correct",
      "fullTitle": "api: /sessions cookie CSRF auth should succeed if the CSRF token is correct",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 58,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/integration/api/sessions.js:379:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should succeed if it is ajax/xhr request",
      "fullTitle": "api: /sessions cookie CSRF auth should succeed if it is ajax/xhr request",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 60,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/integration/api/sessions.js:388:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should return a 204 with no content",
      "fullTitle": "api: /submission HEAD should return a 204 with no content",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if not given X-OpenRosa-Version header",
      "fullTitle": "api: /submission HEAD should fail if not given X-OpenRosa-Version header",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fail if no auth is provided",
      "fullTitle": "api: /submission HEAD should fail if no auth is provided",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail on authentication given broken credentials",
      "fullTitle": "api: /submission HEAD should fail on authentication given broken credentials",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if no xml file is given",
      "fullTitle": "api: /submission POST should reject if no xml file is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the xml is not valid",
      "fullTitle": "api: /submission POST should reject if the xml is not valid",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if \"Multipart: Boundary not found\"",
      "fullTitle": "api: /submission POST should reject if \"Multipart: Boundary not found\"",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if \"Unexpected end of form\"",
      "fullTitle": "api: /submission POST should reject if \"Unexpected end of form\"",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if \"Malformed part header\"",
      "fullTitle": "api: /submission POST should reject if \"Malformed part header\"",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /submission POST should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot submit",
      "fullTitle": "api: /submission POST should reject if the user cannot submit",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if the form is not taking submissions",
      "fullTitle": "api: /submission POST should reject if the form is not taking submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission version does not exist",
      "fullTitle": "api: /submission POST should reject if the submission version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should save the submission to the appropriate form",
      "fullTitle": "api: /submission POST should save the submission to the appropriate form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save the submission to the appropriate form with device id as null when query string is empty",
      "fullTitle": "api: /submission POST should save the submission to the appropriate form with device id as null when query string is empty",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save the submission to the appropriate form with device id and user agent",
      "fullTitle": "api: /submission POST should save the submission to the appropriate form with device id and user agent",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 68,
      "currentRetry": 0,
      "err": {
        "stack": "TypeError: Cannot read properties of null (reading 'should')\n    at /usr/odk/test/integration/api/submissions.js:210:31\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "message": "Cannot read properties of null (reading 'should')"
      }
    },
    {
      "title": "should accept a submission for an old form version",
      "fullTitle": "api: /submission POST should accept a submission for an old form version",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 152,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:236:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should store the correct formdef and actor ids",
      "fullTitle": "api: /submission POST should store the correct formdef and actor ids",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 2 to be 1",
        "showDiff": true,
        "actual": "2",
        "negate": false,
        "assertion": {
          "obj": 2,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 2,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 2 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/submissions.js:257:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 2 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should save given attachments",
      "fullTitle": "api: /submission POST should save given attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save attachments with unicode / non-english char",
      "fullTitle": "api: /submission POST should save attachments with unicode / non-english char",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not fail given identical attachments",
      "fullTitle": "api: /submission POST should not fail given identical attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not fail given identical attachment references",
      "fullTitle": "api: /submission POST should not fail given identical attachment references",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create audit log entries for saved attachments",
      "fullTitle": "api: /submission POST should create audit log entries for saved attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ignore unknown attachments",
      "fullTitle": "api: /submission POST should ignore unknown attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save client audit log attachments",
      "fullTitle": "api: /submission POST should save client audit log attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create empty client audit log slots",
      "fullTitle": "api: /submission POST should create empty client audit log slots",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should detect which attachments are expected",
      "fullTitle": "api: /submission POST should detect which attachments are expected",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the xml changes between posts",
      "fullTitle": "api: /submission POST should reject if the xml changes between posts",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should take in additional attachments via additional POSTs",
      "fullTitle": "api: /submission POST should take in additional attachments via additional POSTs",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should successfully save attachment binary data",
      "fullTitle": "api: /submission POST should successfully save attachment binary data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should successfully save additionally POSTed attachment binary data",
      "fullTitle": "api: /submission POST should successfully save additionally POSTed attachment binary data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should successfully save additionally POSTed attachment binary data with s3 enabled",
      "fullTitle": "api: /submission POST should successfully save additionally POSTed attachment binary data with s3 enabled",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 151,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept encrypted submissions, with attachments",
      "fullTitle": "api: /submission POST should accept encrypted submissions, with attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject resubmission of soft-deleted submission",
      "fullTitle": "api: /submission POST should reject resubmission of soft-deleted submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the deprecatedId is not known",
      "fullTitle": "api: /submission POST versioning should reject if the deprecatedId is not known",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the deprecatedId is not current",
      "fullTitle": "api: /submission POST versioning should reject if the deprecatedId is not current",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 70,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:680:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the new instanceId is a duplicate",
      "fullTitle": "api: /submission POST versioning should reject if the new instanceId is a duplicate",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 58,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:698:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should not reject for an instanceID conflict on another form",
      "fullTitle": "api: /submission POST versioning should not reject for an instanceID conflict on another form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept the new submission",
      "fullTitle": "api: /submission POST versioning should accept the new submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 57,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:727:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should accept submission update for a closing form",
      "fullTitle": "api: /submission POST versioning should accept submission update for a closing form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should accept submission update for a closed form",
      "fullTitle": "api: /submission POST versioning should accept submission update for a closed form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should set the submission review state to edited",
      "fullTitle": "api: /submission POST versioning should set the submission review state to edited",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 54,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:780:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should copy forward missing attachments",
      "fullTitle": "api: /submission POST versioning should copy forward missing attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should replace extant attachments",
      "fullTitle": "api: /submission POST versioning should replace extant attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upsert attachments",
      "fullTitle": "api: /submission POST versioning should upsert attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if there is no draft",
      "fullTitle": "api: /submission [draft] POST should reject notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should save the submission into the form draft",
      "fullTitle": "api: /submission [draft] POST should save the submission into the form draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:899:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should save a submission for the draft of a closing form",
      "fullTitle": "api: /submission [draft] POST should save a submission for the draft of a closing form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should save a submission for the draft of a closed form",
      "fullTitle": "api: /submission [draft] POST should save a submission for the draft of a closed form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should save client audit log attachments",
      "fullTitle": "api: /submission [draft] POST should save client audit log attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if there is no draft",
      "fullTitle": "api: /submission [draft] /test POST should reject notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /submission [draft] /test POST should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /submission [draft] /test POST should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /submission [draft] /test POST should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should save the submission into the form draft",
      "fullTitle": "api: /submission [draft] /test POST should save the submission into the form draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 89,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:1051:20\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions POST should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot submit",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the user cannot submit",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form is not taking submissions",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the form is not taking submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission body is not valid xml",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the submission body is not valid xml",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form ids do not match",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the form ids do not match",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form is not taking submissions",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the form is not taking submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission version does not exist",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the submission version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should submit if all details are provided",
      "fullTitle": "api: /forms/:id/submissions POST should submit if all details are provided",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1134:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should record a deviceId and userAgent if given",
      "fullTitle": "api: /forms/:id/submissions POST should record a deviceId and userAgent if given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1147:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should not fail if longer userAgent and deviceId is provided",
      "fullTitle": "api: /forms/:id/submissions POST should not fail if longer userAgent and deviceId is provided",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1166:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should accept a submission for an old form version",
      "fullTitle": "api: /forms/:id/submissions POST should accept a submission for an old form version",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 106,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1190:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should create expected attachments",
      "fullTitle": "api: /forms/:id/submissions POST should create expected attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should store the correct formdef and actor ids",
      "fullTitle": "api: /forms/:id/submissions POST should store the correct formdef and actor ids",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 67,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1224:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should accept encrypted submissions, with attachments",
      "fullTitle": "api: /forms/:id/submissions POST should accept encrypted submissions, with attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject duplicate submissions",
      "fullTitle": "api: /forms/:id/submissions POST should reject duplicate submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at Context.<anonymous> (test/integration/api/submissions.js:1266:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /forms/:id/submissions [draft] POST should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] POST should accept submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept even if the form is not taking submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] POST should accept even if the form is not taking submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:1314:72\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should accept even if the version in the submission is wrong",
      "fullTitle": "api: /forms/:id/submissions [draft] POST should accept even if the version in the submission is wrong",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1334:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the user cannot edit",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should reject if the user cannot edit",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1341:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should update the submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should update the submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1354:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the deprecated submission is not current",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should reject if the deprecated submission is not current",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1377:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should copy forward matching attachments",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should copy forward matching attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should reject if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 48,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 302 \"Found\"\n    at /usr/odk/test/integration/api/submissions.js:1420:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 302 \"Found\""
      }
    },
    {
      "title": "should reject if the form does not have an enketoId",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should reject if the form does not have an enketoId",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1427:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the form is closing",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should reject if the form is closing",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1437:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should redirect to the edit_url",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should redirect to the edit_url",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1454:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should pass the appropriate parameters to the enketo module",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should pass the appropriate parameters to the enketo module",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 96,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "http://localhost:8989/v1/projects/1",
        "message": "expected 'https://central.local/v1/projects/1' to be 'http://localhost:8989/v1/projects/1'",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1' to be 'http://localhost:8989/v1/projects/1'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/submissions.js:1479:41\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1' to be 'http://localhost:8989/v1/projects/1'",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PATCH should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:1492:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should reject if the user cannot update",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PATCH should reject if the user cannot update",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1499:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should set the review state",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PATCH should set the review state",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 64,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1510:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 64,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:1523:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should reject if the user cannot delete",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should reject if the user cannot delete",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1530:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should soft-delete the submission and not be able to access it again",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should soft-delete the submission and not be able to access it again",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1540:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should not let a draft submission be deleted",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should not let a draft submission be deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not let a submission with the same instanceId as a deleted submission be sent",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should not let a submission with the same instanceId as a deleted submission be sent",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at Context.<anonymous> (test/integration/api/submissions.js:1564:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should delete and restore non-draft submission even when draft submission with same instanceId exists",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should delete and restore non-draft submission even when draft submission with same instanceId exists",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the submission has not been deleted",
      "fullTitle": "api: /forms/:id/submissions /:instanceId RESTORE should reject if the submission has not been deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId RESTORE should reject if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot restore",
      "fullTitle": "api: /forms/:id/submissions /:instanceId RESTORE should reject if the user cannot restore",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete the submission and then restore it",
      "fullTitle": "api: /forms/:id/submissions /:instanceId RESTORE should soft-delete the submission and then restore it",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a zipfile with the relevant headers",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a zipfile with the relevant headers",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the csv header even if there is no data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return the csv header even if there is no data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 226,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 288,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should include all repeat rows @slow",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should include all repeat rows @slow",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 741,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include data from other forms",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should not include data from other forms",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return data from deleted submissions in csv export",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should not return data from deleted submissions in csv export",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 293,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a submitter-filtered zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a submitter-filtered zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 237,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a review state-filtered zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a review state-filtered zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 294,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a submissionDate-filtered zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a submissionDate-filtered zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 245,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an updatedAt-filtered zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return an updatedAt-filtered zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 244,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a zipfile with the relevant attachments",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a zipfile with the relevant attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 260,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a zipfile with the relevant attachments if s3 is enabled",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a zipfile with the relevant attachments if s3 is enabled",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 272,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle s3 errors when trying to construct zipfile",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should handle s3 errors when trying to construct zipfile",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 309,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter attachments by the query",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should filter attachments by the query",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 341,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list the original submitted form version per submission",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should list the original submitted form version per submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 290,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiple values if ?splitSelectMultiples=true",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should split select multiple values if ?splitSelectMultiples=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should omit multiples it does not know about",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should omit multiples it does not know about",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 246,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiples and filter given both options",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should split select multiples and filter given both options",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 320,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should export deleted fields and values if ?deletedFields=true",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should export deleted fields and values if ?deletedFields=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 262,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should skip attachments if ?attachments=false is given",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should skip attachments if ?attachments=false is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 250,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should give the appropriate filename if ?attachments=false is given",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should give the appropriate filename if ?attachments=false is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 238,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should omit group paths if ?groupPaths=false is given",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should omit group paths if ?groupPaths=false is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 203,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select AND omit group paths given both options",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should split select AND omit group paths given both options",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 311,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should properly count present attachments",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should properly count present attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 239,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return worker-processed consolidated client audit log attachments",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return worker-processed consolidated client audit log attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 356,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return adhoc-processed consolidated client audit log attachments",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return adhoc-processed consolidated client audit log attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 336,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return adhoc-processed consolidated client audit log attachments if uploaded to s3",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return adhoc-processed consolidated client audit log attachments if uploaded to s3",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 338,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should gracefully handle error if client audit s3 download fails",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should gracefully handle error if client audit s3 download fails",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 277,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return additional user and change-reason columns of client audit log",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return additional user and change-reason columns of client audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 342,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return consolidated client audit log filtered by user",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return consolidated client audit log filtered by user",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 290,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return consolidated client audit log filtered by review state",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return consolidated client audit log filtered by review state",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 266,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the latest attached audit log after openrosa replace",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return the latest attached audit log after openrosa replace",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 278,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the latest attached audit log after REST replace",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return the latest attached audit log after REST replace",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 313,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should tolerate differences in line lengths",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should tolerate differences in line lengths",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 290,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should tolerate quote inside unquoted field of client audit log",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should tolerate quote inside unquoted field of client audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 294,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return original instanceId and latest attached audit log when instanceId deprecated with new audit log",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET versioning should return original instanceId and latest attached audit log when instanceId deprecated with new audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 280,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions .csv GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot get submissions",
      "fullTitle": "api: /forms/:id/submissions .csv GET should reject if the user cannot get submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a csv with the relevant headers",
      "fullTitle": "api: /forms/:id/submissions .csv GET should return a csv with the relevant headers",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the root csv table",
      "fullTitle": "api: /forms/:id/submissions .csv GET should return the root csv table",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 257,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only the root csv table given repeats",
      "fullTitle": "api: /forms/:id/submissions .csv GET should return only the root csv table given repeats",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 228,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiple values if ?splitSelectMultiples=true",
      "fullTitle": "api: /forms/:id/submissions .csv GET should split select multiple values if ?splitSelectMultiples=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should omit group paths if ?groupPaths=false is given",
      "fullTitle": "api: /forms/:id/submissions .csv GET should omit group paths if ?groupPaths=false is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 178,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /forms/:id/submissions .csv GET should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 208,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should export deleted fields and values if ?deletedFields=true",
      "fullTitle": "api: /forms/:id/submissions .csv GET different versions of form schema should export deleted fields and values if ?deletedFields=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 343,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiple values if ?splitSelectMultiples=true",
      "fullTitle": "api: /forms/:id/submissions .csv GET different versions of form schema should split select multiple values if ?splitSelectMultiples=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 341,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 159,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return draft submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should return draft submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 116,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include draft submissions in nondraft csvzip",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not include draft submissions in nondraft csvzip",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 248,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry draft submissions forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not carry draft submissions forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 333,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over drafts when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not carry over drafts when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 243,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface drafts when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not resurface drafts when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 288,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log the action in the audit log",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not log the action in the audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 235,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiple values submitted over /test/ if ?splitSelectMultiples=true",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should split select multiple values submitted over /test/ if ?splitSelectMultiples=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 288,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 166,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should happily return given no submissions",
      "fullTitle": "api: /forms/:id/submissions GET should happily return given no submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of submissions",
      "fullTitle": "api: /forms/:id/submissions GET should return a list of submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of deleted submissions",
      "fullTitle": "api: /forms/:id/submissions GET should return a list of deleted submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list with extended metadata if requested",
      "fullTitle": "api: /forms/:id/submissions GET should list with extended metadata if requested",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the draft does not exist",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should return notfound if the draft does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should return a list of submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include draft submissions non-draft",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should not include draft submissions non-draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry draft submissions forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should not carry draft submissions forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over drafts when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should not carry over drafts when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface drafts when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should not resurface drafts when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /keys GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an empty array if encryption is not being used",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return an empty array if encryption is not being used",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a self-managed key if it is used",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return a self-managed key if it is used",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return multiple self-managed keys if they are used",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return multiple self-managed keys if they are used",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return unused keys",
      "fullTitle": "api: /forms/:id/submissions /keys GET should not return unused keys",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return managed keys, with hint",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return managed keys, with hint",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 218,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a key more than once",
      "fullTitle": "api: /forms/:id/submissions /keys GET should not return a key more than once",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /submitters GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /submitters GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an empty array if there are no submissions",
      "fullTitle": "api: /forms/:id/submissions /submitters GET should return an empty array if there are no submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all submitters once",
      "fullTitle": "api: /forms/:id/submissions /submitters GET should return all submitters once",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the draft does not exist",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should return notfound if the draft does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return draft-used keys",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should return draft-used keys",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include draft keys nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should not include draft keys nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 275,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry draft keys forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should not carry draft keys forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over draft keys when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should not carry over draft keys when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface draft keys when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should not resurface draft keys when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the instance does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should return notfound if the instance does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read audits",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should reject if the user cannot read audits",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all audit logs on the submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should return all audit logs on the submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not expand actor when not extended",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should not expand actor when not extended",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should expand actor on extended",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should expand actor on extended",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return full entity in details of an event about an entity",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should return full entity in details of an event about an entity",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return basic entity details when extended metadata not set",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should not return basic entity details when extended metadata not set",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated entity in currentVersion",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should return updated entity in currentVersion",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entity uuid and dataset only when entity is soft-deleted",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should return entity uuid and dataset only when entity is soft-deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entity uuid and dataset when entity is (manually) purged",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should return entity uuid and dataset when entity is (manually) purged",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions /:instanceId.xml GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should redirect to the version if the referenced instanceID is out of date",
      "fullTitle": "api: /forms/:id/submissions /:instanceId.xml GET should redirect to the version if the referenced instanceID is out of date",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the version does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId.xml GET should return notfound if the version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId.xml GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId.xml GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return draft submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should return draft submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return draft submissions nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should not return draft submissions nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not carry draft submissions forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should not carry draft submissions forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over draft submissions when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should not carry over draft submissions when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface draft submissions when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should not resurface draft submissions when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with extended metadata if requested",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should return with extended metadata if requested",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not mince object properties",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should not mince object properties",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should redirect to the version if the referenced instanceID is out of date",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should redirect to the version if the referenced instanceID is out of date",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the root does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should return notfound if the root does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the version does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should return notfound if the version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return extended submission details",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should return extended submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return draft submissions nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should not return draft submissions nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not carry draft submissions forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should not carry draft submissions forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over draft submissions when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should not carry over draft submissions when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface draft submissions when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should not resurface draft submissions when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 132,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should happily return given no attachments",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should happily return given no attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should redirect to the version if the referenced instanceID is out of date",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should redirect to the version if the referenced instanceID is out of date",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the version does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments GET should return notfound if the version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return attachment information",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments GET should return attachment information",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the root does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/diffs GET should return notfound if the root does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/diffs GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return diffs between different submission versions",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/diffs GET should return diffs between different submission versions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return draft attachments",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments GET should return draft attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return draft attachments nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments GET should not return draft attachments nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the attachment does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should return notfound if the attachment does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should redirect to the version if the referenced instanceID is out of date",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should redirect to the version if the referenced instanceID is out of date",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the attachment does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments/:attachment GET should return notfound if the attachment does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments/:attachment GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return attachment data",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments/:attachment GET should return attachment data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a draft attachment",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments/:name GET should return a draft attachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return a draft attachment nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments/:name GET should not return a draft attachment nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot update a submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should reject if the user cannot update a submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "Data collector should be able to attach the given file if Submission is created by the them and attachment is not previously uploaded",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST Data collector should be able to attach the given file if Submission is created by the them and attachment is not previously uploaded",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "Public link should be able to upload attachment for the Submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST Public link should be able to upload attachment for the Submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "Public link should not be able to upload attachment for others Submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST Public link should not be able to upload attachment for others Submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "App user should be able to upload attachment for the Submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST App user should be able to upload attachment for the Submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 71,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Context.<anonymous> (test/integration/api/submissions.js:4596:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject attachment upload when original submitter is no longer the submitter of current version",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should reject attachment upload when original submitter is no longer the submitter of current version",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject attachment upload when editor is demoted",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should reject attachment upload when editor is demoted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the attachment does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should reject if the attachment does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach the given file",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should attach the given file",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should attach a given file with empty Content-Type and serve it with default mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should attach a given file with empty Content-Type and serve it with default mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given file with missing Content-Type and serve it with default mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should attach a given file with missing Content-Type and serve it with default mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an audit entry about initial attachment",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should log an audit entry about initial attachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an audit entry about reattachment",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should log an audit entry about reattachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach the given file and serve it with supplied mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for CSV should attach the given file and serve it with supplied mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given CSV file with empty Content-Type and serve it with mime type text/csv; charset=utf-8",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for CSV should attach a given CSV file with empty Content-Type and serve it with mime type text/csv; charset=utf-8",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given CSV file with missing Content-Type and serve it with mime type text/csv; charset=utf-8",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for CSV should attach a given CSV file with missing Content-Type and serve it with mime type text/csv; charset=utf-8",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach the given file and serve it with supplied mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for GeoJSON should attach the given file and serve it with supplied mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given GeoJSON file with empty Content-Type and serve it with mime type application/geo+json",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for GeoJSON should attach a given GeoJSON file with empty Content-Type and serve it with mime type application/geo+json",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given GeoJSON file with missing Content-Type and serve it with mime type application/geo+json",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for GeoJSON should attach a given GeoJSON file with missing Content-Type and serve it with mime type application/geo+json",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach the given file and serve it with supplied mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for Custom should attach the given file and serve it with supplied mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given Custom file with empty Content-Type and serve it with mime type application/octet-stream",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for Custom should attach a given Custom file with empty Content-Type and serve it with mime type application/octet-stream",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given Custom file with missing Content-Type and serve it with mime type application/octet-stream",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for Custom should attach a given Custom file with missing Content-Type and serve it with mime type application/octet-stream",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot update a submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should reject if the user cannot update a submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should clear the given attachment",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should clear the given attachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 309,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an audit entry about the deletion",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should log an audit entry about the deletion",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 138,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete a draft attachment",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments/:name DELETE should delete a draft attachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 172,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not delete a draft attachment nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments/:name DELETE should not delete a draft attachment nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the root does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/versions GET should return notfound if the root does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/versions GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/versions GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return extended submission details",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/versions GET should return extended submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep draft/nondraft versions apart",
      "fullTitle": "api: /forms/:id/submissions [version] partitioning should keep draft/nondraft versions apart",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep project versions apart",
      "fullTitle": "api: /forms/:id/submissions [version] partitioning should keep project versions apart",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if there is no draft",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "validates the request body stringently",
      "fullTitle": "api: user-preferences validates the request body stringently",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "can store the string \"null\", distinct from NULL value",
      "fullTitle": "api: user-preferences can store the string \"null\", distinct from NULL value",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "can store a JS null propertyValue",
      "fullTitle": "api: user-preferences can store a JS null propertyValue",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow storing preferences for nonexistent projects",
      "fullTitle": "api: user-preferences should not allow storing preferences for nonexistent projects",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "PUT/DELETE preference storage operations",
      "fullTitle": "api: user-preferences PUT/DELETE preference storage operations",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "can log audit events for updating and deleting site property",
      "fullTitle": "api: user-preferences audit log can log audit events for updating and deleting site property",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "can log audit events for updating and deleting project property",
      "fullTitle": "api: user-preferences audit log can log audit events for updating and deleting project property",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject for anonymous users",
      "fullTitle": "api: /users GET should reject for anonymous users",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 26,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return nothing for authed users who cannot user.list",
      "fullTitle": "api: /users GET should return nothing for authed users who cannot user.list",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a list of sorted users",
      "fullTitle": "api: /users GET should return a list of sorted users",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should search user display names if a query is given",
      "fullTitle": "api: /users GET should search user display names if a query is given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should search user emails if a query is given",
      "fullTitle": "api: /users GET should search user emails if a query is given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should search with compound phrases if given",
      "fullTitle": "api: /users GET should search with compound phrases if given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject unauthed users even if they exactly match an email",
      "fullTitle": "api: /users GET should reject unauthed users even if they exactly match an email",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 23,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return an exact email match to any authed user",
      "fullTitle": "api: /users GET should return an exact email match to any authed user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return lastLoginAt as null for users who have never logged in",
      "fullTitle": "api: /users GET should return lastLoginAt as null for users who have never logged in",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update lastLoginAt when user logs in multiple times",
      "fullTitle": "api: /users GET should update lastLoginAt when user logs in multiple times",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should prohibit non-admins from creating users",
      "fullTitle": "api: /users POST should prohibit non-admins from creating users",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should hash and store passwords if provided",
      "fullTitle": "api: /users POST with standard uname/password auth should hash and store passwords if provided",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept and hash blank passwords",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept and hash blank passwords",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept too short password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept too short password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept too long password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept too long password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept object password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept object password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept array password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept array password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept number password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept number password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should send an email to provisioned users",
      "fullTitle": "api: /users POST with standard uname/password auth should send an email to provisioned users",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send a token which can reset the new user password",
      "fullTitle": "api: /users POST with standard uname/password auth should send a token which can reset the new user password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow a too-short password when resetting via token",
      "fullTitle": "api: /users POST with standard uname/password auth should not allow a too-short password when resetting via token",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send a message explaining a pre-assigned password if given",
      "fullTitle": "api: /users POST with standard uname/password auth should send a message explaining a pre-assigned password if given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should duplicate the email into the display name if not given",
      "fullTitle": "api: /users POST with standard uname/password auth should duplicate the email into the display name if not given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /users POST with standard uname/password auth should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not send any email if no account exists",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should not send any email if no account exists",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send a specific email if an account existed but was deleted",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should send a specific email if an account existed but was deleted",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send an email with a token which can reset the user password",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should send an email with a token which can reset the user password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete sessions after password reset",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should delete sessions after password reset",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow password reset token replay",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should not allow password reset token replay",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not log single use token deletion in the audit log",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should not log single use token deletion in the audit log",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail the request if invalidation is requested and no auth provided",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should fail the request if invalidation is requested and no auth provided",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fail the request if invalidation is requested but user is not authorized",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should fail the request if invalidation is requested but user is not authorized",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should invalidate the existing password if requested",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should invalidate the existing password if requested",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should clear sessions if password is invalidated",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should clear sessions if password is invalidated",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log action in audit log if password is invalidated",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should log action in audit log if password is invalidated",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail the request if invalidation is not allowed and email doesn't exist",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should fail the request if invalidation is not allowed and email doesn't exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 200 if user has rights to invalidate but account doesn'nt exist",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should return 200 if user has rights to invalidate but account doesn'nt exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow a user to reset their own password directly",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should not allow a user to reset their own password directly",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail the request if email field is sent blank in request body",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should fail the request if email field is sent blank in request body",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return unauthenticated if nobody is logged in",
      "fullTitle": "api: /users /users/current GET should return unauthenticated if nobody is logged in",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should give the authed user if logged in",
      "fullTitle": "api: /users /users/current GET should give the authed user if logged in",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return site-wide verbs if not extended",
      "fullTitle": "api: /users /users/current GET should not return site-wide verbs if not extended",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return site-wide verbs if logged in (alice)",
      "fullTitle": "api: /users /users/current GET should return site-wide verbs if logged in (alice)",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return site-wide verbs if logged in (chelsea)",
      "fullTitle": "api: /users /users/current GET should return site-wide verbs if logged in (chelsea)",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 404 for app user",
      "fullTitle": "api: /users /users/current GET should return 404 for app user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/users.js:511:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return 404 for public link",
      "fullTitle": "api: /users /users/current GET should return 404 for public link",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the authed user cannot get",
      "fullTitle": "api: /users /users/:id GET should reject if the authed user cannot get",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the requested user",
      "fullTitle": "api: /users /users/:id GET should return the requested user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow non-admins to get themselves",
      "fullTitle": "api: /users /users/:id GET should allow non-admins to get themselves",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user does not exist",
      "fullTitle": "api: /users /users/:id GET should reject if the user does not exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include lastLoginAt field when getting a user by id",
      "fullTitle": "api: /users /users/:id GET should include lastLoginAt field when getting a user by id",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject non-admins from updating a different user",
      "fullTitle": "api: /users /users/:id PATCH should reject non-admins from updating a different user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user id cannot be found",
      "fullTitle": "api: /users /users/:id PATCH should reject if the user id cannot be found",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update only the allowed fields",
      "fullTitle": "api: /users /users/:id PATCH should update only the allowed fields",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow non-admins to update themselves",
      "fullTitle": "api: /users /users/:id PATCH should allow non-admins to update themselves",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow admins to update another user",
      "fullTitle": "api: /users /users/:id PATCH should allow admins to update another user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should send an email to the user's previous email when their email changes",
      "fullTitle": "api: /users /users/:id PATCH should send an email to the user's previous email when their email changes",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not send an email to a user when their email does not change",
      "fullTitle": "api: /users /users/:id PATCH should not send an email to a user when their email does not change",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /users /users/:id PATCH should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the authed user cannot update",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should reject if the authed user cannot update",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user does not exist",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should reject if the user does not exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the old password is not correct",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should reject if the old password is not correct",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should change the password",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should change the password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should disallow a password that is too short (<10 chars)",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should disallow a password that is too short (<10 chars)",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow nonadministrator users to set their own password",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should allow nonadministrator users to set their own password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete other sessions",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should delete other sessions",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete sessions if Basic auth is used",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should delete sessions if Basic auth is used",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send an email to a user when their password changes",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should send an email to a user when their password changes",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log an audit on password change",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should log an audit on password change",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the authed user cannot delete",
      "fullTitle": "api: /users /users/:id DELETE should reject if the authed user cannot delete",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user does not exist",
      "fullTitle": "api: /users /users/:id DELETE should reject if the user does not exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the user",
      "fullTitle": "api: /users /users/:id DELETE should delete the user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete any assignments the user had",
      "fullTitle": "api: /users /users/:id DELETE should delete any assignments the user had",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an audit upon delete",
      "fullTitle": "api: /users /users/:id DELETE should log an audit upon delete",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prevent login after delete",
      "fullTitle": "api: /users /users/:id DELETE should prevent login after delete",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should disable active sessions",
      "fullTitle": "api: /users /users/:id DELETE should disable active sessions",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create app users without long-lived sessions and issue short tokens on login",
      "fullTitle": "api: vg app-user auth should create app users without long-lived sessions and issue short tokens on login",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject non-string login credentials",
      "fullTitle": "api: vg app-user auth should reject non-string login credentials",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject login with missing body",
      "fullTitle": "api: vg app-user auth should reject login with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject login with whitespace-only credentials",
      "fullTitle": "api: vg app-user auth should reject login with whitespace-only credentials",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject login with non-string deviceId or comments",
      "fullTitle": "api: vg app-user auth should reject login with non-string deviceId or comments",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject app-user patch with missing body",
      "fullTitle": "api: vg app-user auth should reject app-user patch with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject app-user patch with non-string fullName or phone",
      "fullTitle": "api: vg app-user auth should reject app-user patch with non-string fullName or phone",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should clear phone on whitespace-only patch",
      "fullTitle": "api: vg app-user auth should clear phone on whitespace-only patch",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should lock out after five failed attempts per username and IP",
      "fullTitle": "api: vg app-user auth should lock out after five failed attempts per username and IP",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should scope lockout checks to null-ip entries when ip is missing",
      "fullTitle": "api: vg app-user auth should scope lockout checks to null-ip entries when ip is missing",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow admins to clear a login lockout",
      "fullTitle": "api: vg app-user auth should allow admins to clear a login lockout",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should honor project-level lockout settings",
      "fullTitle": "api: vg app-user auth should honor project-level lockout settings",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject lockout clear with missing body",
      "fullTitle": "api: vg app-user auth should reject lockout clear with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject lockout clear with non-string ip",
      "fullTitle": "api: vg app-user auth should reject lockout clear with non-string ip",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject activate/deactivate with missing body",
      "fullTitle": "api: vg app-user auth should reject activate/deactivate with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list active app-user sessions with IP, user agent, deviceId, and comments",
      "fullTitle": "api: vg app-user auth should list active app-user sessions with IP, user agent, deviceId, and comments",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should cap active sessions at three per app user",
      "fullTitle": "api: vg app-user auth should cap active sessions at three per app user",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should respect configured session cap value",
      "fullTitle": "api: vg app-user auth should respect configured session cap value",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should honor project-level session TTL override",
      "fullTitle": "api: vg app-user auth should honor project-level session TTL override",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should honor project-level session cap override",
      "fullTitle": "api: vg app-user auth should honor project-level session cap override",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log audit events for create, login success/failure, password ops, revoke, deactivate",
      "fullTitle": "api: vg app-user auth should log audit events for create, login success/failure, password ops, revoke, deactivate",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject a third simultaneous session when DB cap is 2",
      "fullTitle": "api: vg app-user auth should reject a third simultaneous session when DB cap is 2",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep lockout active after failures age out",
      "fullTitle": "api: vg app-user auth should keep lockout active after failures age out",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should lift lockout after the lock duration expires",
      "fullTitle": "api: vg app-user auth should lift lockout after the lock duration expires",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject password change with missing body",
      "fullTitle": "api: vg app-user auth should reject password change with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject password change with non-string or blank passwords",
      "fullTitle": "api: vg app-user auth should reject password change with non-string or blank passwords",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject password change with a new password over 72 chars",
      "fullTitle": "api: vg app-user auth should reject password change with a new password over 72 chars",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow password change and invalidate previous sessions",
      "fullTitle": "api: vg app-user auth should allow password change and invalidate previous sessions",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject admin reset with missing body",
      "fullTitle": "api: vg app-user auth should reject admin reset with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject admin reset with non-string or blank password",
      "fullTitle": "api: vg app-user auth should reject admin reset with non-string or blank password",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject admin reset with a new password over 72 chars",
      "fullTitle": "api: vg app-user auth should reject admin reset with a new password over 72 chars",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow admin reset and deactivation to block login and terminate sessions",
      "fullTitle": "api: vg app-user auth should allow admin reset and deactivation to block login and terminate sessions",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 165,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should normalize usernames on create and allow login with mixed-case input",
      "fullTitle": "api: vg app-user auth should normalize usernames on create and allow login with mixed-case input",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject duplicate usernames",
      "fullTitle": "api: vg app-user auth should reject duplicate usernames",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject invalid passwords and blank usernames",
      "fullTitle": "api: vg app-user auth should reject invalid passwords and blank usernames",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 191,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject expired tokens",
      "fullTitle": "api: vg app-user auth should reject expired tokens",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should block login and data submission for deactivated app users",
      "fullTitle": "api: vg app-user auth should block login and data submission for deactivated app users",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should forbid an app user from changing, resetting, or deactivating another app user",
      "fullTitle": "api: vg app-user auth should forbid an app user from changing, resetting, or deactivating another app user",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 181,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should forbid an app user from changing an admin/user password via user routes",
      "fullTitle": "api: vg app-user auth should forbid an app user from changing an admin/user password via user routes",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should revoke only the current session on self-revoke",
      "fullTitle": "api: vg app-user auth should revoke only the current session on self-revoke",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject self-revoke with non-string deviceId",
      "fullTitle": "api: vg app-user auth should reject self-revoke with non-string deviceId",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow admin revoke to invalidate all sessions",
      "fullTitle": "api: vg app-user auth should allow admin revoke to invalidate all sessions",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not duplicate audit logs on repeated session revoke",
      "fullTitle": "api: vg app-user auth should not duplicate audit logs on repeated session revoke",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not duplicate audit logs on repeated revoke-admin",
      "fullTitle": "api: vg app-user auth should not duplicate audit logs on repeated revoke-admin",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should avoid audit logs on no-op activate/deactivate",
      "fullTitle": "api: vg app-user auth should avoid audit logs on no-op activate/deactivate",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow admin session revoke after field key deletion",
      "fullTitle": "api: vg app-user auth should allow admin session revoke after field key deletion",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject login for a username that belongs to a different project",
      "fullTitle": "api: vg app-user auth should reject login for a username that belongs to a different project",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject admin reset if vg auth record is missing",
      "fullTitle": "api: vg app-user auth should reject admin reset if vg auth record is missing",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject system settings update with missing body",
      "fullTitle": "api: vg app-user auth should reject system settings update with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept numeric strings for session settings updates",
      "fullTitle": "api: vg app-user auth should accept numeric strings for session settings updates",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should validate session settings updates",
      "fullTitle": "api: vg app-user auth should validate session settings updates",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject admin_pw longer than 72 characters",
      "fullTitle": "api: vg app-user auth should reject admin_pw longer than 72 characters",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return project app-user settings with admin_pw override",
      "fullTitle": "api: vg app-user auth should return project app-user settings with admin_pw override",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow updating project app-user settings admin_pw",
      "fullTitle": "api: vg app-user auth should allow updating project app-user settings admin_pw",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject project admin_pw longer than 72 characters",
      "fullTitle": "api: vg app-user auth should reject project admin_pw longer than 72 characters",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return enketo status for all forms",
      "fullTitle": "api: vg enketo status endpoints should return enketo status for all forms",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should require config.read permission to view enketo status",
      "fullTitle": "api: vg enketo status endpoints should require config.read permission to view enketo status",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should regenerate enketoId for specified forms",
      "fullTitle": "api: vg enketo status endpoints should regenerate enketoId for specified forms",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should require config.set permission to regenerate enketoIds",
      "fullTitle": "api: vg enketo status endpoints should require config.set permission to regenerate enketoIds",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter by projectId query parameter",
      "fullTitle": "api: vg enketo status endpoints should filter by projectId query parameter",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter by xmlFormId query parameter",
      "fullTitle": "api: vg enketo status endpoints should filter by xmlFormId query parameter",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should regenerate enketoId for an open form",
      "fullTitle": "domain: vg enketo status should regenerate enketoId for an open form",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-domain.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail to regenerate enketoId for a closed form",
      "fullTitle": "domain: vg enketo status should fail to regenerate enketoId for a closed form",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-domain.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail to regenerate enketoId for a non-existent form",
      "fullTitle": "domain: vg enketo status should fail to regenerate enketoId for a non-existent form",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-domain.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return enketo status for all forms across all projects",
      "fullTitle": "api: vg enketo status should return enketo status for all forms across all projects",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return status summary with counts by status type",
      "fullTitle": "api: vg enketo status should return status summary with counts by status type",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should filter by projectId when specified",
      "fullTitle": "api: vg enketo status should filter by projectId when specified",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should determine closed status correctly",
      "fullTitle": "api: vg enketo status should determine closed status correctly",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should determine status for forms with and without Enketo IDs",
      "fullTitle": "api: vg enketo status should determine status for forms with and without Enketo IDs",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept app-user telemetry and allow admin listing with filters and paging",
      "fullTitle": "api: vg telemetry should accept app-user telemetry and allow admin listing with filters and paging",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject non-integer appUserId filter values",
      "fullTitle": "api: vg telemetry should reject non-integer appUserId filter values",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject telemetry payload appUserId that does not match the token actor",
      "fullTitle": "api: vg telemetry should reject telemetry payload appUserId that does not match the token actor",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should require latitude and longitude when location is provided",
      "fullTitle": "api: vg telemetry should require latitude and longitude when location is provided",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject non-UTC deviceDateTime",
      "fullTitle": "api: vg telemetry should reject non-UTC deviceDateTime",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject telemetry from non-app-user actors",
      "fullTitle": "api: vg telemetry should reject telemetry from non-app-user actors",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept a batch of events (max 10) and write one row per event",
      "fullTitle": "api: vg telemetry should accept a batch of events (max 10) and write one row per event",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should treat duplicate event ids as last-write-wins within a batch",
      "fullTitle": "api: vg telemetry should treat duplicate event ids as last-write-wins within a batch",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject an empty events array",
      "fullTitle": "api: vg telemetry should reject an empty events array",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should dedupe retries without events by device timestamp",
      "fullTitle": "api: vg telemetry should dedupe retries without events by device timestamp",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should dedupe/upsert replayed events by (appUserId, deviceId, clientEventId)",
      "fullTitle": "api: vg telemetry should dedupe/upsert replayed events by (appUserId, deviceId, clientEventId)",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept telemetry for recently expired app-user sessions and report invalidated status",
      "fullTitle": "api: vg telemetry should accept telemetry for recently expired app-user sessions and report invalidated status",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept telemetry after the bearer token is revoked (queued offline) and report invalidated status",
      "fullTitle": "api: vg telemetry should accept telemetry after the bearer token is revoked (queued offline) and report invalidated status",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "allows admin to create and login an app user (short-lived token)",
      "fullTitle": "vg org app-users (short token flow) allows admin to create and login an app user (short-lived token)",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "denies creation to users without project manage rights",
      "fullTitle": "vg org app-users (short token flow) denies creation to users without project manage rights",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "allows project managers to create app users",
      "fullTitle": "vg org app-users (short token flow) allows project managers to create app users",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "lists created app users without long-lived tokens",
      "fullTitle": "vg org app-users (short token flow) lists created app users without long-lived tokens",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "orders listings by most recently created",
      "fullTitle": "vg org app-users (short token flow) orders listings by most recently created",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "lists only app users from the requested project",
      "fullTitle": "vg org app-users (short token flow) lists only app users from the requested project",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "omits session tokens from listings even after login",
      "fullTitle": "vg org app-users (short token flow) omits session tokens from listings even after login",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "denies listing to users without project manage rights",
      "fullTitle": "vg org app-users (short token flow) denies listing to users without project manage rights",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "returns extended metadata with lastUsed for active app users",
      "fullTitle": "vg org app-users (short token flow) returns extended metadata with lastUsed for active app users",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "supports self login and submission via /key/:token",
      "fullTitle": "vg org app-users (short token flow) supports self login and submission via /key/:token",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "denies closed form access via /key/:token",
      "fullTitle": "vg org app-users (short token flow) denies closed form access via /key/:token",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions after admin revoke",
      "fullTitle": "vg org app-users (short token flow) rejects submissions after admin revoke",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions when app user is deactivated",
      "fullTitle": "vg org app-users (short token flow) rejects submissions when app user is deactivated",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions using a token from another project",
      "fullTitle": "vg org app-users (short token flow) rejects submissions using a token from another project",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions using an expired token",
      "fullTitle": "vg org app-users (short token flow) rejects submissions using an expired token",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "rejects submissions with malformed/unknown tokens",
      "fullTitle": "vg org app-users (short token flow) rejects submissions with malformed/unknown tokens",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "rejects legacy long-lived app-user sessions without vg auth",
      "fullTitle": "vg org app-users (short token flow) rejects legacy long-lived app-user sessions without vg auth",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "rejects submissions after password change using old token",
      "fullTitle": "vg org app-users (short token flow) rejects submissions after password change using old token",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions for unassigned forms",
      "fullTitle": "vg org app-users (short token flow) rejects submissions for unassigned forms",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deletes app users assignments on delete and scopes deletion to project",
      "fullTitle": "vg org app-users (short token flow) deletes app users assignments on delete and scopes deletion to project",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "allows project managers to delete app users in their project",
      "fullTitle": "vg org app-users (short token flow) allows project managers to delete app users in their project",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "app user tokens cannot access user profile routes",
      "fullTitle": "vg org app-users (short token flow) app user tokens cannot access user profile routes",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should audit failed login attempts with normalized identifiers",
      "fullTitle": "api: /sessions (vg web users) should audit failed login attempts with normalized identifiers",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should lock out logins after repeated failures",
      "fullTitle": "api: /sessions (vg web users) should lock out logins after repeated failures",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should honor a configured lockout duration",
      "fullTitle": "api: /sessions (vg web users) should honor a configured lockout duration",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should include attempts remaining header on failed login",
      "fullTitle": "api: /sessions (vg web users) should include attempts remaining header on failed login",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include Retry-After header when locked out",
      "fullTitle": "api: /sessions (vg web users) should include Retry-After header when locked out",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should normalize response timing between missing email and bad password",
      "fullTitle": "api: /sessions (vg web users) should normalize response timing between missing email and bad password",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should count audit log entries",
      "fullTitle": "analytics task queries general server metrics should count audit log entries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should count admins",
      "fullTitle": "analytics task queries general server metrics should count admins",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count encrypted projects",
      "fullTitle": "analytics task queries general server metrics should count encrypted projects",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 358,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number of questions in the biggest form",
      "fullTitle": "analytics task queries general server metrics should count the number of questions in the biggest form",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should find the maximum number of geo points per form",
      "fullTitle": "analytics task queries general server metrics should find the maximum number of geo points per form",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 207,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only use first geo field when counting max geo points per form",
      "fullTitle": "analytics task queries general server metrics should only use first geo field when counting max geo points per form",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 152,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number of unique roles across projects",
      "fullTitle": "analytics task queries general server metrics should count the number of unique roles across projects",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 143,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number archived projects",
      "fullTitle": "analytics task queries general server metrics should count the number archived projects",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the database size",
      "fullTitle": "analytics task queries general server metrics should get the database size",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should check database configurations",
      "fullTitle": "analytics task queries general server metrics should check database configurations",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should check external blob store configurations",
      "fullTitle": "analytics task queries general server metrics should check external blob store configurations",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should count failed audits",
      "fullTitle": "analytics task queries general server metrics should count failed audits",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count form definitions that are XML-only and are not associated with an XLSForm",
      "fullTitle": "analytics task queries general server metrics should count form definitions that are XML-only and are not associated with an XLSForm",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 235,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number of binary blob files total and uploaded to external store",
      "fullTitle": "analytics task queries general server metrics should count the number of binary blob files total and uploaded to external store",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of reset failed blob uploads",
      "fullTitle": "analytics task queries general server metrics should count number of reset failed blob uploads",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count how many datasets are ownerOnly",
      "fullTitle": "analytics task queries general server metrics should count how many datasets are ownerOnly",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count datasets with geometry property",
      "fullTitle": "analytics task queries general server metrics should count datasets with geometry property",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count entities with geometry properties",
      "fullTitle": "analytics task queries general server metrics should count entities with geometry properties",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count entity bulk delete audit logs with recent and total counts",
      "fullTitle": "analytics task queries general server metrics should count entity bulk delete audit logs with recent and total counts",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the total number of client audit submission attachments",
      "fullTitle": "analytics task queries general server metrics counting client audits should count the total number of client audit submission attachments",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count client audit attachments that failed processing",
      "fullTitle": "analytics task queries general server metrics counting client audits should count client audit attachments that failed processing",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 384,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number of rows extracted from client audit attachments",
      "fullTitle": "analytics task queries general server metrics counting client audits should count the number of rows extracted from client audit attachments",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count rows from client audit attachments uploaded to s3",
      "fullTitle": "analytics task queries general server metrics counting client audits should count rows from client audit attachments uploaded to s3",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of managers per project",
      "fullTitle": "analytics task queries user metrics should calculate number of managers per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should calculate number of viewers per project",
      "fullTitle": "analytics task queries user metrics should calculate number of viewers per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of data collectors per project",
      "fullTitle": "analytics task queries user metrics should calculate number of data collectors per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of app user per project",
      "fullTitle": "analytics task queries user metrics should calculate number of app user per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 59,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at module.exports (test/util/authenticate-user.js:22:8)\n    at /usr/odk/test/integration/setup.js:137:64\n    at Array.map (<anonymous>)\n    at service.login (test/integration/setup.js:137:44)\n    at createAppUser (test/integration/other/analytics-queries.js:83:11)\n    at Context.<anonymous> (test/integration/other/analytics-queries.js:839:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
      }
    },
    {
      "title": "should calculate unique device ids per project",
      "fullTitle": "analytics task queries user metrics should calculate unique device ids per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate public links per project",
      "fullTitle": "analytics task queries user metrics should calculate public links per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should calculate forms per project",
      "fullTitle": "analytics task queries form metrics should calculate forms per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate forms with repeats",
      "fullTitle": "analytics task queries form metrics should calculate forms with repeats",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should calculate forms with audits",
      "fullTitle": "analytics task queries form metrics should calculate forms with audits",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate forms with geospatial elements",
      "fullTitle": "analytics task queries form metrics should calculate forms with geospatial elements",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should count encrypted forms per project",
      "fullTitle": "analytics task queries form metrics should count encrypted forms per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate forms in each form state per project",
      "fullTitle": "analytics task queries form metrics should calculate forms in each form state per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate forms using webforms",
      "fullTitle": "analytics task queries form metrics should calculate forms using webforms",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of forms reusing ids of deleted forms",
      "fullTitle": "analytics task queries form metrics should calculate number of forms reusing ids of deleted forms",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 269,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of forms that create and update entities and do so in repeats",
      "fullTitle": "analytics task queries form metrics should count number of forms that create and update entities and do so in repeats",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 252,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions",
      "fullTitle": "analytics task queries submission metrics should calculate submissions",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by review state: approved",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by review state: approved",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by review state: rejected",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by review state: rejected",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by review state: hasIssues",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by review state: hasIssues",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by review state: edited",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by review state: edited",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions that have been edited",
      "fullTitle": "analytics task queries submission metrics should calculate submissions that have been edited",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions that have comments",
      "fullTitle": "analytics task queries submission metrics should calculate submissions that have comments",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by user type",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by user type",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 125,
      "currentRetry": 0,
      "err": {
        "stack": "error: current transaction is aborted, commands ignored until end of transaction block\n    at Parser.parseErrorMessage (node_modules/pg-protocol/dist/parser.js:285:98)\n    at Parser.handlePacket (node_modules/pg-protocol/dist/parser.js:122:29)\n    at Parser.parse (node_modules/pg-protocol/dist/parser.js:35:38)\n    at Socket.<anonymous> (node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)\n    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)",
        "message": "current transaction is aborted, commands ignored until end of transaction block",
        "length": 144,
        "name": "error",
        "severity": "ERROR",
        "code": "25P02",
        "file": "postgres.c",
        "line": "1044",
        "routine": "exec_simple_query",
        "notices": []
      }
    },
    {
      "title": "should return datasets ID",
      "fullTitle": "analytics task queries dataset metrics should return datasets ID",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate properties",
      "fullTitle": "analytics task queries dataset metrics should calculate properties",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate creation forms",
      "fullTitle": "analytics task queries dataset metrics should calculate creation forms",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate followup forms",
      "fullTitle": "analytics task queries dataset metrics should calculate followup forms",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate entities",
      "fullTitle": "analytics task queries dataset metrics should calculate entities",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 212,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate failed entities",
      "fullTitle": "analytics task queries dataset metrics should calculate failed entities",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate entity updates",
      "fullTitle": "analytics task queries dataset metrics should calculate entity updates",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 312,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate entity updates through different sources like API and submission",
      "fullTitle": "analytics task queries dataset metrics should calculate entity updates through different sources like API and submission",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 375,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate entity creates through different sources (submission, API, bulk",
      "fullTitle": "analytics task queries dataset metrics should calculate entity creates through different sources (submission, API, bulk",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of entities ever updated vs. update actions applied",
      "fullTitle": "analytics task queries dataset metrics should calculate number of entities ever updated vs. update actions applied",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 241,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of entities ever with conflict, and which are currently resolved",
      "fullTitle": "analytics task queries dataset metrics should calculate number of entities ever with conflict, and which are currently resolved",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 213,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return right dataset of each projects",
      "fullTitle": "analytics task queries dataset metrics should return right dataset of each projects",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 167,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return recent and total entity.bulk.create events per dataset",
      "fullTitle": "analytics task queries dataset metrics should return recent and total entity.bulk.create events per dataset",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 142,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show dataset event metrics within project metrics",
      "fullTitle": "analytics task queries dataset metrics should show dataset event metrics within project metrics",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine dataset event metrics with other project metrics even if no bulk create events",
      "fullTitle": "analytics task queries dataset metrics should combine dataset event metrics with other project metrics even if no bulk create events",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should count number of multi entity errors (errors processing submission with entities from repeats)",
      "fullTitle": "analytics task queries dataset metrics should count number of multi entity errors (errors processing submission with entities from repeats)",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of offline entity branches (nontrivial branches with >1 update)",
      "fullTitle": "analytics task queries offline entity metrics should count number of offline entity branches (nontrivial branches with >1 update)",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of interrupted branches",
      "fullTitle": "analytics task queries offline entity metrics should count number of interrupted branches",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 436,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of submission.backlog.* events (submissions temporarily in the backlog)",
      "fullTitle": "analytics task queries offline entity metrics should count number of submission.backlog.* events (submissions temporarily in the backlog)",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 246,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should measure time from submission creation to entity version finished processing",
      "fullTitle": "analytics task queries offline entity metrics should measure time from submission creation to entity version finished processing",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should measure max time between first submission on a branch received and last submission on that branch processed",
      "fullTitle": "analytics task queries offline entity metrics should measure max time between first submission on a branch received and last submission on that branch processed",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 166,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not see a delay for submissions processed with approvalRequired flag toggled",
      "fullTitle": "analytics task queries offline entity metrics should not see a delay for submissions processed with approvalRequired flag toggled",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 286,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not see a delay for submissions held in backlog and then force-processed",
      "fullTitle": "analytics task queries offline entity metrics should not see a delay for submissions held in backlog and then force-processed",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 234,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate projects with descriptions",
      "fullTitle": "analytics task queries other project metrics should calculate projects with descriptions",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 120,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine system level queries",
      "fullTitle": "analytics task queries combined analytics should combine system level queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 865,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fill in all project.users queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.users queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 260,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at module.exports (test/util/authenticate-user.js:22:8)\n    at /usr/odk/test/integration/setup.js:137:64\n    at Array.map (<anonymous>)\n    at service.login (test/integration/setup.js:137:44)\n    at createPublicLink (test/integration/other/analytics-queries.js:77:11)\n    at Context.<anonymous> (test/integration/other/analytics-queries.js:2661:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
      }
    },
    {
      "title": "should fill in all project.forms queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.forms queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 343,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fill in all project.submissions queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.submissions queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 266,
      "currentRetry": 0,
      "err": {
        "stack": "Error: Promise rejected with no or falsy reason\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
        "message": "Promise rejected with no or falsy reason"
      }
    },
    {
      "title": "should fill in all project.other queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.other queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be idempotent and not cross-polute project counts",
      "fullTitle": "analytics task queries combined analytics should be idempotent and not cross-polute project counts",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 234,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fill in all project.datasets queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.datasets queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 638,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should find recently created analytics audit log",
      "fullTitle": "analytics task queries latest analytics audit log utility should find recently created analytics audit log",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should find nothing if no analytics audit log",
      "fullTitle": "analytics task queries latest analytics audit log utility should find nothing if no analytics audit log",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should find analytics audit log created 30 days ago",
      "fullTitle": "analytics task queries latest analytics audit log utility should find analytics audit log created 30 days ago",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not return analytics audit log more than 30 days prior",
      "fullTitle": "analytics task queries latest analytics audit log utility should not return analytics audit log more than 30 days prior",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should validate form fields match metrics template",
      "fullTitle": "analytics task queries parsing official analytics form should validate form fields match metrics template",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return 401 for POST /v1/sessions",
      "fullTitle": "authentication anonymous endpoints should not return 401 for POST /v1/sessions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not return 401 for POST /v1/users/reset/initiate",
      "fullTitle": "authentication anonymous endpoints should not return 401 for POST /v1/users/reset/initiate",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/analytics/preview",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/analytics/preview",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/assignments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/assignments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/assignments/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/assignments/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/audits",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/audits",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/backup",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/backup",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/config/some-key",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/config/some-key",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/config/some-key",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/config/some-key",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/config/some-key",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/config/some-key",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/form-links/some-enketo-id/form",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/form-links/some-enketo-id/form",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/projects/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/projects/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/app-users",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/app-users",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/app-users",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/app-users",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/app-users/app-user-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/app-users/app-user-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/assignments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/assignments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/assignments/forms",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/assignments/forms",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 25,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/assignments/forms/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/assignments/forms/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/assignments/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/assignments/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/datasets",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/datasets",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/datasets/tree",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/datasets/tree",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree.svc",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree.svc",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree.svc/$metadata",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree.svc/$metadata",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree.svc/Entities",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree.svc/Entities",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/datasets/tree/entities",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/datasets/tree/entities",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 29,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 27,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/datasets/tree/entities/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/datasets/tree/entities/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 28,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/datasets/tree/entities/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/datasets/tree/entities/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 27,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/audits",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/audits",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 29,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/diffs",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/diffs",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/datasets/tree/entities/uuid/restore",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/datasets/tree/entities/uuid/restore",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/versions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/versions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/integrity",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/integrity",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/datasets/tree/properties",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/datasets/tree/properties",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/formList",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/formList",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/forms/simple",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/forms/simple",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc/$metadata",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc/$metadata",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc/Submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc/Submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc/Submissions('uuid')",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc/Submissions('uuid')",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc/child",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc/child",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.xls",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.xls",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.xlsx",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.xlsx",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/assignments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/assignments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/assignments/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/assignments/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/dataset-diff",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/dataset-diff",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/draft",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/draft",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/$metadata",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/$metadata",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/Submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/Submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/Submissions('uuid')",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/Submissions('uuid')",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/child",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/child",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.xls",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.xls",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.xlsx",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.xlsx",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/dataset-diff",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/dataset-diff",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/fields",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/fields",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/manifest",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/manifest",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/publish",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/publish",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submission",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submission",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submission",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submission",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions.csv.zip",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions.csv.zip",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions.csv.zip",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions.csv.zip",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/keys",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/keys",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/diffs",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/diffs",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/submitters",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/submitters",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/projects/1/forms/simple/draft/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/projects/1/forms/simple/draft/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/audits",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/audits",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/fields",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/fields",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/manifest",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/manifest",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/public-links",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/public-links",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/public-links",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/public-links",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/public-links/public-link-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/public-links/public-link-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/restore",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/restore",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions.csv.zip",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions.csv.zip",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions.csv.zip",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions.csv.zip",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/keys",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/keys",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/diffs",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/diffs",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/submitters",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/submitters",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/forms/simple/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/forms/simple/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/projects/1/forms/simple/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/projects/1/forms/simple/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 29,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/audits",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/audits",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/comments",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/comments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/comments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/comments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/edit",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/edit",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/restore",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/restore",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xls",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xls",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xlsx",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xlsx",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/fields",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/fields",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/manifest",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/manifest",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/key",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/key",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/submission",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/submission",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/submission",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/submission",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/roles",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/roles",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/roles/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/roles/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/sessions/current",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/sessions/current",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/sessions/restore",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/sessions/restore",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/sessions/some-token",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/sessions/some-token",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/user-preferences/project/1/property-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/user-preferences/project/1/property-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/user-preferences/project/1/property-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/user-preferences/project/1/property-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/user-preferences/site/property-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/user-preferences/site/property-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/user-preferences/site/property-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/user-preferences/site/property-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/users",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/users",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/users",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/users",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/users/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/users/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/users/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/users/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/users/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/users/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/users/1/password",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/users/1/password",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/users/current",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/users/current",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/users/reset/initiate?invalidate=true",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/users/reset/initiate?invalidate=true",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/users/reset/verify",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/users/reset/verify",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept email and password",
      "fullTitle": "basic authentication should accept email and password",
      "file": "/usr/odk/test/integration/other/basic-auth.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject 401 if supplied token does not match the expected format",
      "fullTitle": "bearer authentication should reject 401 if supplied token does not match the expected format",
      "file": "/usr/odk/test/integration/other/bearer-auth.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject 401 if the header format is wrong",
      "fullTitle": "bearer authentication should reject 401 if the header format is wrong",
      "file": "/usr/odk/test/integration/other/bearer-auth.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not purge xls blob that is still referenced",
      "fullTitle": "blob query module should not purge xls blob that is still referenced",
      "file": "/usr/odk/test/integration/other/blobs.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle blob collisions with different filenames",
      "fullTitle": "blob query module should handle blob collisions with different filenames",
      "file": "/usr/odk/test/integration/other/blobs.js",
      "duration": 128,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle blob collisions with different filenames and content-types",
      "fullTitle": "blob query module should handle blob collisions with different filenames and content-types",
      "file": "/usr/odk/test/integration/other/blobs.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle blob collisions and not purge still attached blobs",
      "fullTitle": "blob query module should handle blob collisions and not purge still attached blobs",
      "file": "/usr/odk/test/integration/other/blobs.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a reasonable error on unparseable requests",
      "fullTitle": "bodyParser should return a reasonable error on unparseable requests",
      "file": "/usr/odk/test/integration/other/body-parser.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a reasonable error on too big requests",
      "fullTitle": "bodyParser should return a reasonable error on too big requests",
      "file": "/usr/odk/test/integration/other/body-parser.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a reasonable error on bad Content-Encoding header",
      "fullTitle": "bodyParser should return a reasonable error on bad Content-Encoding header",
      "file": "/usr/odk/test/integration/other/body-parser.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a formatted 404 on routematch failure",
      "fullTitle": "bodyParser should return a formatted 404 on routematch failure",
      "file": "/usr/odk/test/integration/other/body-parser.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should define indexes on both sides of foreign key relationships",
      "fullTitle": "database indexes should define indexes on both sides of foreign key relationships",
      "file": "/usr/odk/test/integration/other/database-indexes.js",
      "duration": 9,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "Event stamps are applied upon submission insertion and modification",
      "fullTitle": "DB: Event stamping Event stamps are applied upon submission insertion and modification",
      "file": "/usr/odk/test/integration/other/db-eventstamping.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should time out after 2 mins if no activity at all",
      "fullTitle": "db.stream() timeouts should time out after 2 mins if no activity at all",
      "file": "/usr/odk/test/integration/other/db-stream.js",
      "duration": 693,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not time out after 2 mins if the stream is read",
      "fullTitle": "db.stream() timeouts should not time out after 2 mins if the stream is read",
      "file": "/usr/odk/test/integration/other/db-stream.js",
      "duration": 1542,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should check simple diff case",
      "fullTitle": "empty entity structure field submission diffing should check simple diff case",
      "file": "/usr/odk/test/integration/other/empty-entity-structure.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show submissions in odata",
      "fullTitle": "empty entity structure field odata should show submissions in odata",
      "file": "/usr/odk/test/integration/other/empty-entity-structure.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show odata metadata",
      "fullTitle": "empty entity structure field odata should show odata metadata",
      "file": "/usr/odk/test/integration/other/empty-entity-structure.js",
      "duration": 278,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show submissions in odata when label added",
      "fullTitle": "empty entity structure field odata should show submissions in odata when label added",
      "file": "/usr/odk/test/integration/other/empty-entity-structure.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject keyless forms in keyed projects @slow",
      "fullTitle": "managed encryption lock management should reject keyless forms in keyed projects @slow",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 266,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject forms created while project managed encryption is being enabled @slow",
      "fullTitle": "managed encryption lock management should reject forms created while project managed encryption is being enabled @slow",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should give a decryptor for the given passphrases",
      "fullTitle": "managed encryption decryptor should give a decryptor for the given passphrases",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 261,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should correctly record attachment file ordering",
      "fullTitle": "managed encryption encrypted submission attachment parsing should correctly record attachment file ordering",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject with a reasonable message given incorrect passphrase",
      "fullTitle": "managed encryption end-to-end @slow should reject with a reasonable message given incorrect passphrase",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 391,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt to CSV successfully",
      "fullTitle": "managed encryption end-to-end @slow should decrypt to CSV successfully",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 461,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt to CSV successfully if submissions uploaded to S3",
      "fullTitle": "managed encryption end-to-end @slow should decrypt to CSV successfully if submissions uploaded to S3",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 351,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt to CSV successfully as a direct root table",
      "fullTitle": "managed encryption end-to-end @slow should decrypt to CSV successfully as a direct root table",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 538,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt with passphrases provided via url-encoded POST body",
      "fullTitle": "managed encryption end-to-end @slow should decrypt with passphrases provided via url-encoded POST body",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 467,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt over cookie auth with passphrases provided via url-encoded POST body",
      "fullTitle": "managed encryption end-to-end @slow should decrypt over cookie auth with passphrases provided via url-encoded POST body",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 510,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/util/zip.js:87:6\n    at new Promise (<anonymous>)\n    at httpZipResponseToFiles (test/util/zip.js:85:53)\n    at /usr/odk/test/integration/other/encryption.js:317:41\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should decrypt with passphrases provide via JSON POST body",
      "fullTitle": "managed encryption end-to-end @slow should decrypt with passphrases provide via JSON POST body",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 348,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt attached files successfully",
      "fullTitle": "managed encryption end-to-end @slow should decrypt attached files successfully",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 554,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt attached files successfully when s3 enabled",
      "fullTitle": "managed encryption end-to-end @slow should decrypt attached files successfully when s3 enabled",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 531,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle s3 issues gracefully",
      "fullTitle": "managed encryption end-to-end @slow should handle s3 issues gracefully",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 499,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should strip .enc suffix from decrypted attachments",
      "fullTitle": "managed encryption end-to-end @slow should strip .enc suffix from decrypted attachments",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 569,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should skip encrypted client audit log attachments and mark them as processed",
      "fullTitle": "managed encryption end-to-end @slow should skip encrypted client audit log attachments and mark them as processed",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 431,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt client audit log attachments",
      "fullTitle": "managed encryption end-to-end @slow should decrypt client audit log attachments",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 509,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt client audit log attachments from s3",
      "fullTitle": "managed encryption end-to-end @slow should decrypt client audit log attachments from s3",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 554,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed [plaintext/encrypted] attachments (not decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed [plaintext/encrypted] attachments (not decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 447,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed [plaintext/encrypted] attachments (decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed [plaintext/encrypted] attachments (decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 618,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed[plaintext/encrypted] formdata (decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed[plaintext/encrypted] formdata (decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 457,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed[plaintext/encrypted] formdata (not decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed[plaintext/encrypted] formdata (not decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 489,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed[managedA/managedB] formdata (decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed[managedA/managedB] formdata (decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 721,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed [plaintext/missing-encrypted-xml] formdata (decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed [plaintext/missing-encrypted-xml] formdata (decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 497,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed [plaintext/missing-encrypted-xml] formdata (not decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed [plaintext/missing-encrypted-xml] formdata (not decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 517,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log publish events in the audits",
      "fullTitle": "managed encryption end-to-end @slow should log publish events in the audits",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 373,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should survive a round-trip",
      "fullTitle": "managed encryption end-to-end @slow odk encryption simulation oaep padding should survive a round-trip",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should pad appropriately",
      "fullTitle": "managed encryption end-to-end @slow odk encryption simulation pkcs7 padding should pad appropriately",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 0,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should persist the list of UUIDs of purged entities",
      "fullTitle": "query module entities purge should persist the list of UUIDs of purged entities",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return purged entities through integrity url",
      "fullTitle": "query module entities purge should return purged entities through integrity url",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 221,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge a deleted entity from repeat that shares a source with a non-deleted entity",
      "fullTitle": "query module entities purge should purge a deleted entity from repeat that shares a source with a non-deleted entity",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge a specific entity",
      "fullTitle": "query module entities purge entities purge arguments should purge a specific entity",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge deleted entities, which were created via submissions",
      "fullTitle": "query module entities purge entities purge arguments should purge deleted entities, which were created via submissions",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 139,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all deleted entities of a dataset",
      "fullTitle": "query module entities purge entities purge arguments should purge all deleted entities of a dataset",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all deleted entities under a project",
      "fullTitle": "query module entities purge entities purge arguments should purge all deleted entities under a project",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 299,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all deleted entities under a project",
      "fullTitle": "query module entities purge entities purge arguments should purge all deleted entities under a project",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 235,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when entityUuid specified without projectId and datasetName",
      "fullTitle": "query module entities purge entities purge arguments should throw an error when entityUuid specified without projectId and datasetName",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should throw an error when entityUuid specified without projectId",
      "fullTitle": "query module entities purge entities purge arguments should throw an error when entityUuid specified without projectId",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should throw an error when entityUuid specified without datasetName",
      "fullTitle": "query module entities purge entities purge arguments should throw an error when entityUuid specified without datasetName",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when datasetName specified without projectId",
      "fullTitle": "query module entities purge entities purge arguments should throw an error when datasetName specified without projectId",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge multiple entities deleted over 30 days ago",
      "fullTitle": "query module entities purge 30 day time limit should purge multiple entities deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge recently deleted entities when forced",
      "fullTitle": "query module entities purge 30 day time limit should purge recently deleted entities when forced",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all versions of a deleted entity",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should purge all versions of a deleted entity",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should redact notes of a deleted entity sent with x-action-notes",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should redact notes of a deleted entity sent with x-action-notes",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge API entity sources",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should purge API entity sources",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge submission entity sources",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should purge submission entity sources",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 145,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not purge bulk entity sources",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should not purge bulk entity sources",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge submission backlog for entities",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should purge submission backlog for entities",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow reuse of purged uuid when creating single entity",
      "fullTitle": "query module entities purge restrict recreation with same uuid should not allow reuse of purged uuid when creating single entity",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow reuse of purged uuid when creating bulk entities",
      "fullTitle": "query module entities purge restrict recreation with same uuid should not allow reuse of purged uuid when creating bulk entities",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log a purge event in the audit log when purging entities",
      "fullTitle": "query module entities purge entity.purge audit event should log a purge event in the audit log when purging entities",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log event if no entities purged",
      "fullTitle": "query module entities purge entity.purge audit event should not log event if no entities purged",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should upgrade a form with only a published version",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should upgrade a form with only a published version",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upgrade a form with only a draft version",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should upgrade a form with only a draft version",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upgrade a form with a draft version and a published version",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should upgrade a form with a draft version and a published version",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only upgrade the latest version of a form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should only upgrade the latest version of a form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 216,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should carry forward the xlsx file of a published form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should carry forward the xlsx file of a published form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should carry forward the xlsx file of a draft form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should carry forward the xlsx file of a draft form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should carry forward the attachments of a form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should carry forward the attachments of a form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 152,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the formList once the form changes",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should update the formList once the form changes",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 187,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the updatedAt timestamps on the form when updating a draft form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should update the updatedAt timestamps on the form when updating a draft form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the updatedAt timestamps on the form when updating a published form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should update the updatedAt timestamps on the form when updating a published form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set publishedBy to null on the form when updating a published form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should set publishedBy to null on the form when updating a published form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upgrade a form with a draft version and a published version",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2022.1.0 create form should upgrade a form with a draft version and a published version",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log events about the upgrade for a published form",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should log events about the upgrade for a published form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log events about the upgrade for a draft form",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should log events about the upgrade for a draft form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log events about the upgrade for a published and draft form",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should log events about the upgrade for a published and draft form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 123,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the audit log event for a successful upgrade",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should update the audit log event for a successful upgrade",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not update form if there is a problem, but should process audit event",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should not update form if there is a problem, but should process audit event",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update form if the entities version is not the target one (e.g. 2024.1)",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should not update form if the entities version is not the target one (e.g. 2024.1)",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge a form deleted over 30 days ago",
      "fullTitle": "query module form purge should purge a form deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge multiple forms deleted over 30 days ago",
      "fullTitle": "query module form purge should purge multiple forms deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should by default not purge a recently deleted form",
      "fullTitle": "query module form purge should by default not purge a recently deleted form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge a recently deleted form immediately when forced",
      "fullTitle": "query module form purge should purge a recently deleted form immediately when forced",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the purge action in the audit log",
      "fullTitle": "query module form purge should log the purge action in the audit log",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log purge action in the audit log for each form",
      "fullTitle": "query module form purge should log purge action in the audit log for each form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update the actee table with purgedAt details",
      "fullTitle": "query module form purge should update the actee table with purgedAt details",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge a form with multiple versions",
      "fullTitle": "query module form purge should purge a form with multiple versions",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge attachments (and blobs) of a form",
      "fullTitle": "query module form purge should purge attachments (and blobs) of a form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge attachments and blobs of a form, s3-enabled, blobs not uploaded",
      "fullTitle": "query module form purge should purge attachments and blobs of a form, s3-enabled, blobs not uploaded",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge attachments and blobs of a form, s3-enabled, blobs uploaded",
      "fullTitle": "query module form purge should purge attachments and blobs of a form, s3-enabled, blobs uploaded",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the form fields of a form",
      "fullTitle": "query module form purge should purge the form fields of a form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the select multiple values of a purged form",
      "fullTitle": "query module form purge should purge the select multiple values of a purged form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge a deleted form by ID",
      "fullTitle": "query module form purge purging specific forms via specific arguments should purge a deleted form by ID",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all versions of deleted form in project",
      "fullTitle": "query module form purge purging specific forms via specific arguments should purge all versions of deleted form in project",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge named form only from specified project",
      "fullTitle": "query module form purge purging specific forms via specific arguments should purge named form only from specified project",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when xmlFormId specified without project ID",
      "fullTitle": "query module form purge purging specific forms via specific arguments should throw an error when xmlFormId specified without project ID",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete all defs of a submission",
      "fullTitle": "query module form purge purging form submissions should delete all defs of a submission",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge attachments and blobs associated with the submission",
      "fullTitle": "query module form purge purging form submissions should purge attachments and blobs associated with the submission",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge submission comments from comments table",
      "fullTitle": "query module form purge purging form submissions should purge submission comments from comments table",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge submission comments from notes fields of audits table",
      "fullTitle": "query module form purge purging form submissions should purge submission comments from notes fields of audits table",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge client audit log attachments (that have been processed into database)",
      "fullTitle": "query module form purge purging form submissions should purge client audit log attachments (that have been processed into database)",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge xls blob of a form",
      "fullTitle": "query module form purge purging form submissions should purge xls blob of a form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create a new def and update the version",
      "fullTitle": "form forward versioning should create a new def and update the version",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should create a new draft def and not update the current version",
      "fullTitle": "form forward versioning should create a new draft def and not update the current version",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should preserve submissions",
      "fullTitle": "form forward versioning should preserve submissions",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should copy forward matching attachments",
      "fullTitle": "form forward versioning should copy forward matching attachments",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not copy forward nonmatching attachments",
      "fullTitle": "form forward versioning should not copy forward nonmatching attachments",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not include x-powered-by header",
      "fullTitle": "http-headers should not include x-powered-by header",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should allow private caching of HEAD responses",
      "fullTitle": "http-headers caching headers should allow private caching of HEAD responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should allow private caching of GET responses",
      "fullTitle": "http-headers caching headers should allow private caching of GET responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow any caching of DELETE responses",
      "fullTitle": "http-headers caching headers should not allow any caching of DELETE responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow any caching of PATCH responses",
      "fullTitle": "http-headers caching headers should not allow any caching of PATCH responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not allow any caching of POST responses",
      "fullTitle": "http-headers caching headers should not allow any caching of POST responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow any caching of PUT responses",
      "fullTitle": "http-headers caching headers should not allow any caching of PUT responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 404 for path URL decode errors",
      "fullTitle": "http should return 404 for path URL decode errors",
      "file": "/usr/odk/test/integration/other/http.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should put old forms into project",
      "fullTitle": "database migrations: removing default project should put old forms into project",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 719,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make a default project if no forms",
      "fullTitle": "database migrations: removing default project should not make a default project if no forms",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 641,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should test migration",
      "fullTitle": "database migrations: intermediate form schema should test migration",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 2123,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deletes backups configs",
      "fullTitle": "database migrations: 20230123-01-remove-google-backups deletes backups configs",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 137,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deletes the role that grants backup.verify",
      "fullTitle": "database migrations: 20230123-01-remove-google-backups deletes the role that grants backup.verify",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 139,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "consumes a token",
      "fullTitle": "database migrations: 20230123-01-remove-google-backups backup creation token consumes a token",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to list projects it can access",
      "fullTitle": "data collector role should be able to list projects it can access",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to get basic project details",
      "fullTitle": "data collector role should be able to get basic project details",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to update project details",
      "fullTitle": "data collector role should not be able to update project details",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to list all forms in a project",
      "fullTitle": "data collector role should be able to list all forms in a project",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to get form detail",
      "fullTitle": "data collector role should be able to get form detail",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to update form details",
      "fullTitle": "data collector role should not be able to update form details",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to create new forms",
      "fullTitle": "data collector role should not be able to create new forms",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to list form submissions",
      "fullTitle": "data collector role should not be able to list form submissions",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to create new submissions",
      "fullTitle": "data collector role should be able to create new submissions",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to download submissions",
      "fullTitle": "data collector role should not be able to download submissions",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to get submission detail",
      "fullTitle": "data collector role should not be able to get submission detail",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 119,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able access closed forms and its sub-resources",
      "fullTitle": "data collector role should not be able access closed forms and its sub-resources",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 267,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able see closing forms and make submission",
      "fullTitle": "data collector role should be able see closing forms and make submission",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 123,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to list projects it can access",
      "fullTitle": "project viewer role should be able to list projects it can access",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to get basic project details",
      "fullTitle": "project viewer role should be able to get basic project details",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to update project details",
      "fullTitle": "project viewer role should not be able to update project details",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to list all forms in a project",
      "fullTitle": "project viewer role should be able to list all forms in a project",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to get form detail",
      "fullTitle": "project viewer role should be able to get form detail",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to get form versions",
      "fullTitle": "project viewer role should be able to get form versions",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to get versions of the draft form",
      "fullTitle": "project viewer role should not be able to get versions of the draft form",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to get details of the published version",
      "fullTitle": "project viewer role should be able to get details of the published version",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to get details of the unpublished version",
      "fullTitle": "project viewer role should not be able to get details of the unpublished version",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to update form details",
      "fullTitle": "project viewer role should not be able to update form details",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to create new forms",
      "fullTitle": "project viewer role should not be able to create new forms",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to list form submissions",
      "fullTitle": "project viewer role should be able to list form submissions",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to create new submissions",
      "fullTitle": "project viewer role should not be able to create new submissions",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to download submissions",
      "fullTitle": "project viewer role should be able to download submissions",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to get submission detail",
      "fullTitle": "project viewer role should be able to get submission detail",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 309,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to fetch a submission attachment",
      "fullTitle": "project viewer role should be able to fetch a submission attachment",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process values on submission ingest",
      "fullTitle": "select many value processing should process values on submission ingest",
      "file": "/usr/odk/test/integration/other/select-many.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update values on submission update",
      "fullTitle": "select many value processing should update values on submission update",
      "file": "/usr/odk/test/integration/other/select-many.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle when field changes from select1 to select (selectMultiple)",
      "fullTitle": "select many value processing should handle when field changes from select1 to select (selectMultiple)",
      "file": "/usr/odk/test/integration/other/select-many.js",
      "duration": 153,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept symbols",
      "fullTitle": "slonik query() should accept symbols",
      "file": "/usr/odk/test/integration/other/slonik.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept non-symbols",
      "fullTitle": "slonik query() should not accept non-symbols",
      "file": "/usr/odk/test/integration/other/slonik.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge a specific submission",
      "fullTitle": "query module submission purge submission purge arguments should purge a specific submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when instanceId specified without project ID and xmlFormId",
      "fullTitle": "query module submission purge submission purge arguments should throw an error when instanceId specified without project ID and xmlFormId",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should throw an error when project ID or xmlFormId is non-null but there is no instance id",
      "fullTitle": "query module submission purge submission purge arguments should throw an error when project ID or xmlFormId is non-null but there is no instance id",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge a submission deleted over 30 days ago",
      "fullTitle": "query module submission purge 30 day time limit should purge a submission deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge multiple submissions deleted over 30 days ago",
      "fullTitle": "query module submission purge 30 day time limit should purge multiple submissions deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge recently deleted submission when forced",
      "fullTitle": "query module submission purge 30 day time limit should purge recently deleted submission when forced",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge attachments with submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge attachments with submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge blobs associated with attachments when purging submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge blobs associated with attachments when purging submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all versions of a deleted submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge all versions of a deleted submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge comments of a deleted submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge comments of a deleted submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should redact notes of a deleted submission sent with x-action-notes",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should redact notes of a deleted submission sent with x-action-notes",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge form field values of a deleted submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge form field values of a deleted submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge client audit blobs attachments for a deleted submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge client audit blobs attachments for a deleted submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 128,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge client audit blobs when two submissions have same client audit file",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge client audit blobs when two submissions have same client audit file",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 188,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set submission def id on entity source to null when submission deleted",
      "fullTitle": "query module submission purge submissions as entity sources should set submission def id on entity source to null when submission deleted",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 313,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log a purge event in the audit log when purging submissions",
      "fullTitle": "query module submission purge submission.purge audit event should log a purge event in the audit log when purging submissions",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 260,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log event if no submissions purged",
      "fullTitle": "query module submission purge submission.purge audit event should not log event if no submissions purged",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should run all operations within the correct transaction context",
      "fullTitle": "transaction integration should run all operations within the correct transaction context",
      "file": "/usr/odk/test/integration/other/transactions.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not allow a write conflict @slow",
      "fullTitle": "enketo worker transaction should not allow a write conflict @slow",
      "file": "/usr/odk/test/integration/other/transactions.js",
      "duration": 656,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create a user account with a password",
      "fullTitle": "task: accounts createUser should create a user account with a password",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 8,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should create a user account with a null password",
      "fullTitle": "task: accounts createUser should create a user account with a null password",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log an audit entry",
      "fullTitle": "task: accounts createUser should log an audit entry",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should set the password if given",
      "fullTitle": "task: accounts createUser should set the password if given",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 13,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not verify a null password",
      "fullTitle": "task: accounts createUser should not verify a null password",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if the password is too short",
      "fullTitle": "task: accounts createUser should complain if the password is too short",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should promote a user account to admin",
      "fullTitle": "task: accounts promoteUser should promote a user account to admin",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log an audit entry",
      "fullTitle": "task: accounts promoteUser should log an audit entry",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should set a user password",
      "fullTitle": "task: accounts setUserPassword should set a user password",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain about a password that is too short",
      "fullTitle": "task: accounts setUserPassword should complain about a password that is too short",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should delete sessions",
      "fullTitle": "task: accounts setUserPassword should delete sessions",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log an audit entry",
      "fullTitle": "task: accounts setUserPassword should log an audit entry",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not compute analytics if not enabled",
      "fullTitle": "task: analytics should not compute analytics if not enabled",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not compute analytics if explicitly disabled",
      "fullTitle": "task: analytics should not compute analytics if explicitly disabled",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not compute analytics if analytics sent recently",
      "fullTitle": "task: analytics should not compute analytics if analytics sent recently",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should send analytics if enabled and time to send",
      "fullTitle": "task: analytics should send analytics if enabled and time to send",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 139,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should resend analytics if last attempt failed",
      "fullTitle": "task: analytics should resend analytics if last attempt failed",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log event and full report if analytics sent successfully",
      "fullTitle": "task: analytics should log event and full report if analytics sent successfully",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log request errors",
      "fullTitle": "task: analytics should log request errors",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should check xml content of what analytics reporter sent",
      "fullTitle": "task: analytics should check xml content of what analytics reporter sent",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should encode XML entities in user-controlled fields in analytics XML",
      "fullTitle": "task: analytics should encode XML entities in user-controlled fields in analytics XML",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fetch configuration by key",
      "fullTitle": "task: config getConfiguration should fetch configuration by key",
      "file": "/usr/odk/test/integration/task/config.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if configuration is not found",
      "fullTitle": "task: config getConfiguration should reject if configuration is not found",
      "file": "/usr/odk/test/integration/task/config.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should save configuration by key",
      "fullTitle": "task: config setConfiguration should save configuration by key",
      "file": "/usr/odk/test/integration/task/config.js",
      "duration": 9,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should round-trip successfully",
      "fullTitle": "task: fs encrypted archives should round-trip successfully",
      "file": "/usr/odk/test/integration/task/fs.js",
      "duration": 182,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail gracefully given an incorrect passphrase",
      "fullTitle": "task: fs encrypted archives should fail gracefully given an incorrect passphrase",
      "file": "/usr/odk/test/integration/task/fs.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail gracefully given a random file",
      "fullTitle": "task: fs encrypted archives should fail gracefully given a random file",
      "file": "/usr/odk/test/integration/task/fs.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fail gracefully given a random archive",
      "fullTitle": "task: fs encrypted archives should fail gracefully given a random archive",
      "file": "/usr/odk/test/integration/task/fs.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log upgrade if no previous upgrade event exists",
      "fullTitle": "task: log-upgrade should log upgrade if no previous upgrade event exists",
      "file": "/usr/odk/test/integration/task/log-upgrade.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log upgrade if version changes",
      "fullTitle": "task: log-upgrade should log upgrade if version changes",
      "file": "/usr/odk/test/integration/task/log-upgrade.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log upgrade if client or server changes",
      "fullTitle": "task: log-upgrade should log upgrade if client or server changes",
      "file": "/usr/odk/test/integration/task/log-upgrade.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not log upgrade if nothing changes",
      "fullTitle": "task: log-upgrade should not log upgrade if nothing changes",
      "file": "/usr/odk/test/integration/task/log-upgrade.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge recently deleted forms by default",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms force flag should not purge recently deleted forms by default",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 8,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge recently deleted form if forced",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms force flag should purge recently deleted form if forced",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return message for multiple forms purged",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms force flag should return message for multiple forms purged",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge specific recently deleted form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified by formId should not purge specific recently deleted form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge specific recently deleted form if forced",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified by formId should purge specific recently deleted form if forced",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should force purge only specific form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified by formId should force purge only specific form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge recently deleted forms even if projectId is matched (when not forced",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should not purge recently deleted forms even if projectId is matched (when not forced",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge recently deleted forms even if projectId AND formId is matched (when not forced)",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should not purge recently deleted forms even if projectId AND formId is matched (when not forced)",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge specific form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should purge specific form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge specific form if tied to a different project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should not purge specific form if tied to a different project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge all forms in project if no form ID supplied",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should purge all forms in project if no form ID supplied",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge multiple forms if tied to a different project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should not purge multiple forms if tied to a different project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should throw error if xmlFormId specified without projectId",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms with xmlFormId should throw error if xmlFormId specified without projectId",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should force purge form by project and xmlFormId",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms with xmlFormId should force purge form by project and xmlFormId",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge form by project and xmlFormId if form deleted recently and not forced",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms with xmlFormId should not purge form by project and xmlFormId if form deleted recently and not forced",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call submission purge if mode is specified as submissions",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should call submission purge if mode is specified as submissions",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call submission purge if submission instance id is specified",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should call submission purge if submission instance id is specified",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if instance id specified without project and form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should complain if instance id specified without project and form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if instance id specified without project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should complain if instance id specified without project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if instance id specified without form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should complain if instance id specified without form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call entities purge if mode is specified as entities",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should call entities purge if mode is specified as entities",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call entities purge if entities uuid is specified",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should call entities purge if entities uuid is specified",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call entities purge if dataset name is specified",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should call entities purge if dataset name is specified",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if uuid specified without project and dataset",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should complain if uuid specified without project and dataset",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if uuid specified without project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should complain if uuid specified without project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if uuid specified without dataset",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should complain if uuid specified without dataset",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if dataset specified without project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should complain if dataset specified without project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge both forms and submissions when neither mode is specified (not forced)",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) all should purge both forms and submissions when neither mode is specified (not forced)",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 9,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge both forms and submissions when neither mode is specified (forced)",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) all should purge both forms and submissions when neither mode is specified (forced)",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should accept other mode and treat as \"all\"",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) all should accept other mode and treat as \"all\"",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge in a reasonable amount of time @slow",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) with s3 blob storage should purge in a reasonable amount of time @slow",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 757,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should remove expired sessions",
      "fullTitle": "task: reap-sessions should remove expired sessions",
      "file": "/usr/odk/test/integration/task/reap-sessions.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "uploadPending() should fail",
      "fullTitle": "task: s3 s3 disabled uploadPending() should fail",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "setFailedToPending() should fail",
      "fullTitle": "task: s3 s3 disabled setFailedToPending() should fail",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "getCount() should fail",
      "fullTitle": "task: s3 s3 disabled getCount() should fail",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return count of pending blobs",
      "fullTitle": "task: s3 s3 enabled getCount() should return count of pending blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 9,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return count of uploaded blobs",
      "fullTitle": "task: s3 s3 enabled getCount() should return count of uploaded blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return count of failed blobs",
      "fullTitle": "task: s3 s3 enabled getCount() should return count of failed blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return count of skipped blobs",
      "fullTitle": "task: s3 s3 enabled getCount() should return count of skipped blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject requests for unknown statuses",
      "fullTitle": "task: s3 s3 enabled getCount() should reject requests for unknown statuses",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should change all failed messages to pending",
      "fullTitle": "task: s3 s3 enabled setFailedToPending() should change all failed messages to pending",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 16,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not do anything if nothing to upload",
      "fullTitle": "task: s3 s3 enabled uploadPending() should not do anything if nothing to upload",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should upload pending blobs, and ignore others",
      "fullTitle": "task: s3 s3 enabled uploadPending() should upload pending blobs, and ignore others",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 14,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should skip 0-byte blobs",
      "fullTitle": "task: s3 s3 enabled uploadPending() should skip 0-byte blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 8,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return error if uploading fails",
      "fullTitle": "task: s3 s3 enabled uploadPending() should return error if uploading fails",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 14,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not allow failure to affect previous or future uploads",
      "fullTitle": "task: s3 s3 enabled uploadPending() should not allow failure to affect previous or future uploads",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 16,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not attempt to upload an in-progress blob",
      "fullTitle": "task: s3 s3 enabled uploadPending() with delayed s3 upload should not attempt to upload an in-progress blob",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 329,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upload requested number of blobs, and ignore others",
      "fullTitle": "task: s3 s3 enabled uploadPending() with limit should upload requested number of blobs, and ignore others",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 15,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not complain if blob count is less than limit",
      "fullTitle": "task: s3 s3 enabled uploadPending() with limit should not complain if blob count is less than limit",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should upload all blobs if limit is zero",
      "fullTitle": "task: s3 s3 enabled uploadPending() with limit should upload all blobs if limit is zero",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 14,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should print success json to stdout",
      "fullTitle": "task: runner should print success json to stdout",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 1111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should print failure details to stderr and exit nonzero",
      "fullTitle": "task: runner should print failure details to stderr and exit nonzero",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 973,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log",
      "fullTitle": "task: auditing on task success should log",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 12,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fault but passthrough on log failure",
      "fullTitle": "task: auditing on task success should fault but passthrough on log failure",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 8,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log",
      "fullTitle": "task: auditing on task failure should log",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fault but passthrough on log failure",
      "fullTitle": "task: auditing on task failure should fault but passthrough on log failure",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should do nothing on task success",
      "fullTitle": "task: emailing should do nothing on task success",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should send an email on task failure",
      "fullTitle": "task: emailing should send an email on task failure",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 6,
      "currentRetry": 0,
      "err": {
        "operator": "to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}",
        "actual": {},
        "negate": false,
        "assertion": {
          "obj": "[object Promise]",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}",
            "actual": "[object Promise]",
            "negate": false,
            "assertion": "[object Object]"
          }
        },
        "message": "expected [Promise] to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}",
        "stack": "AssertionError: expected [Promise] to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at next$onReject (node_modules/should/cjs/should.js:1608:16)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected [Promise] to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}",
        "generatedMessage": true
      }
    },
    {
      "title": "should not make entity for approved submission for non-entity form",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make entity for approved submission for non-entity form",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make entity for rejected entity submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make entity for rejected entity submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 198,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make entity for create=false submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make entity for create=false submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make an entity when reprocessing a submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make an entity when reprocessing a submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make an entity when reprocessing an edited submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make an entity when reprocessing an edited submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 153,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make entity for draft submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make entity for draft submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log entity creation in audit log",
      "fullTitle": "worker: entity should successfully process submissions about entities should log entity creation in audit log",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 190,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log entity update in audit log",
      "fullTitle": "worker: entity should successfully process submissions about entities should log entity update in audit log",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because UUID is invalid",
      "fullTitle": "worker: entity should catch problems creating new entity validation errors should fail because UUID is invalid",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because dataset attribute is missing",
      "fullTitle": "worker: entity should catch problems creating new entity validation errors should fail because dataset attribute is missing",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity because UUID is used by a deleted entity",
      "fullTitle": "worker: entity should catch problems creating new entity validation errors should not create entity because UUID is used by a deleted entity",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity because UUID is used by a purged entity",
      "fullTitle": "worker: entity should catch problems creating new entity validation errors should not create entity because UUID is used by a purged entity",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 141,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail if trying to use an entity uuid that exists",
      "fullTitle": "worker: entity should catch problems creating new entity constraint errors should fail if trying to use an entity uuid that exists",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail for other constraint errors like dataset name does not exist",
      "fullTitle": "worker: entity should catch problems creating new entity constraint errors should fail for other constraint errors like dataset name does not exist",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail and log other system errors",
      "fullTitle": "worker: entity should catch problems creating new entity constraint errors should fail and log other system errors",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fail because UUID is invalid",
      "fullTitle": "worker: entity should catch problems updating entity validation errors should fail because UUID is invalid",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 177,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because dataset attribute is missing",
      "fullTitle": "worker: entity should catch problems updating entity validation errors should fail because dataset attribute is missing",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 137,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because UUID has been deleted",
      "fullTitle": "worker: entity should catch problems updating entity validation errors should fail because UUID has been deleted",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because UUID has been purged",
      "fullTitle": "worker: entity should catch problems updating entity validation errors should fail because UUID has been purged",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail if trying to update an entity by uuid that does not exist",
      "fullTitle": "worker: entity should catch problems updating entity constraint errors should fail if trying to update an entity by uuid that does not exist",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail for other constraint errors like dataset name does not exist",
      "fullTitle": "worker: entity should catch problems updating entity constraint errors should fail for other constraint errors like dataset name does not exist",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity on submission creation when approvalRequired is false",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should create entity on submission creation when approvalRequired is false",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity on submission approval when approvalRequired is true",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should create entity on submission approval when approvalRequired is true",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity on submission update when approvalRequired is false and it was not created on submission receipt",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should create entity on submission update when approvalRequired is false and it was not created on submission receipt",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity on approval of submission update when approvalRequired is true and entity was not created previously",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should create entity on approval of submission update when approvalRequired is true and entity was not created previously",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 190,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create a new entity on edit if it was created on submission receipt",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should not create a new entity on edit if it was created on submission receipt",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create on approval if approval is not required",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should not create on approval if approval is not required",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 132,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity when review status is rejected",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should not create entity when review status is rejected",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 239,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update entity on submission.create even if approvalRequired is true for new entities",
      "fullTitle": "worker: entity event processing of entity updates only on submission.create regardless of approvalRequired should update entity on submission.create even if approvalRequired is true for new entities",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process submission.update (approval) for entity update",
      "fullTitle": "worker: entity event processing of entity updates only on submission.create regardless of approvalRequired should not process submission.update (approval) for entity update",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should never process submission.update for entity update even if submission.create gets skipped",
      "fullTitle": "worker: entity event processing of entity updates only on submission.create regardless of approvalRequired should never process submission.update for entity update even if submission.create gets skipped",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should do nothing if the attachment is not a client audit",
      "fullTitle": "worker: submission.attachment.update should do nothing if the attachment is not a client audit",
      "file": "/usr/odk/test/integration/worker/submission.attachment.update.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process the given logs",
      "fullTitle": "worker: submission.attachment.update should process the given logs",
      "file": "/usr/odk/test/integration/worker/submission.attachment.update.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process the given logs if already uploaded to s3",
      "fullTitle": "worker: submission.attachment.update should process the given logs if already uploaded to s3",
      "file": "/usr/odk/test/integration/worker/submission.attachment.update.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not reprocess already-processed logs",
      "fullTitle": "worker: submission.attachment.update should not reprocess already-processed logs",
      "file": "/usr/odk/test/integration/worker/submission.attachment.update.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should opt-in user to mailing list when preference changes",
      "fullTitle": "worker: user should opt-in user to mailing list when preference changes",
      "file": "/usr/odk/test/integration/worker/user.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should NOT opt-in user to mailing list when preference changes to explicitly opt out",
      "fullTitle": "worker: user should NOT opt-in user to mailing list when preference changes to explicitly opt out",
      "file": "/usr/odk/test/integration/worker/user.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not opt-in user if preference is set to false immediately after",
      "fullTitle": "worker: user should not opt-in user if preference is set to false immediately after",
      "file": "/usr/odk/test/integration/worker/user.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return false and do nothing if no event is given",
      "fullTitle": "worker runner @slow should return false and do nothing if no event is given",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 0,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return false and do nothing if no jobs match the event",
      "fullTitle": "worker runner @slow should return false and do nothing if no jobs match the event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return true if a job is matched",
      "fullTitle": "worker runner @slow should return true if a job is matched",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 0,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should pass the container and event details to the job",
      "fullTitle": "worker runner @slow should pass the container and event details to the job",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should run all matched jobs",
      "fullTitle": "worker runner @slow should run all matched jobs",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should mark the event as processed after on job completion",
      "fullTitle": "worker runner @slow should mark the event as processed after on job completion",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log to Sentry if a worker goes wrong",
      "fullTitle": "worker runner @slow should log to Sentry if a worker goes wrong",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should still survive and reschedule if Sentry goes wrong",
      "fullTitle": "worker runner @slow should still survive and reschedule if Sentry goes wrong",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should unclaim the event and mark failure in case of failure",
      "fullTitle": "worker runner @slow should unclaim the event and mark failure in case of failure",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should roll back changes in case of error in any job",
      "fullTitle": "worker runner @slow should roll back changes in case of error in any job",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return null if there are no unprocessed events",
      "fullTitle": "worker checker should return null if there are no unprocessed events",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should mark the event as claimed",
      "fullTitle": "worker checker should mark the event as claimed",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not mark any other events as claimed",
      "fullTitle": "worker checker should not mark any other events as claimed",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return the oldest eligible event",
      "fullTitle": "worker checker should return the oldest eligible event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not return a recently failed event",
      "fullTitle": "worker checker should not return a recently failed event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should retry a previously failed event after some time",
      "fullTitle": "worker checker should retry a previously failed event after some time",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not return a repeatedly failed event",
      "fullTitle": "worker checker should not return a repeatedly failed event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should claim a stale/hung event",
      "fullTitle": "worker checker should claim a stale/hung event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should run a full loop right away",
      "fullTitle": "worker loop should run a full loop right away",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should run two full loops right away",
      "fullTitle": "worker loop should run two full loops right away",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should run two full loops with an idle cycle in between",
      "fullTitle": "worker loop should run two full loops with an idle cycle in between",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should restart if the check fails prequery",
      "fullTitle": "worker loop should restart if the check fails prequery",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restart if the check fails in-query",
      "fullTitle": "worker loop should restart if the check fails in-query",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restart if the process itself fails",
      "fullTitle": "worker loop should restart if the process itself fails",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    }
  ],
  "pending": [
    {
      "title": "should reject if the config cannot be directly set",
      "fullTitle": "api: /config generic endpoints POST should reject if the config cannot be directly set",
      "file": "/usr/odk/test/integration/api/config.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should transform the config value",
      "fullTitle": "api: /config generic endpoints GET should transform the config value",
      "file": "/usr/odk/test/integration/api/config.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should reject if the config cannot be directly set",
      "fullTitle": "api: /config generic endpoints DELETE should reject if the config cannot be directly set",
      "file": "/usr/odk/test/integration/api/config.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should return ordered dataset properties including from deleted published form",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return ordered dataset properties including from deleted published form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should accept submission update for a closing form",
      "fullTitle": "api: /submission POST versioning should accept submission update for a closing form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should accept submission update for a closed form",
      "fullTitle": "api: /submission POST versioning should accept submission update for a closed form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should save a submission for the draft of a closing form",
      "fullTitle": "api: /submission [draft] POST should save a submission for the draft of a closing form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "currentRetry": 0,
      "err": {}
    },
    {
      "title": "should save a submission for the draft of a closed form",
      "fullTitle": "api: /submission [draft] POST should save a submission for the draft of a closed form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "currentRetry": 0,
      "err": {}
    }
  ],
  "failures": [
    {
      "title": "should return the created key",
      "fullTitle": "api: /projects/:id/app-users POST should return the created key",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 66,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:17:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should allow project managers to create",
      "fullTitle": "api: /projects/:id/app-users POST should allow project managers to create",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 69,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:27:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not allow the created user any form access",
      "fullTitle": "api: /projects/:id/app-users POST should not allow the created user any form access",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 177,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:33:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should create a long session",
      "fullTitle": "api: /projects/:id/app-users POST should create a long session",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 49,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:44:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/app-users POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 69,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:56:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return a list of tokens in order with merged data",
      "fullTitle": "api: /projects/:id/app-users GET should return a list of tokens in order with merged data",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 54,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:73:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should only return tokens from the requested project",
      "fullTitle": "api: /projects/:id/app-users GET should only return tokens from the requested project",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 48,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:88:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should leave tokens out if the session is ended",
      "fullTitle": "api: /projects/:id/app-users GET should leave tokens out if the session is ended",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 205,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:103:87\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should sort revoked field keys to the bottom",
      "fullTitle": "api: /projects/:id/app-users GET should sort revoked field keys to the bottom",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:116:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should join through additional data if extended metadata is requested",
      "fullTitle": "api: /projects/:id/app-users GET should join through additional data if extended metadata is requested",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:130:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should correctly report last used in extended metadata",
      "fullTitle": "api: /projects/:id/app-users GET should correctly report last used in extended metadata",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 42,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:143:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should sort revoked field keys to the bottom in extended metadata",
      "fullTitle": "api: /projects/:id/app-users GET should sort revoked field keys to the bottom in extended metadata",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 42,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:164:82\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return 403 unless the user can delete",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should return 403 unless the user can delete",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:181:85\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete the token",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should delete the token",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:187:85\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should allow project managers to delete",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should allow project managers to delete",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:195:83\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete assignments on the token",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should delete assignments on the token",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:200:85\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should only delete the token if it is part of the project",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should only delete the token if it is part of the project",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 48,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:216:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/app-users /:id DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:222:85\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should passthrough to the appropriate route with successful auth",
      "fullTitle": "api: /key/:key should passthrough to the appropriate route with successful auth",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 81,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:249:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not be able access closed forms and its sub-resources",
      "fullTitle": "api: /key/:key should not be able access closed forms and its sub-resources",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 178,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/app-users.js:263:8\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return all assignments on forms",
      "fullTitle": "api: /projects/:id/assignments/forms GET should return all assignments on forms",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:21:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return extended assignments on forms",
      "fullTitle": "api: /projects/:id/assignments/forms GET should return extended assignments on forms",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 79,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:21:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return filtered assignments on forms",
      "fullTitle": "api: /projects/:id/assignments/forms /:roleId GET should return filtered assignments on forms",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 58,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:21:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return filtered extended assignments on forms",
      "fullTitle": "api: /projects/:id/assignments/forms /:roleId GET should return filtered extended assignments on forms",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 56,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:21:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return all form assignments",
      "fullTitle": "api: /projects/:projectId/forms/:xmlFormId/assignments should return all form assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:545:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return all form assignments for a role",
      "fullTitle": "api: /projects/:projectId/forms/:xmlFormId/assignments should return all form assignments for a role",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 63,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:561:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete assignments",
      "fullTitle": "api: /projects/:projectId/forms/:xmlFormId/assignments should delete assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 63,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/assignments.js:579:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return all activity",
      "fullTitle": "/audits GET should return all activity",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 73,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"user.create\"\n  \"project.update\"\n  \"project.create\"\n  \"user.session.create\"\n]",
        "message": "expected Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create'\n] (at length, A has 8 and B has 4)",
        "details": "at length, A has 8 and B has 4",
        "showDiff": true,
        "actual": "[\n  \"user.create\"\n  \"project.update\"\n  \"project.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "user.create",
            "project.update",
            "project.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "user.create",
              "project.update",
              "project.create",
              "user.session.create"
            ],
            "details": "at length, A has 8 and B has 4",
            "showDiff": true,
            "actual": "user.create,project.update,project.create,user.session.create,user.session.create,user.session.create,user.session.create,user.session.create",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create'\n] (at length, A has 8 and B has 4)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at assertAuditActions (test/integration/api/audits.js:12:36)\n    at /usr/odk/test/integration/api/audits.js:53:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'project.update',\n  'project.create',\n  'user.session.create'\n] (at length, A has 8 and B has 4)",
        "generatedMessage": true
      }
    },
    {
      "title": "should return extended data if requested",
      "fullTitle": "/audits GET should return extended data if requested",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 91,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"user.create\"\n  \"form.update.publish\"\n  \"form.create\"\n  \"project.create\"\n  \"user.session.create\"\n]",
        "message": "expected Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create'\n] (at length, A has 9 and B has 5)",
        "details": "at length, A has 9 and B has 5",
        "showDiff": true,
        "actual": "[\n  \"user.create\"\n  \"form.update.publish\"\n  \"form.create\"\n  \"project.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "user.create",
            "form.update.publish",
            "form.create",
            "project.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "user.create",
              "form.update.publish",
              "form.create",
              "project.create",
              "user.session.create"
            ],
            "details": "at length, A has 9 and B has 5",
            "showDiff": true,
            "actual": "user.create,form.update.publish,form.create,project.create,user.session.create,user.session.create,user.session.create,user.session.create,user.session.create",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create'\n] (at length, A has 9 and B has 5)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at assertAuditActions (test/integration/api/audits.js:12:36)\n    at /usr/odk/test/integration/api/audits.js:114:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.create',\n  'form.update.publish',\n  'form.create',\n  'project.create',\n  'user.session.create'\n] (at length, A has 9 and B has 5)",
        "generatedMessage": true
      }
    },
    {
      "title": "should return Enketo IDs for form",
      "fullTitle": "/audits GET should return Enketo IDs for form",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 68,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"form.update.publish\"\n  \"form.create\"\n  \"user.session.create\"\n]",
        "message": "expected Array [\n  'form.update.publish',\n  'form.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [ 'form.update.publish', 'form.create', 'user.session.create' ] (at length, A has 7 and B has 3)",
        "details": "at length, A has 7 and B has 3",
        "showDiff": true,
        "actual": "[\n  \"form.update.publish\"\n  \"form.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "form.update.publish",
            "form.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "form.update.publish",
              "form.create",
              "user.session.create"
            ],
            "details": "at length, A has 7 and B has 3",
            "showDiff": true,
            "actual": "form.update.publish,form.create,user.session.create,user.session.create,user.session.create,user.session.create,user.session.create",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  'form.update.publish',\n  'form.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [ 'form.update.publish', 'form.create', 'user.session.create' ] (at length, A has 7 and B has 3)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at assertAuditActions (test/integration/api/audits.js:12:36)\n    at Context.<anonymous> (test/integration/api/audits.js:177:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  'form.update.publish',\n  'form.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [ 'form.update.publish', 'form.create', 'user.session.create' ] (at length, A has 7 and B has 3)",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter by action category (user)",
      "fullTitle": "/audits GET should filter by action category (user)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 89,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"user.delete\"\n  \"user.assignment.delete\"\n  \"user.assignment.create\"\n  \"user.update\"\n  \"user.create\"\n  \"user.session.create\"\n]",
        "message": "expected Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create'\n] (at length, A has 10 and B has 6)",
        "details": "at length, A has 10 and B has 6",
        "showDiff": true,
        "actual": "[\n  \"user.delete\"\n  \"user.assignment.delete\"\n  \"user.assignment.create\"\n  \"user.update\"\n  \"user.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n  \"user.session.create\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "user.delete",
            "user.assignment.delete",
            "user.assignment.create",
            "user.update",
            "user.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create",
            "user.session.create"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "user.delete",
              "user.assignment.delete",
              "user.assignment.create",
              "user.update",
              "user.create",
              "user.session.create"
            ],
            "details": "at length, A has 10 and B has 6",
            "showDiff": true,
            "actual": "user.delete,user.assignment.delete,user.assignment.create,user.update,user.create,user.session.create,user.session.create,user.session.create,user.session.create,user.session.create",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create'\n] (at length, A has 10 and B has 6)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at assertAuditActions (test/integration/api/audits.js:12:36)\n    at /usr/odk/test/integration/api/audits.js:263:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create',\n  'user.session.create'\n] to equal Array [\n  'user.delete',\n  'user.assignment.delete',\n  'user.assignment.create',\n  'user.update',\n  'user.create',\n  'user.session.create'\n] (at length, A has 10 and B has 6)",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter (inclusively) by start date",
      "fullTitle": "/audits GET should filter (inclusively) by start date",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 8 to be 4",
        "showDiff": true,
        "actual": "8",
        "negate": false,
        "assertion": {
          "obj": 8,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 8,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 8 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:468:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 8 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter by start date+time",
      "fullTitle": "/audits GET should filter by start date+time",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 38,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "3",
        "message": "expected 7 to be 3",
        "showDiff": true,
        "actual": "7",
        "negate": false,
        "assertion": {
          "obj": 7,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 3,
            "showDiff": true,
            "actual": 7,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 7 to be 3\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:488:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 7 to be 3",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter extended data by start date+time",
      "fullTitle": "/audits GET should filter extended data by start date+time",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 38,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "3",
        "message": "expected 7 to be 3",
        "showDiff": true,
        "actual": "7",
        "negate": false,
        "assertion": {
          "obj": 7,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 3,
            "showDiff": true,
            "actual": 7,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 7 to be 3\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:508:36\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 7 to be 3",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter out submission and backup events given action=nonverbose",
      "fullTitle": "/audits GET should filter out submission and backup events given action=nonverbose",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 98,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "3",
        "message": "expected 7 to be 3",
        "showDiff": true,
        "actual": "7",
        "negate": false,
        "assertion": {
          "obj": 7,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 3,
            "showDiff": true,
            "actual": 7,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 7 to be 3\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:599:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 7 to be 3",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter out entity events given action=nonverbose",
      "fullTitle": "/audits GET should filter out entity events given action=nonverbose",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 155,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 8 to be 4",
        "showDiff": true,
        "actual": "8",
        "negate": false,
        "assertion": {
          "obj": 8,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 8,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 8 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:655:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/audits.js:652:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 8 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter out offline entity submission backlog events given action=nonverbose",
      "fullTitle": "/audits GET should filter out offline entity submission backlog events given action=nonverbose",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 120,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 8 to be 4",
        "showDiff": true,
        "actual": "8",
        "negate": false,
        "assertion": {
          "obj": 8,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 8,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 8 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:698:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/audits.js:695:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 8 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should log and return notes if given",
      "fullTitle": "/audits GET should log and return notes if given",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 71,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 8 to be 4",
        "showDiff": true,
        "actual": "8",
        "negate": false,
        "assertion": {
          "obj": 8,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 8,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 8 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/audits.js:723:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 8 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should get the deletedAt date of a deleted app user",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted app user",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 63,
      "currentRetry": 0,
      "err": {
        "stack": "TypeError: Cannot read properties of undefined (reading 'actee')\n    at /usr/odk/test/integration/api/audits.js:807:44\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "message": "Cannot read properties of undefined (reading 'actee')"
      }
    },
    {
      "title": "should return data for app-user with access to consuming Form",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return data for app-user with access to consuming Form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 103,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/integration/api/datasets.js:6809:10\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/datasets.js:38:3)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should reject for app-user if consuming Form is closed",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should reject for app-user if consuming Form is closed",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 136,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at /usr/odk/test/integration/api/datasets.js:6832:10\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/datasets.js:38:3)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
      }
    },
    {
      "title": "should not return associated assignments for a deleted form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should not return associated assignments for a deleted form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 72,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/delete-restore.js:43:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not return associated assignments for a specific role for a deleted form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should not return associated assignments for a specific role for a deleted form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 71,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/delete-restore.js:64:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should restore app user submission access",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) restoring access to undeleted forms should restore app user submission access",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 53,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/delete-restore.js:201:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not be able to access assignments of deleted form thru the form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) restoring access to undeleted forms should not be able to access assignments of deleted form thru the form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 44,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/delete-restore.js:223:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should upload form definition and form attachment with cookie auth",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should upload form definition and form attachment with cookie auth",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 55,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at Context.<anonymous> (test/integration/api/forms/draft.js:2125:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should return auth-filtered results for app users",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return auth-filtered results for app users",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 44,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/list.js:194:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should prefix returned routes for app users",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should prefix returned routes for app users",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 46,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/forms/list.js:222:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return nextURL",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return nextURL",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 317,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
        "message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D'",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata-entities.js:236:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata-entities.js:229:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24skiptoken=01eyJ1dWlkIjoiNWU1N2YwNWQtYzM2Zi00NmVlLTkyOTMtNjZlZmM1YjhhNDkxIn0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should not duplicate or skip entities - opaque cursor",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should not duplicate or skip entities - opaque cursor",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 269,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
        "message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D'",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata-entities.js:258:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata-entities.js:250:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24count=true&%24skiptoken=01eyJ1dWlkIjoiZmMwMGE4MzItNGViMi00MTM2LTg3YWUtODJjMTI1ZmQ4N2U2In0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should not return deleted entities - opaque cursor",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should not return deleted entities - opaque cursor",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 354,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
        "message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D'",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata-entities.js:297:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata-entities.js:288:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D' to be 'http://localhost:8989/v1/projects/1/datasets/people.svc/Entities?%24top=2&%24count=true&%24skiptoken=01eyJ1dWlkIjoiYWU1MTVmZWQtMzdlMS00OTI4LWI0Y2YtMDYxOTFjODdjNDk5In0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should return only searched entities with pagination",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return only searched entities with pagination",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 326,
      "currentRetry": 0,
      "err": {
        "stack": "TypeError: Invalid URL\n    at new URL (node:internal/url:827:25)\n    at Request.request (node_modules/superagent/lib/node/index.js:678:15)\n    at Request.end (node_modules/superagent/lib/node/index.js:909:8)\n    at Test.end (node_modules/supertest/lib/test.js:136:11)\n    at /usr/odk/node_modules/superagent/lib/request-base.js:265:12\n    at new Promise (<anonymous>)\n    at RequestBase.then (node_modules/superagent/lib/request-base.js:249:31)\n    at Context.<anonymous> (test/integration/api/odata-entities.js:472:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "message": "Invalid URL",
        "code": "ERR_INVALID_URL",
        "input": "http://127.0.0.1:36005https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24search=john&%24skiptoken=01eyJ1dWlkIjoiMmRjOWJmODUtNzRiZC00NzM3LWIzMzktNGFkN2RhNTk1ZmE5In0%3D"
      }
    },
    {
      "title": "should return filtered entities with pagination",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return filtered entities with pagination",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 299,
      "currentRetry": 0,
      "err": {
        "stack": "TypeError: Invalid URL\n    at new URL (node:internal/url:827:25)\n    at Request.request (node_modules/superagent/lib/node/index.js:678:15)\n    at Request.end (node_modules/superagent/lib/node/index.js:909:8)\n    at Test.end (node_modules/supertest/lib/test.js:136:11)\n    at /usr/odk/node_modules/superagent/lib/request-base.js:265:12\n    at new Promise (<anonymous>)\n    at RequestBase.then (node_modules/superagent/lib/request-base.js:249:31)\n    at Context.<anonymous> (test/integration/api/odata-entities.js:564:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "message": "Invalid URL",
        "code": "ERR_INVALID_URL",
        "input": "http://127.0.0.1:46447https://central.local/v1/projects/1/datasets/people.svc/Entities?%24top=1&%24filter=__system%2FcreatorId+eq+6&%24skiptoken=01eyJ1dWlkIjoiZTRmODcxZGItYTY5ZS00NTA5LWI4ZWYtYzU3YmYzNzRkZTk1In0%3D"
      }
    },
    {
      "title": "should return service document",
      "fullTitle": "api: /datasets/:name.svc GET service document should return service document",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 263,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Entities\"\n      \"url\": \"Entities\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/datasets/people.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Entities\"\n      \"url\": \"Entities\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/datasets/people.svc/$metadata",
            "value": [
              {
                "name": "Entities",
                "kind": "EntitySet",
                "url": "Entities"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata",
              "value": [
                {
                  "name": "Entities",
                  "kind": "EntitySet",
                  "url": "Entities"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata-entities.js:910:26\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata-entities.js:907:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata',\n  value: Array [\n    Object { name: 'Entities', kind: 'EntitySet', url: 'Entities' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/datasets/people.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/datasets/people.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return an OData service document",
      "fullTitle": "api: /forms/:id.svc GET should return an OData service document",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.children.child\"\n      \"url\": \"Submissions.children.child\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.children.child\"\n      \"url\": \"Submissions.children.child\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata",
            "value": [
              {
                "name": "Submissions",
                "kind": "EntitySet",
                "url": "Submissions"
              },
              {
                "name": "Submissions.children.child",
                "kind": "EntitySet",
                "url": "Submissions.children.child"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata",
              "value": [
                {
                  "name": "Submissions",
                  "kind": "EntitySet",
                  "url": "Submissions"
                },
                {
                  "name": "Submissions.children.child",
                  "kind": "EntitySet",
                  "url": "Submissions.children.child"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:50:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single row result",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single row result",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 108,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "double"
                },
                "name": "Vick",
                "children": {
                  "child@odata.navigationLink": "Submissions('double')/children/child"
                },
                "__id": "double",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": "testid",
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "double",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": "testid",
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "children": {
                    "child@odata.navigationLink": "Submissions('double')/children/child"
                  },
                  "meta": {
                    "instanceID": "double"
                  },
                  "name": "Vick"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:152:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single encrypted frame (no formdata)",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single encrypted frame (no formdata)",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 80,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 2,
                  "status": "missingEncryptedFormData",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 2,
                    "status": "missingEncryptedFormData",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:222:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single encrypted frame (has formdata)",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single encrypted frame (has formdata)",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 89,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 1,
                  "attachmentsExpected": 2,
                  "status": "notDecrypted",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 1,
                    "attachmentsExpected": 2,
                    "status": "notDecrypted",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:261:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 74,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"46ebf42ee83ddec5028c42b2c054402d1e700208\"\n      \"name\": \"Alice\"\n      \"toys\": {}\n    }\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy\"\n      }\n    }\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"8954b393f82c1833abb19be08a3d6cb382171f54\"\n      \"name\": \"Chelsea\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('8954b393f82c1833abb19be08a3d6cb382171f54')/toys/toy\"\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      toys: Object {},\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      },\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double',\n      name: 'Alice',\n      toys: Object {}\n    },\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double',\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"46ebf42ee83ddec5028c42b2c054402d1e700208\"\n      \"name\": \"Alice\"\n      \"toys\": {}\n    }\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy\"\n      }\n    }\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"8954b393f82c1833abb19be08a3d6cb382171f54\"\n      \"name\": \"Chelsea\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('8954b393f82c1833abb19be08a3d6cb382171f54')/toys/toy\"\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Alice",
                "toys": {},
                "__id": "46ebf42ee83ddec5028c42b2c054402d1e700208",
                "__Submissions-id": "double"
              },
              {
                "name": "Bob",
                "toys": {
                  "toy@odata.navigationLink": "Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy"
                },
                "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                "__Submissions-id": "double"
              },
              {
                "name": "Chelsea",
                "toys": {
                  "toy@odata.navigationLink": "Submissions('double')/children/child('8954b393f82c1833abb19be08a3d6cb382171f54')/toys/toy"
                },
                "__id": "8954b393f82c1833abb19be08a3d6cb382171f54",
                "__Submissions-id": "double"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "46ebf42ee83ddec5028c42b2c054402d1e700208",
                  "__Submissions-id": "double",
                  "name": "Alice",
                  "toys": {}
                },
                {
                  "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                  "__Submissions-id": "double",
                  "name": "Bob",
                  "toys": {
                    "toy@odata.navigationLink": "Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy"
                  }
                },
                {
                  "__id": "8954b393f82c1833abb19be08a3d6cb382171f54",
                  "__Submissions-id": "double",
                  "name": "Chelsea",
                  "toys": {
                    "toy@odata.navigationLink": "Submissions('double')/children/child('8954b393f82c1833abb19be08a3d6cb382171f54')/toys/toy"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      toys: Object {},\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      },\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double',\n      name: 'Alice',\n      toys: Object {}\n    },\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double',\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:288:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      toys: Object {},\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    },\n    Object {\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      },\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      '__Submissions-id': 'double',\n      name: 'Alice',\n      toys: Object {}\n    },\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      '__Submissions-id': 'double',\n      name: 'Chelsea',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'8954b393f82c1833abb19be08a3d6cb382171f54\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and offset subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should limit and offset subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 83,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.nextLink\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions('double')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy\"\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.nextLink\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions('double')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"double\"\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n      \"toys\": {\n        \"toy@odata.navigationLink\": \"Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy\"\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Bob",
                "toys": {
                  "toy@odata.navigationLink": "Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy"
                },
                "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                "__Submissions-id": "double"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
            "@odata.nextLink": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions('double')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "@odata.nextLink": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions('double')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D",
              "value": [
                {
                  "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                  "__Submissions-id": "double",
                  "name": "Bob",
                  "toys": {
                    "toy@odata.navigationLink": "Submissions('double')/children/child('b6e93a81a53eed0566e65e472d4a4b9ae383ee6d')/toys/toy"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:318:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      },\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/Submissions(\\'double\\')/children/child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6ImI2ZTkzYTgxYTUzZWVkMDU2NmU2NWU0NzJkNGE0YjlhZTM4M2VlNmQifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d',\n      '__Submissions-id': 'double',\n      name: 'Bob',\n      toys: Object {\n        'toy@odata.navigationLink': 'Submissions(\\'double\\')/children/child(\\'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\\')/toys/toy'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return just a count if asked",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return just a count if asked",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 75,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.count\": 3\n  \"value\": []\n}",
        "message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3,\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.count\": 3\n  \"value\": []\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
            "@odata.count": 3
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "@odata.count": 3,
              "value": []
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3,\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:338:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  '@odata.count': 3,\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should gracefully degrade on encrypted subtables",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should gracefully degrade on encrypted subtables",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 95,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": []\n}",
        "message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": []\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "value": []
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:362:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return mixed encoded/decoded URLs as supplied",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return mixed encoded/decoded URLs as supplied",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 92,
      "currentRetry": 0,
      "err": {
        "operator": "to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}",
        "previous": {
          "operator": "to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
          "previous": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
            "negate": false,
            "assertion": {
              "obj": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
              "anyOne": false,
              "negate": false,
              "params": {
                "operator": "to be",
                "expected": "http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
                "showDiff": true,
                "actual": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
                "negate": false,
                "assertion": "[object Object]"
              },
              "light": false
            },
            "_message": "expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
            "generatedMessage": true
          },
          "actual": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
          "negate": false,
          "assertion": {
            "obj": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
            "anyOne": false,
            "negate": false,
            "params": {
              "operator": "to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
              "previous": "AssertionError: expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
              "actual": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions",
              "negate": false,
              "assertion": "[object Object]"
            },
            "light": false
          },
          "_message": "expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
          "generatedMessage": true
        },
        "actual": {
          "value": [
            {
              "meta": {
                "instanceID": "uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4"
              },
              "name": "Vick",
              "children": {
                "child@odata.navigationLink": "Submissions('uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4')/children/child"
              },
              "__id": "uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4",
              "__system": {
                "submissionDate": "2026-01-13T04:31:34.449Z",
                "updatedAt": null,
                "submitterId": "5",
                "submitterName": "Alice",
                "attachmentsPresent": 0,
                "attachmentsExpected": 0,
                "status": null,
                "reviewState": null,
                "deviceId": null,
                "edits": 0,
                "formVersion": "1.0",
                "deletedAt": null
              }
            }
          ],
          "@odata.context": "https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions"
        },
        "negate": false,
        "assertion": {
          "obj": "[object Object]",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}",
            "previous": "AssertionError: expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      },\n      __id: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4',\n      __system: Object {\n        submissionDate: '2026-01-13T04:31:34.449Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n} to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n        expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      },\n      __id: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4',\n      __system: Object {\n        submissionDate: '2026-01-13T04:31:34.449Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n} to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n        expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value [as containDeep] (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:390:31\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      },\n      __id: 'uuid:17b09e96-4141-43f5-9a70-611eb0e8f6b4',\n      __system: Object {\n        submissionDate: '2026-01-13T04:31:34.449Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n} to contain Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'uuid%3A17b09e96-4141-43f5-9a70-611eb0e8f6b4\\')/children/child'\n      }\n    }\n  ]\n}\n    expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to contain 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'\n        expected 'https://central.local/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions' to be 'http://localhost:8989/v1/projects/1/forms/double%20repeat.svc/$metadata#Submissions'",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single row result with all properties",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single row result with all properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 81,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "double"
                },
                "name": "Vick",
                "children": {
                  "child@odata.navigationLink": "Submissions('double')/children/child"
                },
                "__id": "double",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": "testid",
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "double",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": "testid",
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "children": {
                    "child@odata.navigationLink": "Submissions('double')/children/child"
                  },
                  "meta": {
                    "instanceID": "double"
                  },
                  "name": "Vick"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:416:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single row result with selected properties",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single row result with selected properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 83,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"status\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object { status: null }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object { status: null },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"status\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "double"
                },
                "name": "Vick",
                "children": {
                  "child@odata.navigationLink": "Submissions('double')/children/child"
                },
                "__id": "double",
                "__system": {
                  "status": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "double",
                  "__system": {
                    "status": null
                  },
                  "children": {
                    "child@odata.navigationLink": "Submissions('double')/children/child"
                  },
                  "meta": {
                    "instanceID": "double"
                  },
                  "name": "Vick"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object { status: null }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object { status: null },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:452:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object { status: null }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object { status: null },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single row result with all system properties",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return a single row result with all system properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 77,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": \"testid\"\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": "testid",
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": "testid",
                    "edits": 0,
                    "formVersion": "1.0"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:478:46\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: 'testid',\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable results with selected properties",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return subtable results with selected properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 75,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy\"\n  \"value\": [\n    {\n      \"name\": \"Rainbow Dash\"\n    }\n    {\n      \"name\": \"Rarity\"\n    }\n    {\n      \"name\": \"Fluttershy\"\n    }\n    {\n      \"name\": \"Princess Luna\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy',\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy\"\n  \"value\": [\n    {\n      \"name\": \"Rainbow Dash\"\n    }\n    {\n      \"name\": \"Rarity\"\n    }\n    {\n      \"name\": \"Fluttershy\"\n    }\n    {\n      \"name\": \"Princess Luna\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Rainbow Dash"
              },
              {
                "name": "Rarity"
              },
              {
                "name": "Fluttershy"
              },
              {
                "name": "Princess Luna"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy",
              "value": [
                {
                  "name": "Rainbow Dash"
                },
                {
                  "name": "Rarity"
                },
                {
                  "name": "Fluttershy"
                },
                {
                  "name": "Princess Luna"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy',\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:504:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy',\n  value: Array [\n    Object { name: 'Rainbow Dash' },\n    Object { name: 'Rarity' },\n    Object { name: 'Fluttershy' },\n    Object { name: 'Princess Luna' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child.toys.toy')",
        "generatedMessage": true
      }
    },
    {
      "title": "should not return parent IDs if __id is selected",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should not return parent IDs if __id is selected",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 99,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__id\": \"46ebf42ee83ddec5028c42b2c054402d1e700208\"\n      \"name\": \"Alice\"\n    }\n    {\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"8954b393f82c1833abb19be08a3d6cb382171f54\"\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208'\n    },\n    Object { name: 'Bob', __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d' },\n    Object {\n      name: 'Chelsea',\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      name: 'Alice'\n    },\n    Object { __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d', name: 'Bob' },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      name: 'Chelsea'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__id\": \"46ebf42ee83ddec5028c42b2c054402d1e700208\"\n      \"name\": \"Alice\"\n    }\n    {\n      \"__id\": \"b6e93a81a53eed0566e65e472d4a4b9ae383ee6d\"\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"8954b393f82c1833abb19be08a3d6cb382171f54\"\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Alice",
                "__id": "46ebf42ee83ddec5028c42b2c054402d1e700208"
              },
              {
                "name": "Bob",
                "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d"
              },
              {
                "name": "Chelsea",
                "__id": "8954b393f82c1833abb19be08a3d6cb382171f54"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "46ebf42ee83ddec5028c42b2c054402d1e700208",
                  "name": "Alice"
                },
                {
                  "__id": "b6e93a81a53eed0566e65e472d4a4b9ae383ee6d",
                  "name": "Bob"
                },
                {
                  "__id": "8954b393f82c1833abb19be08a3d6cb382171f54",
                  "name": "Chelsea"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208'\n    },\n    Object { name: 'Bob', __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d' },\n    Object {\n      name: 'Chelsea',\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      name: 'Alice'\n    },\n    Object { __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d', name: 'Bob' },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      name: 'Chelsea'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:523:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Alice',\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208'\n    },\n    Object { name: 'Bob', __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d' },\n    Object {\n      name: 'Chelsea',\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '46ebf42ee83ddec5028c42b2c054402d1e700208',\n      name: 'Alice'\n    },\n    Object { __id: 'b6e93a81a53eed0566e65e472d4a4b9ae383ee6d', name: 'Bob' },\n    Object {\n      __id: '8954b393f82c1833abb19be08a3d6cb382171f54',\n      name: 'Chelsea'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return toplevel rows",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return toplevel rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 82,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                },
                {
                  "__id": "rtwo",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                },
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:592:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should exclude a deleted submission from rows",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should exclude a deleted submission from rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 240,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rtwo",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                },
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:670:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return deleted submission",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return deleted submission",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 223,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0"
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:730:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 230,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rthree\"\n      \"__id\": \"32809ae2b3dc404ea292205eb884b21fa4e9acc5\"\n      \"age\": 2\n      \"name\": \"Candace\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      age: 2,\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree'\n    },\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree',\n      name: 'Candace',\n      age: 2\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rthree\"\n      \"__id\": \"32809ae2b3dc404ea292205eb884b21fa4e9acc5\"\n      \"age\": 2\n      \"name\": \"Candace\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Candace",
                "age": 2,
                "__id": "32809ae2b3dc404ea292205eb884b21fa4e9acc5",
                "__Submissions-id": "rthree"
              },
              {
                "name": "Billy",
                "age": 4,
                "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                "__Submissions-id": "rtwo"
              },
              {
                "name": "Blaine",
                "age": 6,
                "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                "__Submissions-id": "rtwo"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "32809ae2b3dc404ea292205eb884b21fa4e9acc5",
                  "__Submissions-id": "rthree",
                  "name": "Candace",
                  "age": 2
                },
                {
                  "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                  "__Submissions-id": "rtwo",
                  "name": "Billy",
                  "age": 4
                },
                {
                  "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                  "__Submissions-id": "rtwo",
                  "name": "Blaine",
                  "age": 6
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      age: 2,\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree'\n    },\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree',\n      name: 'Candace',\n      age: 2\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:769:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      age: 2,\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree'\n    },\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      '__Submissions-id': 'rthree',\n      name: 'Candace',\n      age: 2\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and offset toplevel rows",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and offset toplevel rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 233,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"@odata.nextLink\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"@odata.nextLink\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
            "@odata.nextLink": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "@odata.nextLink": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
              "value": [
                {
                  "__id": "rtwo",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:796:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit Submissions",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit Submissions",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 225,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:839:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:832:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should ignore $skip when $skipToken is given",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should ignore $skip when $skipToken is given",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 219,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:858:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:846:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'",
        "generatedMessage": true
      }
    },
    {
      "title": "should have no impact on skipToken when a new submission is created",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should have no impact on skipToken when a new submission is created",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 216,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:888:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:875:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=2&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnR3byJ9'",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and filter Submissions",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and filter Submissions",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 224,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1028:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1021:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24filter=not+__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and return selected fields of Submissions",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and return selected fields of Submissions",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 235,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1041:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1035:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24select=age&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should provide toplevel row count if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should provide toplevel row count if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 227,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"@odata.count\": 3\n  \"@odata.nextLink\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3,\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"@odata.count\": 3\n  \"@odata.nextLink\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
            "@odata.nextLink": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
            "@odata.count": 3
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "@odata.nextLink": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D",
              "@odata.count": 3,
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3,\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1052:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions?%24top=1&%24count=true&%24skiptoken=01eyJpbnN0YW5jZUlkIjoicnRocmVlIn0%3D',\n  '@odata.count': 3,\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return id-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return id-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 262,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1106:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return submitter-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return submitter-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 250,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                },
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1213:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return submissionDate-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return submissionDate-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 202,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submissionDate\": \"2010-06-01T00:00:00.000Z\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submissionDate\": \"2010-06-01T00:00:00.000Z\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "submissionDate": "2010-06-01T00:00:00.000Z",
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rone",
                  "__system": {
                    "submissionDate": "2010-06-01T00:00:00.000Z",
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1275:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return submissionDate-filtered toplevel rows with a function",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return submissionDate-filtered toplevel rows with a function",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 218,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submissionDate\": \"2010-06-01T00:00:00.000Z\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submissionDate\": \"2010-06-01T00:00:00.000Z\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "submissionDate": "2010-06-01T00:00:00.000Z",
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rone",
                  "__system": {
                    "submissionDate": "2010-06-01T00:00:00.000Z",
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1345:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        submissionDate: '2010-06-01T00:00:00.000Z',\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return updatedAt-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return updatedAt-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 216,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1388:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return reviewState-filtered toplevel rows if requested",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return reviewState-filtered toplevel rows if requested",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 213,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": \"rejected\"\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": \"rejected\"\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": "rejected",
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rtwo",
                  "__system": {
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": "rejected",
                    "deviceId": null,
                    "edits": 0,
                    "deletedAt": null,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1435:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter toplevel rows by $root expression",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should filter toplevel rows by $root expression",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 215,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": \"rejected\"\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": \"rejected\"\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": "rejected",
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rtwo",
                  "__system": {
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": "rejected",
                    "deviceId": null,
                    "edits": 0,
                    "deletedAt": null,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1477:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1468:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: 'rejected',\n        deviceId: null,\n        edits: 0,\n        deletedAt: null,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return encrypted frames (no formdata)",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return encrypted frames (no formdata)",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 221,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:99b303d9-6494-477b-a30d-d8aae8867335\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:99b303d9-6494-477b-a30d-d8aae8867335\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"missingEncryptedFormData\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__id": "uuid:99b303d9-6494-477b-a30d-d8aae8867335",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 2,
                  "status": "missingEncryptedFormData",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              },
              {
                "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 2,
                  "status": "missingEncryptedFormData",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "uuid:99b303d9-6494-477b-a30d-d8aae8867335",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 2,
                    "status": "missingEncryptedFormData",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                },
                {
                  "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 2,
                    "status": "missingEncryptedFormData",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1738:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 2,\n        status: 'missingEncryptedFormData',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return encrypted frames (has formdata)",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return encrypted frames (has formdata)",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 240,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:99b303d9-6494-477b-a30d-d8aae8867335\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"uuid:99b303d9-6494-477b-a30d-d8aae8867335\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n    {\n      \"__id\": \"uuid:dcf4a151-5088-453f-99e6-369d67828f7a\"\n      \"__system\": {\n        \"attachmentsExpected\": 2\n        \"attachmentsPresent\": 1\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"working3\"\n        \"reviewState\": [null]\n        \"status\": \"notDecrypted\"\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "__id": "uuid:99b303d9-6494-477b-a30d-d8aae8867335",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 1,
                  "attachmentsExpected": 2,
                  "status": "notDecrypted",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              },
              {
                "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 1,
                  "attachmentsExpected": 2,
                  "status": "notDecrypted",
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "working3",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "uuid:99b303d9-6494-477b-a30d-d8aae8867335",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 1,
                    "attachmentsExpected": 2,
                    "status": "notDecrypted",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                },
                {
                  "__id": "uuid:dcf4a151-5088-453f-99e6-369d67828f7a",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 1,
                    "attachmentsExpected": 2,
                    "status": "notDecrypted",
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "working3"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1800:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'uuid:99b303d9-6494-477b-a30d-d8aae8867335',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    },\n    Object {\n      __id: 'uuid:dcf4a151-5088-453f-99e6-369d67828f7a',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 1,\n        attachmentsExpected: 2,\n        status: 'notDecrypted',\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: 'working3'\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/encrypted.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/encrypted.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and offset subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and offset subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 236,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.nextLink\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"@odata.nextLink\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Billy",
                "age": 4,
                "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                "__Submissions-id": "rtwo"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
            "@odata.nextLink": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "@odata.nextLink": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
              "value": [
                {
                  "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                  "__Submissions-id": "rtwo",
                  "name": "Billy",
                  "age": 4
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1843:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  '@odata.nextLink': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should filter subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 94,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"age\": 4\n      \"name\": \"Billy\"\n    }\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Billy",
                "age": 4,
                "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                "__Submissions-id": "rtwo"
              },
              {
                "name": "Blaine",
                "age": 6,
                "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                "__Submissions-id": "rtwo"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                  "__Submissions-id": "rtwo",
                  "name": "Billy",
                  "age": 4
                },
                {
                  "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                  "__Submissions-id": "rtwo",
                  "name": "Blaine",
                  "age": 6
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1877:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1874:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Billy',\n      age: 4,\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo'\n    },\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      '__Submissions-id': 'rtwo',\n      name: 'Billy',\n      age: 4\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should filter and paginate subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should filter and paginate subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 202,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__Submissions-id\": \"rtwo\"\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"age\": 6\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Blaine",
                "age": 6,
                "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                "__Submissions-id": "rtwo"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                  "__Submissions-id": "rtwo",
                  "name": "Blaine",
                  "age": 6
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1904:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1901:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Blaine',\n      age: 6,\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      '__Submissions-id': 'rtwo',\n      name: 'Blaine',\n      age: 6\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit subtable results",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit subtable results",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 227,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1938:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1933:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject unmatched repeatId",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject unmatched repeatId",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 267,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1959:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1954:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=2&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should limit and filter subtable",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should limit and filter subtable",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 290,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "details": "",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "details": "",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:1983:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:1979:24)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D' to equal 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/Submissions.children.child?%24top=1&%24filter=%24root%2FSubmissions%2F__system%2FreviewState+eq+%27rejected%27&%24skiptoken=01eyJyZXBlYXRJZCI6IjUyZWZmOWVhODI1NTAxODM4ODBiOWQ2NGMyMDQ4NzY0MmZhNmU2MGMifQ%3D%3D'",
        "generatedMessage": true
      }
    },
    {
      "title": "should gracefully degrade on encrypted subtables",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should gracefully degrade on encrypted subtables",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 228,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": []\n}",
        "message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  value: Array [],\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": []\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "value": [],
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child"
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  value: Array [],\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2025:27\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  value: Array [],\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child'\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return toplevel rows with selected properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return toplevel rows with selected properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 210,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object { name: 'Chelsea', __id: 'rthree' },\n    Object { name: 'Bob', __id: 'rtwo' },\n    Object { name: 'Alice', __id: 'rone' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { __id: 'rthree', name: 'Chelsea' },\n    Object { __id: 'rtwo', name: 'Bob' },\n    Object { __id: 'rone', name: 'Alice' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Chelsea",
                "__id": "rthree"
              },
              {
                "name": "Bob",
                "__id": "rtwo"
              },
              {
                "name": "Alice",
                "__id": "rone"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "name": "Chelsea"
                },
                {
                  "__id": "rtwo",
                  "name": "Bob"
                },
                {
                  "__id": "rone",
                  "name": "Alice"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object { name: 'Chelsea', __id: 'rthree' },\n    Object { name: 'Bob', __id: 'rtwo' },\n    Object { name: 'Alice', __id: 'rone' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { __id: 'rthree', name: 'Chelsea' },\n    Object { __id: 'rtwo', name: 'Bob' },\n    Object { __id: 'rone', name: 'Alice' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2036:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object { name: 'Chelsea', __id: 'rthree' },\n    Object { name: 'Bob', __id: 'rtwo' },\n    Object { name: 'Alice', __id: 'rone' }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { __id: 'rthree', name: 'Chelsea' },\n    Object { __id: 'rtwo', name: 'Bob' },\n    Object { __id: 'rone', name: 'Alice' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return toplevel rows with group properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return toplevel rows with group properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 242,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n    }\n    {\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n    }\n    {\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n    }\n    {\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n    }\n    {\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                }
              },
              {
                "meta": {
                  "instanceID": "rtwo"
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions",
              "value": [
                {
                  "meta": {
                    "instanceID": "rthree"
                  }
                },
                {
                  "meta": {
                    "instanceID": "rtwo"
                  }
                },
                {
                  "meta": {
                    "instanceID": "rone"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2057:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:2054:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions',\n  value: Array [\n    Object { meta: Object { instanceID: 'rthree' } },\n    Object { meta: Object { instanceID: 'rtwo' } },\n    Object { meta: Object { instanceID: 'rone' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return toplevel row with nested group properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return toplevel row with nested group properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 220,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"hospital\": {\n        \"hiv_medication\": {\n          \"have_hiv_medication\": \"Yes\"\n        }\n        \"name\": \"AKUH\"\n      }\n      \"text\": \"xyz\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"hospital\": {\n        \"hiv_medication\": {\n          \"have_hiv_medication\": \"Yes\"\n        }\n        \"name\": \"AKUH\"\n      }\n      \"text\": \"xyz\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "text": "xyz",
                "hospital": {
                  "name": "AKUH",
                  "hiv_medication": {
                    "have_hiv_medication": "Yes"
                  }
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions",
              "value": [
                {
                  "text": "xyz",
                  "hospital": {
                    "name": "AKUH",
                    "hiv_medication": {
                      "have_hiv_medication": "Yes"
                    }
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2084:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:2081:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      text: 'xyz',\n      hospital: Object {\n        name: 'AKUH',\n        hiv_medication: Object { have_hiv_medication: 'Yes' }\n      }\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/nestedGroup.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable results with selected properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return subtable results with selected properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 234,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__id\": \"32809ae2b3dc404ea292205eb884b21fa4e9acc5\"\n      \"name\": \"Candace\"\n    }\n    {\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"name\": \"Billy\"\n    }\n    {\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5'\n    },\n    Object {\n      name: 'Billy',\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c'\n    },\n    Object {\n      name: 'Blaine',\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      name: 'Candace'\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      name: 'Billy'\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      name: 'Blaine'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child\"\n  \"value\": [\n    {\n      \"__id\": \"32809ae2b3dc404ea292205eb884b21fa4e9acc5\"\n      \"name\": \"Candace\"\n    }\n    {\n      \"__id\": \"52eff9ea82550183880b9d64c20487642fa6e60c\"\n      \"name\": \"Billy\"\n    }\n    {\n      \"__id\": \"1291953ccbe2e5e866f7ab3fefa3036d649186d3\"\n      \"name\": \"Blaine\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "name": "Candace",
                "__id": "32809ae2b3dc404ea292205eb884b21fa4e9acc5"
              },
              {
                "name": "Billy",
                "__id": "52eff9ea82550183880b9d64c20487642fa6e60c"
              },
              {
                "name": "Blaine",
                "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3"
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child",
              "value": [
                {
                  "__id": "32809ae2b3dc404ea292205eb884b21fa4e9acc5",
                  "name": "Candace"
                },
                {
                  "__id": "52eff9ea82550183880b9d64c20487642fa6e60c",
                  "name": "Billy"
                },
                {
                  "__id": "1291953ccbe2e5e866f7ab3fefa3036d649186d3",
                  "name": "Blaine"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5'\n    },\n    Object {\n      name: 'Billy',\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c'\n    },\n    Object {\n      name: 'Blaine',\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      name: 'Candace'\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      name: 'Billy'\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      name: 'Blaine'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2106:25\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      name: 'Candace',\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5'\n    },\n    Object {\n      name: 'Billy',\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c'\n    },\n    Object {\n      name: 'Blaine',\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3'\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child',\n  value: Array [\n    Object {\n      __id: '32809ae2b3dc404ea292205eb884b21fa4e9acc5',\n      name: 'Candace'\n    },\n    Object {\n      __id: '52eff9ea82550183880b9d64c20487642fa6e60c',\n      name: 'Billy'\n    },\n    Object {\n      __id: '1291953ccbe2e5e866f7ab3fefa3036d649186d3',\n      name: 'Blaine'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat.svc/$metadata#Submissions.children.child')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return subtable results with group properties",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return subtable results with group properties",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 238,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat\"\n  \"value\": [\n    {\n      \"address\": {\n        \"city\": \"Toronto\"\n        \"country\": \"Canada\"\n      }\n    }\n    {\n      \"address\": {\n        \"city\": \"New York\"\n        \"country\": \"US\"\n      }\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat',\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat\"\n  \"value\": [\n    {\n      \"address\": {\n        \"city\": \"Toronto\"\n        \"country\": \"Canada\"\n      }\n    }\n    {\n      \"address\": {\n        \"city\": \"New York\"\n        \"country\": \"US\"\n      }\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "address": {
                  "city": "Toronto",
                  "country": "Canada"
                }
              },
              {
                "address": {
                  "city": "New York",
                  "country": "US"
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat",
              "value": [
                {
                  "address": {
                    "city": "Toronto",
                    "country": "Canada"
                  }
                },
                {
                  "address": {
                    "city": "New York",
                    "country": "US"
                  }
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat',\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2158:23\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:2155:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat',\n  value: Array [\n    Object { address: Object { city: 'Toronto', country: 'Canada' } },\n    Object { address: Object { city: 'New York', country: 'US' } }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat' and B has 'http://localhost:8989/v1/projects/1/forms/groupRepeat.svc/$metadata#Submissions.child_repeat')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return results even when repeat name is not a valid OData name ",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return results even when repeat name is not a valid OData name ",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 272,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.q1_8_test\"\n      \"url\": \"Submissions.q1_8_test\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.q1_8_test\"\n      \"url\": \"Submissions.q1_8_test\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata",
            "value": [
              {
                "name": "Submissions",
                "kind": "EntitySet",
                "url": "Submissions"
              },
              {
                "name": "Submissions.q1_8_test",
                "kind": "EntitySet",
                "url": "Submissions.q1_8_test"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata",
              "value": [
                {
                  "name": "Submissions",
                  "kind": "EntitySet",
                  "url": "Submissions"
                },
                {
                  "name": "Submissions.q1_8_test",
                  "kind": "EntitySet",
                  "url": "Submissions.q1_8_test"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2225:26\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/odata.js:2221:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.q1_8_test',\n      kind: 'EntitySet',\n      url: 'Submissions.q1_8_test'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/odata_sanitize_repeat_name.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return an OData service document",
      "fullTitle": "api: /forms/:id.svc /draft.svc GET should return an OData service document",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 67,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata",
            "value": [
              {
                "name": "Submissions",
                "kind": "EntitySet",
                "url": "Submissions"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata",
              "value": [
                {
                  "name": "Submissions",
                  "kind": "EntitySet",
                  "url": "Submissions"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2305:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return the appropriate document for the draft",
      "fullTitle": "api: /forms/:id.svc /draft.svc GET should return the appropriate document for the draft",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 111,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.children.child\"\n      \"url\": \"Submissions.children.child\"\n    }\n  ]\n}",
        "message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata\"\n  \"value\": [\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions\"\n      \"url\": \"Submissions\"\n    }\n    {\n      \"kind\": \"EntitySet\"\n      \"name\": \"Submissions.children.child\"\n      \"url\": \"Submissions.children.child\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "@odata.context": "https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata",
            "value": [
              {
                "name": "Submissions",
                "kind": "EntitySet",
                "url": "Submissions"
              },
              {
                "name": "Submissions.children.child",
                "kind": "EntitySet",
                "url": "Submissions.children.child"
              }
            ]
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata",
              "value": [
                {
                  "name": "Submissions",
                  "kind": "EntitySet",
                  "url": "Submissions"
                },
                {
                  "name": "Submissions.children.child",
                  "kind": "EntitySet",
                  "url": "Submissions.children.child"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2322:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  '@odata.context': 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata',\n  value: Array [\n    Object { name: 'Submissions', kind: 'EntitySet', url: 'Submissions' },\n    Object {\n      name: 'Submissions.children.child',\n      kind: 'EntitySet',\n      url: 'Submissions.children.child'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/simple/draft.svc/$metadata' and B has 'http://localhost:8989/v1/projects/1/forms/simple/draft.svc/$metadata')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return a single row result",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions('xyz') should return a single row result",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 83,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"double\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('double')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"double\"\n      }\n      \"name\": \"Vick\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "double"
                },
                "name": "Vick",
                "children": {
                  "child@odata.navigationLink": "Submissions('double')/children/child"
                },
                "__id": "double",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "double",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "children": {
                    "child@odata.navigationLink": "Submissions('double')/children/child"
                  },
                  "meta": {
                    "instanceID": "double"
                  },
                  "name": "Vick"
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2393:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'double' },\n      name: 'Vick',\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'double',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'double\\')/children/child'\n      },\n      meta: Object { instanceID: 'double' },\n      name: 'Vick'\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return toplevel rows",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions.xyz should return toplevel rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 96,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions\"\n  \"value\": [\n    {\n      \"__id\": \"rthree\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 38\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rthree')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rthree\"\n      }\n      \"name\": \"Chelsea\"\n    }\n    {\n      \"__id\": \"rtwo\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 34\n      \"children\": {\n        \"child@odata.navigationLink\": \"Submissions('rtwo')/children/child\"\n      }\n      \"meta\": {\n        \"instanceID\": \"rtwo\"\n      }\n      \"name\": \"Bob\"\n    }\n    {\n      \"__id\": \"rone\"\n      \"__system\": {\n        \"attachmentsExpected\": 0\n        \"attachmentsPresent\": 0\n        \"deletedAt\": [null]\n        \"deviceId\": [null]\n        \"edits\": 0\n        \"formVersion\": \"1.0\"\n        \"reviewState\": [null]\n        \"status\": [null]\n        \"submitterId\": \"5\"\n        \"submitterName\": \"Alice\"\n        \"updatedAt\": [null]\n      }\n      \"age\": 30\n      \"children\": {}\n      \"meta\": {\n        \"instanceID\": \"rone\"\n      }\n      \"name\": \"Alice\"\n    }\n  ]\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [
              {
                "meta": {
                  "instanceID": "rthree"
                },
                "name": "Chelsea",
                "age": 38,
                "children": {
                  "child@odata.navigationLink": "Submissions('rthree')/children/child"
                },
                "__id": "rthree",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rtwo"
                },
                "name": "Bob",
                "age": 34,
                "children": {
                  "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                },
                "__id": "rtwo",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              },
              {
                "meta": {
                  "instanceID": "rone"
                },
                "name": "Alice",
                "age": 30,
                "children": {},
                "__id": "rone",
                "__system": {
                  "updatedAt": null,
                  "submitterId": "5",
                  "submitterName": "Alice",
                  "attachmentsPresent": 0,
                  "attachmentsExpected": 0,
                  "status": null,
                  "reviewState": null,
                  "deviceId": null,
                  "edits": 0,
                  "formVersion": "1.0",
                  "deletedAt": null
                }
              }
            ],
            "@odata.context": "https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions",
              "value": [
                {
                  "__id": "rthree",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rthree"
                  },
                  "name": "Chelsea",
                  "age": 38,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rthree')/children/child"
                  }
                },
                {
                  "__id": "rtwo",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rtwo"
                  },
                  "name": "Bob",
                  "age": 34,
                  "children": {
                    "child@odata.navigationLink": "Submissions('rtwo')/children/child"
                  }
                },
                {
                  "__id": "rone",
                  "__system": {
                    "updatedAt": null,
                    "deletedAt": null,
                    "submitterId": "5",
                    "submitterName": "Alice",
                    "attachmentsPresent": 0,
                    "attachmentsExpected": 0,
                    "status": null,
                    "reviewState": null,
                    "deviceId": null,
                    "edits": 0,
                    "formVersion": "1.0"
                  },
                  "meta": {
                    "instanceID": "rone"
                  },
                  "name": "Alice",
                  "age": 30,
                  "children": {}
                }
              ]
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2471:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [\n    Object {\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      },\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      },\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    },\n    Object {\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {},\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0',\n        deletedAt: null\n      }\n    }\n  ],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions',\n  value: Array [\n    Object {\n      __id: 'rthree',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rthree' },\n      name: 'Chelsea',\n      age: 38,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rthree\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rtwo',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rtwo' },\n      name: 'Bob',\n      age: 34,\n      children: Object {\n        'child@odata.navigationLink': 'Submissions(\\'rtwo\\')/children/child'\n      }\n    },\n    Object {\n      __id: 'rone',\n      __system: Object {\n        updatedAt: null,\n        deletedAt: null,\n        submitterId: '5',\n        submitterName: 'Alice',\n        attachmentsPresent: 0,\n        attachmentsExpected: 0,\n        status: null,\n        reviewState: null,\n        deviceId: null,\n        edits: 0,\n        formVersion: '1.0'\n      },\n      meta: Object { instanceID: 'rone' },\n      name: 'Alice',\n      age: 30,\n      children: Object {}\n    }\n  ]\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/withrepeat/draft.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should not return results from the published form",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions.xyz should not return results from the published form",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 627,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "{\n  \"@odata.context\": \"http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions\"\n  \"value\": []\n}",
        "message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')",
        "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'",
        "showDiff": true,
        "actual": "{\n  \"@odata.context\": \"https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions\"\n  \"value\": []\n}",
        "negate": false,
        "assertion": {
          "obj": {
            "value": [],
            "@odata.context": "https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions"
          },
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": {
              "@odata.context": "http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions",
              "value": []
            },
            "details": "at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/odata.js:2558:29\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Object {\n  value: Array [],\n  '@odata.context': 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions'\n} to equal Object {\n  '@odata.context': 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions',\n  value: Array []\n} (at '@odata.context', A has 'https://central.local/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions' and B has 'http://localhost:8989/v1/projects/1/forms/doubleRepeat/draft.svc/$metadata#Submissions')",
        "generatedMessage": true
      }
    },
    {
      "title": "should return extended metadata if requested",
      "fullTitle": "api: /projects GET should return extended metadata if requested",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 122,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:116:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return extended metadata if requested",
      "fullTitle": "api: /projects GET should return extended metadata if requested",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 82,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 2 to be 1",
        "showDiff": true,
        "actual": "2",
        "negate": false,
        "assertion": {
          "obj": 2,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 2,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 2 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/projects.js:173:34\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 2 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should order extended metadata projects appropriately",
      "fullTitle": "api: /projects GET should order extended metadata projects appropriately",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 65,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "4",
        "message": "expected 5 to be 4",
        "showDiff": true,
        "actual": "5",
        "negate": false,
        "assertion": {
          "obj": 5,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 4,
            "showDiff": true,
            "actual": 5,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 5 to be 4\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/projects.js:197:38\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 5 to be 4",
        "generatedMessage": true
      }
    },
    {
      "title": "should return extended metadata if requested",
      "fullTitle": "api: /projects /:id GET should return extended metadata if requested",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 57,
      "currentRetry": 0,
      "err": {
        "message": "expected '2026-01-13T04:32:02.218Z' to not exist",
        "stack": "AssertionError: expected '2026-01-13T04:32:02.218Z' to not exist\n    at /usr/odk/test/integration/api/projects.js:321:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/projects.js:314:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)"
      }
    },
    {
      "title": "should not count deleted app users",
      "fullTitle": "api: /projects /:id GET should not count deleted app users",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 56,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:367:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete the project",
      "fullTitle": "api: /projects /:id DELETE should delete the project",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 81,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[]",
        "message": "expected Array [\n  Object {\n    id: 7,\n    name: 'A Test Project',\n    description: null,\n    archived: null,\n    keyId: null,\n    createdAt: '2026-01-13T04:32:02.226Z',\n    updatedAt: null,\n    deletedAt: null,\n    verbs: Array [\n      'analytics.read',\n      'assignment.create',\n      'assignment.delete',\n      'assignment.list',\n      'audit.read',\n      'backup.run',\n      'config.read',\n      'config.set',\n      'dataset.create',\n      'dataset.list',\n      'dataset.read',\n      'dataset.update',\n      'entity.create',\n      'entity.delete',\n      'entity.list',\n      'entity.read',\n      'entity.restore',\n      'entity.update',\n      'field_key.create',\n      'field_key.delete',\n      'field_key.list',\n      'form.create',\n      'form.delete',\n      'form.list',\n      'form.read',\n      'form.restore',\n      'form.update',\n      'project.create',\n      'project.delete',\n      'project.read',\n      'project.update',\n      'public_link.create',\n      'public_link.delete',\n      'public_link.list',\n      'public_link.read',\n      'public_link.update',\n      'role.create',\n      'role.delete',\n      'role.update',\n      'session.end',\n      'submission.create',\n      'submission.delete',\n      'submission.list',\n      'submission.read',\n      'submission.restore',\n      'submission.update',\n      'user.create',\n      'user.delete',\n      'user.list',\n      'user.password.invalidate',\n      'user.read',\n      'user.update'\n    ]\n  }\n] to equal Array [] (at length, A has 1 and B has 0)",
        "details": "at length, A has 1 and B has 0",
        "showDiff": true,
        "actual": "[\n  {\n    \"archived\": [null]\n    \"createdAt\": \"2026-01-13T04:32:02.226Z\"\n    \"deletedAt\": [null]\n    \"description\": [null]\n    \"id\": 7\n    \"keyId\": [null]\n    \"name\": \"A Test Project\"\n    \"updatedAt\": [null]\n    \"verbs\": [\n      \"analytics.read\"\n      \"assignment.create\"\n      \"assignment.delete\"\n      \"assignment.list\"\n      \"audit.read\"\n      \"backup.run\"\n      \"config.read\"\n      \"config.set\"\n      \"dataset.create\"\n      \"dataset.list\"\n      \"dataset.read\"\n      \"dataset.update\"\n      \"entity.create\"\n      \"entity.delete\"\n      \"entity.list\"\n      \"entity.read\"\n      \"entity.restore\"\n      \"entity.update\"\n      \"field_key.create\"\n      \"field_key.delete\"\n      \"field_key.list\"\n      \"form.create\"\n      \"form.delete\"\n      \"form.list\"\n      \"form.read\"\n      \"form.restore\"\n      \"form.update\"\n      \"project.create\"\n      \"project.delete\"\n      \"project.read\"\n      \"project.update\"\n      \"public_link.create\"\n      \"public_link.delete\"\n      \"public_link.list\"\n      \"public_link.read\"\n      \"public_link.update\"\n      \"role.create\"\n      \"role.delete\"\n      \"role.update\"\n      \"session.end\"\n      \"submission.create\"\n      \"submission.delete\"\n      \"submission.list\"\n      \"submission.read\"\n      \"submission.restore\"\n      \"submission.update\"\n      \"user.create\"\n      \"user.delete\"\n      \"user.list\"\n      \"user.password.invalidate\"\n      \"user.read\"\n      \"user.update\"\n    ]\n  }\n]",
        "negate": false,
        "assertion": {
          "obj": [
            {
              "id": 7,
              "name": "A Test Project",
              "description": null,
              "archived": null,
              "keyId": null,
              "createdAt": "2026-01-13T04:32:02.226Z",
              "updatedAt": null,
              "deletedAt": null,
              "verbs": [
                "analytics.read",
                "assignment.create",
                "assignment.delete",
                "assignment.list",
                "audit.read",
                "backup.run",
                "config.read",
                "config.set",
                "dataset.create",
                "dataset.list",
                "dataset.read",
                "dataset.update",
                "entity.create",
                "entity.delete",
                "entity.list",
                "entity.read",
                "entity.restore",
                "entity.update",
                "field_key.create",
                "field_key.delete",
                "field_key.list",
                "form.create",
                "form.delete",
                "form.list",
                "form.read",
                "form.restore",
                "form.update",
                "project.create",
                "project.delete",
                "project.read",
                "project.update",
                "public_link.create",
                "public_link.delete",
                "public_link.list",
                "public_link.read",
                "public_link.update",
                "role.create",
                "role.delete",
                "role.update",
                "session.end",
                "submission.create",
                "submission.delete",
                "submission.list",
                "submission.read",
                "submission.restore",
                "submission.update",
                "user.create",
                "user.delete",
                "user.list",
                "user.password.invalidate",
                "user.read",
                "user.update"
              ]
            }
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [],
            "details": "at length, A has 1 and B has 0",
            "showDiff": true,
            "actual": "[object Object]",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  Object {\n    id: 7,\n    name: 'A Test Project',\n    description: null,\n    archived: null,\n    keyId: null,\n    createdAt: '2026-01-13T04:32:02.226Z',\n    updatedAt: null,\n    deletedAt: null,\n    verbs: Array [\n      'analytics.read',\n      'assignment.create',\n      'assignment.delete',\n      'assignment.list',\n      'audit.read',\n      'backup.run',\n      'config.read',\n      'config.set',\n      'dataset.create',\n      'dataset.list',\n      'dataset.read',\n      'dataset.update',\n      'entity.create',\n      'entity.delete',\n      'entity.list',\n      'entity.read',\n      'entity.restore',\n      'entity.update',\n      'field_key.create',\n      'field_key.delete',\n      'field_key.list',\n      'form.create',\n      'form.delete',\n      'form.list',\n      'form.read',\n      'form.restore',\n      'form.update',\n      'project.create',\n      'project.delete',\n      'project.read',\n      'project.update',\n      'public_link.create',\n      'public_link.delete',\n      'public_link.list',\n      'public_link.read',\n      'public_link.update',\n      'role.create',\n      'role.delete',\n      'role.update',\n      'session.end',\n      'submission.create',\n      'submission.delete',\n      'submission.list',\n      'submission.read',\n      'submission.restore',\n      'submission.update',\n      'user.create',\n      'user.delete',\n      'user.list',\n      'user.password.invalidate',\n      'user.read',\n      'user.update'\n    ]\n  }\n] to equal Array [] (at length, A has 1 and B has 0)\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/projects.js:565:45\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  Object {\n    id: 7,\n    name: 'A Test Project',\n    description: null,\n    archived: null,\n    keyId: null,\n    createdAt: '2026-01-13T04:32:02.226Z',\n    updatedAt: null,\n    deletedAt: null,\n    verbs: Array [\n      'analytics.read',\n      'assignment.create',\n      'assignment.delete',\n      'assignment.list',\n      'audit.read',\n      'backup.run',\n      'config.read',\n      'config.set',\n      'dataset.create',\n      'dataset.list',\n      'dataset.read',\n      'dataset.update',\n      'entity.create',\n      'entity.delete',\n      'entity.list',\n      'entity.read',\n      'entity.restore',\n      'entity.update',\n      'field_key.create',\n      'field_key.delete',\n      'field_key.list',\n      'form.create',\n      'form.delete',\n      'form.list',\n      'form.read',\n      'form.restore',\n      'form.update',\n      'project.create',\n      'project.delete',\n      'project.read',\n      'project.update',\n      'public_link.create',\n      'public_link.delete',\n      'public_link.list',\n      'public_link.read',\n      'public_link.update',\n      'role.create',\n      'role.delete',\n      'role.update',\n      'session.end',\n      'submission.create',\n      'submission.delete',\n      'submission.list',\n      'submission.read',\n      'submission.restore',\n      'submission.update',\n      'user.create',\n      'user.delete',\n      'user.list',\n      'user.password.invalidate',\n      'user.read',\n      'user.update'\n    ]\n  }\n] to equal Array [] (at length, A has 1 and B has 0)",
        "generatedMessage": true
      }
    },
    {
      "title": "should not delete live submissions on project encryption",
      "fullTitle": "api: /projects /:id/key POST should not delete live submissions on project encryption",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 66,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at Context.<anonymous> (test/integration/api/projects.js:773:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the roleId is not given",
      "fullTitle": "api: /projects /:id PUT should reject if the roleId is not given",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 42,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1019:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject if the roleId is not recognized",
      "fullTitle": "api: /projects /:id PUT should reject if the roleId is not recognized",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1039:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should reject if the user lacks the verbs to be granted",
      "fullTitle": "api: /projects /:id PUT should reject if the user lacks the verbs to be granted",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1107:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should create the requested assignments",
      "fullTitle": "api: /projects /:id PUT should create the requested assignments",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1131:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should log the creation action in the audit log",
      "fullTitle": "api: /projects /:id PUT should log the creation action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 46,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1173:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should delete the requested assignments",
      "fullTitle": "api: /projects /:id PUT should delete the requested assignments",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 48,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1209:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not delete enketo formviewer assignments",
      "fullTitle": "api: /projects /:id PUT should not delete enketo formviewer assignments",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 54,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1242:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should log the deletion action in the audit log",
      "fullTitle": "api: /projects /:id PUT should log the deletion action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1317:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should leave assignments alone if no array is given",
      "fullTitle": "api: /projects /:id PUT should leave assignments alone if no array is given",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1351:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should leave assignments alone if there is no change",
      "fullTitle": "api: /projects /:id PUT should leave assignments alone if there is no change",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/projects.js:1377:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return projects with verbs and nested extended forms",
      "fullTitle": "api: /projects?forms=true GET should return projects with verbs and nested extended forms",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 49,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 2 to be 1",
        "showDiff": true,
        "actual": "2",
        "negate": false,
        "assertion": {
          "obj": 2,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 2,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 2 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at Context.<anonymous> (test/integration/api/projects.js:1415:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 2 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should set project data from formList even on non-extended projects",
      "fullTitle": "api: /projects?forms=true GET should set project data from formList even on non-extended projects",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 58,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/projects.js:1566:10\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should set project data from datasetList even on non-extended projects",
      "fullTitle": "api: /projects?forms=true GET should set project data from datasetList even on non-extended projects",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 238,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 2 to be 1",
        "showDiff": true,
        "actual": "2",
        "negate": false,
        "assertion": {
          "obj": 2,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 2,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 2 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/projects.js:1627:30\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Context.<anonymous> (test/integration/api/projects.js:1624:7)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 2 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should allow the created user to submit to the given form",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should allow the created user to submit to the given form",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 79,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/public-links.js:49:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should passthrough to the appropriate route with successful auth",
      "fullTitle": "api: /key/:key should passthrough to the appropriate route with successful auth",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 75,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/public-links.js:218:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should set cookie information when the session returns",
      "fullTitle": "api: /sessions POST should set cookie information when the session returns",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 43,
      "currentRetry": 0,
      "err": {
        "message": "expected null to exist",
        "stack": "AssertionError: expected null to exist\n    at /usr/odk/test/integration/api/sessions.js:88:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)"
      }
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /sessions POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 3 to be 1",
        "showDiff": true,
        "actual": "3",
        "negate": false,
        "assertion": {
          "obj": 3,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 3,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 3 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/sessions.js:109:32\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 3 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should return the active session if it exists",
      "fullTitle": "api: /sessions /restore GET should return the active session if it exists",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 53,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/integration/api/sessions.js:172:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should log the action in the audit log if it is a field key",
      "fullTitle": "api: /sessions /:token DELETE should log the action in the audit log if it is a field key",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/sessions.js:206:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should allow managers to delete project app user sessions",
      "fullTitle": "api: /sessions /:token DELETE should allow managers to delete project app user sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 54,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/sessions.js:229:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not allow app users to delete their own sessions",
      "fullTitle": "api: /sessions /:token DELETE should not allow app users to delete their own sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/sessions.js:251:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should clear cookies if successful for the current session",
      "fullTitle": "api: /sessions /:token DELETE should clear cookies if successful for the current session",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 68,
      "currentRetry": 0,
      "err": {
        "operator": "to equal",
        "expected": "[\n  \"session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict\"\n  \"__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict\"\n]",
        "message": "expected Array [\n  '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] to equal Array [\n  'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] (at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict')",
        "details": "at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict'",
        "showDiff": true,
        "actual": "[\n  \"__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict\"\n  \"__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict\"\n]",
        "negate": false,
        "assertion": {
          "obj": [
            "__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict",
            "__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict"
          ],
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to equal",
            "expected": [
              "session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict",
              "__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict"
            ],
            "details": "at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict'",
            "showDiff": true,
            "actual": "__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict,__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected Array [\n  '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] to equal Array [\n  'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] (at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict')\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/sessions.js:262:42\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected Array [\n  '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] to equal Array [\n  'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict',\n  '__csrf=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Secure; SameSite=Strict'\n] (at '0', A has '__Host-session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict' and B has 'session=null; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; HttpOnly; Secure; SameSite=Strict')",
        "generatedMessage": true
      }
    },
    {
      "title": "should not log the action in the audit log for users",
      "fullTitle": "api: /sessions /:token DELETE should not log the action in the audit log for users",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 75,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "2",
        "message": "expected 4 to be 2",
        "showDiff": true,
        "actual": "4",
        "negate": false,
        "assertion": {
          "obj": 4,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 2,
            "showDiff": true,
            "actual": 4,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 4 to be 2\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/sessions.js:286:36\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 4 to be 2",
        "generatedMessage": true
      }
    },
    {
      "title": "should log the action in the audit log for app users",
      "fullTitle": "api: /sessions /:token DELETE should log the action in the audit log for app users",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 55,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/sessions.js:309:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should not allow app users to delete their own sessions",
      "fullTitle": "api: /sessions /current DELETE should not allow app users to delete their own sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 78,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Context.<anonymous> (test/integration/api/sessions.js:348:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should succeed if the CSRF token is correct",
      "fullTitle": "api: /sessions cookie CSRF auth should succeed if the CSRF token is correct",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 58,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/integration/api/sessions.js:379:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should succeed if it is ajax/xhr request",
      "fullTitle": "api: /sessions cookie CSRF auth should succeed if it is ajax/xhr request",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 60,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/integration/api/sessions.js:388:12\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should save the submission to the appropriate form with device id and user agent",
      "fullTitle": "api: /submission POST should save the submission to the appropriate form with device id and user agent",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 68,
      "currentRetry": 0,
      "err": {
        "stack": "TypeError: Cannot read properties of null (reading 'should')\n    at /usr/odk/test/integration/api/submissions.js:210:31\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Promise.all (index 0)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "message": "Cannot read properties of null (reading 'should')"
      }
    },
    {
      "title": "should accept a submission for an old form version",
      "fullTitle": "api: /submission POST should accept a submission for an old form version",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 152,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:236:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should store the correct formdef and actor ids",
      "fullTitle": "api: /submission POST should store the correct formdef and actor ids",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "1",
        "message": "expected 2 to be 1",
        "showDiff": true,
        "actual": "2",
        "negate": false,
        "assertion": {
          "obj": 2,
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": 1,
            "showDiff": true,
            "actual": 2,
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 2 to be 1\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/submissions.js:257:39\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 2 to be 1",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject if the deprecatedId is not current",
      "fullTitle": "api: /submission POST versioning should reject if the deprecatedId is not current",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 70,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:680:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the new instanceId is a duplicate",
      "fullTitle": "api: /submission POST versioning should reject if the new instanceId is a duplicate",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 58,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:698:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should accept the new submission",
      "fullTitle": "api: /submission POST versioning should accept the new submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 57,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:727:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should set the submission review state to edited",
      "fullTitle": "api: /submission POST versioning should set the submission review state to edited",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 54,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 201 \"Created\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:780:16\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 201 \"Created\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should save the submission into the form draft",
      "fullTitle": "api: /submission [draft] POST should save the submission into the form draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:899:18\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should save the submission into the form draft",
      "fullTitle": "api: /submission [draft] /test POST should save the submission into the form draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 89,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:1051:20\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should submit if all details are provided",
      "fullTitle": "api: /forms/:id/submissions POST should submit if all details are provided",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1134:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should record a deviceId and userAgent if given",
      "fullTitle": "api: /forms/:id/submissions POST should record a deviceId and userAgent if given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1147:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should not fail if longer userAgent and deviceId is provided",
      "fullTitle": "api: /forms/:id/submissions POST should not fail if longer userAgent and deviceId is provided",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1166:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should accept a submission for an old form version",
      "fullTitle": "api: /forms/:id/submissions POST should accept a submission for an old form version",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 106,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1190:14\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should store the correct formdef and actor ids",
      "fullTitle": "api: /forms/:id/submissions POST should store the correct formdef and actor ids",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 67,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1224:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject duplicate submissions",
      "fullTitle": "api: /forms/:id/submissions POST should reject duplicate submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at Context.<anonymous> (test/integration/api/submissions.js:1266:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should accept even if the form is not taking submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] POST should accept even if the form is not taking submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:1314:72\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1334:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the user cannot edit",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should reject if the user cannot edit",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1341:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should update the submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should update the submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 52,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1354:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the deprecated submission is not current",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should reject if the deprecated submission is not current",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1377:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should reject if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 48,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 302 \"Found\"\n    at /usr/odk/test/integration/api/submissions.js:1420:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 302 \"Found\""
      }
    },
    {
      "title": "should reject if the form does not have an enketoId",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should reject if the form does not have an enketoId",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1427:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject if the form is closing",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should reject if the form is closing",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1437:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should redirect to the edit_url",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should redirect to the edit_url",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1454:14\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should pass the appropriate parameters to the enketo module",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/edit GET should pass the appropriate parameters to the enketo module",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 96,
      "currentRetry": 0,
      "err": {
        "operator": "to be",
        "expected": "http://localhost:8989/v1/projects/1",
        "message": "expected 'https://central.local/v1/projects/1' to be 'http://localhost:8989/v1/projects/1'",
        "showDiff": true,
        "actual": "https://central.local/v1/projects/1",
        "negate": false,
        "assertion": {
          "obj": "https://central.local/v1/projects/1",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be",
            "expected": "http://localhost:8989/v1/projects/1",
            "showDiff": true,
            "actual": "https://central.local/v1/projects/1",
            "negate": false,
            "assertion": "[object Object]"
          },
          "light": false
        },
        "stack": "AssertionError: expected 'https://central.local/v1/projects/1' to be 'http://localhost:8989/v1/projects/1'\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at Assertion.value (node_modules/should/cjs/should.js:356:19)\n    at /usr/odk/test/integration/api/submissions.js:1479:41\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected 'https://central.local/v1/projects/1' to be 'http://localhost:8989/v1/projects/1'",
        "generatedMessage": true
      }
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PATCH should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 50,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:1492:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should reject if the user cannot update",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PATCH should reject if the user cannot update",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1499:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should set the review state",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PATCH should set the review state",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 64,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1510:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 64,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 404 \"Not Found\", got 200 \"OK\"\n    at /usr/odk/test/integration/api/submissions.js:1523:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 404 \"Not Found\", got 200 \"OK\""
      }
    },
    {
      "title": "should reject if the user cannot delete",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should reject if the user cannot delete",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1530:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should soft-delete the submission and not be able to access it again",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should soft-delete the submission and not be able to access it again",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at /usr/odk/test/integration/api/submissions.js:1540:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "should not let a submission with the same instanceId as a deleted submission be sent",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should not let a submission with the same instanceId as a deleted submission be sent",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 409 \"Conflict\"\n    at Context.<anonymous> (test/integration/api/submissions.js:1564:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 409 \"Conflict\""
      }
    },
    {
      "title": "App user should be able to upload attachment for the Submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST App user should be able to upload attachment for the Submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 71,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Context.<anonymous> (test/integration/api/submissions.js:4596:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should return 404 for app user",
      "fullTitle": "api: /users /users/current GET should return 404 for app user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 47,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at /usr/odk/test/integration/api/users.js:511:12\n    at service.login (test/integration/setup.js:140:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 400 \"Bad Request\""
      }
    },
    {
      "title": "should calculate number of app user per project",
      "fullTitle": "analytics task queries user metrics should calculate number of app user per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 59,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at module.exports (test/util/authenticate-user.js:22:8)\n    at /usr/odk/test/integration/setup.js:137:64\n    at Array.map (<anonymous>)\n    at service.login (test/integration/setup.js:137:44)\n    at createAppUser (test/integration/other/analytics-queries.js:83:11)\n    at Context.<anonymous> (test/integration/other/analytics-queries.js:839:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
      }
    },
    {
      "title": "should calculate submissions by user type",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by user type",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 125,
      "currentRetry": 0,
      "err": {
        "stack": "error: current transaction is aborted, commands ignored until end of transaction block\n    at Parser.parseErrorMessage (node_modules/pg-protocol/dist/parser.js:285:98)\n    at Parser.handlePacket (node_modules/pg-protocol/dist/parser.js:122:29)\n    at Parser.parse (node_modules/pg-protocol/dist/parser.js:35:38)\n    at Socket.<anonymous> (node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:519:28)\n    at Socket.emit (node:domain:489:12)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)\n    at TCP.callbackTrampoline (node:internal/async_hooks:130:17)",
        "message": "current transaction is aborted, commands ignored until end of transaction block",
        "length": 144,
        "name": "error",
        "severity": "ERROR",
        "code": "25P02",
        "file": "postgres.c",
        "line": "1044",
        "routine": "exec_simple_query",
        "notices": []
      }
    },
    {
      "title": "should fill in all project.users queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.users queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 260,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at module.exports (test/util/authenticate-user.js:22:8)\n    at /usr/odk/test/integration/setup.js:137:64\n    at Array.map (<anonymous>)\n    at service.login (test/integration/setup.js:137:44)\n    at createPublicLink (test/integration/other/analytics-queries.js:77:11)\n    at Context.<anonymous> (test/integration/other/analytics-queries.js:2661:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 500 \"Internal Server Error\""
      }
    },
    {
      "title": "should fill in all project.submissions queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.submissions queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 266,
      "currentRetry": 0,
      "err": {
        "stack": "Error: Promise rejected with no or falsy reason\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)",
        "message": "Promise rejected with no or falsy reason"
      }
    },
    {
      "title": "should decrypt over cookie auth with passphrases provided via url-encoded POST body",
      "fullTitle": "managed encryption end-to-end @slow should decrypt over cookie auth with passphrases provided via url-encoded POST body",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 510,
      "currentRetry": 0,
      "err": {
        "stack": "Error: expected 200 \"OK\", got 401 \"Unauthorized\"\n    at /usr/odk/test/util/zip.js:87:6\n    at new Promise (<anonymous>)\n    at httpZipResponseToFiles (test/util/zip.js:85:53)\n    at /usr/odk/test/integration/other/encryption.js:317:41\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)\n----\n    at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)\n    at /usr/odk/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (node_modules/supertest/lib/test.js:195:23)\n    at localAssert (node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:633:28)\n    at Server.emit (node:events:519:28)\n    at Server.emit (node:domain:489:12)\n    at Object.apply (node_modules/@sentry/node/node_modules/@sentry/node-core/build/cjs/integrations/http/httpServerIntegration.js:93:23)\n    at emitCloseNT (node:net:2419:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:89:21)",
        "message": "expected 200 \"OK\", got 401 \"Unauthorized\""
      }
    },
    {
      "title": "should send an email on task failure",
      "fullTitle": "task: emailing should send an email on task failure",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 6,
      "currentRetry": 0,
      "err": {
        "operator": "to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}",
        "actual": {},
        "negate": false,
        "assertion": {
          "obj": "[object Promise]",
          "anyOne": false,
          "negate": false,
          "params": {
            "operator": "to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}",
            "actual": "[object Promise]",
            "negate": false,
            "assertion": "[object Object]"
          }
        },
        "message": "expected [Promise] to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}",
        "stack": "AssertionError: expected [Promise] to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}\n    at Assertion.fail (node_modules/should/cjs/should.js:275:17)\n    at next$onReject (node_modules/should/cjs/should.js:1608:16)\n    at async Object.transaction (node_modules/slonik/dist/src/connectionMethods/transaction.js:22:24)\n    at async Object.createConnection (node_modules/slonik/dist/src/factories/createConnection.js:97:18)",
        "_message": "expected [Promise] to be fulfilled, but it was rejected with Error {\n  operator: 'to equal',\n  expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n  details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n  showDiff: true,\n  actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n  stackStartFunction: Function { name: 'assert' },\n  negate: false,\n  assertion: Assertion {\n    obj: Array [ Object { address: 'admin@central.local', name: '' } ],\n    anyOne: false,\n    negate: false,\n    params: Object {\n      operator: 'to equal',\n      expected: Array [ Object { address: 'no-reply@getodk.org', name: '' } ],\n      message: undefined,\n      details: 'at \\'0\\' -> address, A has \\'admin@central.local\\' and B has \\'no-reply@getodk.org\\'',\n      showDiff: true,\n      actual: Array [ Object { address: 'admin@central.local', name: '' } ],\n      stackStartFunction: Function { name: 'assert' },\n      negate: false,\n      assertion: [Circular]\n    },\n    onlyThis: undefined,\n    light: false\n  }\n}",
        "generatedMessage": true
      }
    }
  ],
  "passes": [
    {
      "title": "should reject if the user cannot read analytics",
      "fullTitle": "api: /analytics/preview GET should reject if the user cannot read analytics",
      "file": "/usr/odk/test/integration/api/analytics.js",
      "duration": 375,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the analytics",
      "fullTitle": "api: /analytics/preview GET should return the analytics",
      "file": "/usr/odk/test/integration/api/analytics.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return valid response with empty projects for fresh install ",
      "fullTitle": "api: /analytics/preview GET should return valid response with empty projects for fresh install ",
      "file": "/usr/odk/test/integration/api/analytics.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 unless the user is allowed to create",
      "fullTitle": "api: /projects/:id/app-users POST should return 403 unless the user is allowed to create",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 403 unless the user is allowed to list",
      "fullTitle": "api: /projects/:id/app-users GET should return 403 unless the user is allowed to list",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 403 if an invalid key is provided",
      "fullTitle": "api: /key/:key should return 403 if an invalid key is provided",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject non-field tokens",
      "fullTitle": "api: /key/:key should reject non-field tokens",
      "file": "/usr/odk/test/integration/api/app-users.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the project does not exist",
      "fullTitle": "api: /projects/:id/assignments/forms GET should reject if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot list",
      "fullTitle": "api: /projects/:id/assignments/forms GET should reject if the user cannot list",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the project does not exist",
      "fullTitle": "api: /projects/:id/assignments/forms /:roleId GET should reject if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot list",
      "fullTitle": "api: /projects/:id/assignments/forms /:roleId GET should reject if the user cannot list",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit anonymous users from listing assignments",
      "fullTitle": "api: /assignments GET should prohibit anonymous users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from listing assignments",
      "fullTitle": "api: /assignments GET should prohibit unprivileged users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all sitewide assignments",
      "fullTitle": "api: /assignments GET should return all sitewide assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return assignments in extended metadata format if requested",
      "fullTitle": "api: /assignments GET should return assignments in extended metadata format if requested",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit anonymous users from listing assignments",
      "fullTitle": "api: /assignments /:roleId GET should prohibit anonymous users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from listing assignments",
      "fullTitle": "api: /assignments /:roleId GET should prohibit unprivileged users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should notfound by system id",
      "fullTitle": "api: /assignments /:roleId GET should notfound by system id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all assigned actors by system id",
      "fullTitle": "api: /assignments /:roleId GET should return all assigned actors by system id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should notfound by numeric id",
      "fullTitle": "api: /assignments /:roleId GET should notfound by numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all assigned actors by numeric id",
      "fullTitle": "api: /assignments /:roleId GET should return all assigned actors by numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit anonymous users from creating assignments",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should prohibit anonymous users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from creating assignments",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should prohibit unprivileged users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the role does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should return notfound if the role does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the user does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should return notfound if the user does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create an assignment by role system id",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should create an assignment by role system id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create an assignment by role numeric id",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should create an assignment by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /assignments /:roleId/:actorId POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit anonymous users from creating assignments",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should prohibit anonymous users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from creating assignments",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should prohibit unprivileged users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the role does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should return notfound if the role does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the user does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should return notfound if the user does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the assignment does not exist",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should return notfound if the assignment does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should remove an assignment by role name",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should remove an assignment by role name",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should remove an assignment by role numeric id",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should remove an assignment by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /assignments /:roleId/:actorId DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from listing assignments",
      "fullTitle": "/projects/:id/assignments GET should prohibit unprivileged users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "/projects/:id/assignments GET should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list all assignments",
      "fullTitle": "/projects/:id/assignments GET should list all assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from listing assignments",
      "fullTitle": "/projects/:id/assignments /:roleId GET should prohibit unprivileged users from listing assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId GET should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list all assignees by role system name",
      "fullTitle": "/projects/:id/assignments /:roleId GET should list all assignees by role system name",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list all assignees by role numeric id",
      "fullTitle": "/projects/:id/assignments /:roleId GET should list all assignees by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from creating assignments",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should prohibit unprivileged users from creating assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the role does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should return notfound if the role does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the user does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should return notfound if the user does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not permit granting rights one does not have",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should not permit granting rights one does not have",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should assign the actor by role system name",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should assign the actor by role system name",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should assign the actor by role numeric id",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should assign the actor by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prohibit unprivileged users from deleting assignments",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should prohibit unprivileged users from deleting assignments",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the role does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should return notfound if the role does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the user does not exist",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should return notfound if the user does not exist",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should unassign the actor by role system name",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should unassign the actor by role system name",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should assign the actor by role numeric id",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should assign the actor by role numeric id",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "/projects/:id/assignments /:roleId/:actorId DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/assignments.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read audits",
      "fullTitle": "/audits GET should reject if the user cannot read audits",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not expand actor if there is no actor",
      "fullTitle": "/audits GET should not expand actor if there is no actor",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should page data",
      "fullTitle": "/audits GET should page data",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should page extended data",
      "fullTitle": "/audits GET should page extended data",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action",
      "fullTitle": "/audits GET should filter by action",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter by action category (project)",
      "fullTitle": "/audits GET should filter by action category (project)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action category (form)",
      "fullTitle": "/audits GET should filter by action category (form)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action category (submission)",
      "fullTitle": "/audits GET should filter by action category (submission)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action category (dataset)",
      "fullTitle": "/audits GET should filter by action category (dataset)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by action category (entity)",
      "fullTitle": "/audits GET should filter by action category (entity)",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 275,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter extended data by action",
      "fullTitle": "/audits GET should filter extended data by action",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter (inclusively) by end date",
      "fullTitle": "/audits GET should filter (inclusively) by end date",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter by end date+time",
      "fullTitle": "/audits GET should filter by end date+time",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter extended data by end date+time",
      "fullTitle": "/audits GET should filter extended data by end date+time",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail gracefully if note decoding fails",
      "fullTitle": "/audits GET should fail gracefully if note decoding fails",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the information of a purged actee",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the information of a purged actee",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the deletedAt date of a deleted form",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted form",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the deletedAt date of a deleted user",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted user",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should get the deletedAt date of a deleted project",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted project",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the deletedAt date of a deleted public link",
      "fullTitle": "/audits GET audit logs of deleted and purged actees should get the deletedAt date of a deleted public link",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the actee information of a dataset",
      "fullTitle": "/audits GET audit logs of dataset and entity events should get the actee information of a dataset",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the actee information of a dataset through an entity event",
      "fullTitle": "/audits GET audit logs of dataset and entity events should get the actee information of a dataset through an entity event",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should get the attachment events of a (partial) submission",
      "fullTitle": "/audits GET audit logs of OpenRosa submission attachment events should get the attachment events of a (partial) submission",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle resubmitting partial submission with all attachments",
      "fullTitle": "/audits GET audit logs of OpenRosa submission attachment events should handle resubmitting partial submission with all attachments",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle resubmitting partial submission with contents of attachment changed",
      "fullTitle": "/audits GET audit logs of OpenRosa submission attachment events should handle resubmitting partial submission with contents of attachment changed",
      "file": "/usr/odk/test/integration/api/audits.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot backup",
      "fullTitle": "api: /backup POST should reject if the user cannot backup",
      "file": "/usr/odk/test/integration/api/backup.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a valid zip file if the user can backup @slow",
      "fullTitle": "api: /backup POST should return a valid zip file if the user can backup @slow",
      "file": "/usr/odk/test/integration/api/backup.js",
      "duration": 1018,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /submissions/:id/comments POST should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read the submission",
      "fullTitle": "api: /submissions/:id/comments POST should reject if the user cannot read the submission",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if no comment is provided",
      "fullTitle": "api: /submissions/:id/comments POST should reject if no comment is provided",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept the new comment",
      "fullTitle": "api: /submissions/:id/comments POST should accept the new comment",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject notfound if the submission does not exist",
      "fullTitle": "api: /submissions/:id/comments GET should reject notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read the submission",
      "fullTitle": "api: /submissions/:id/comments GET should reject if the user cannot read the submission",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return comments in order",
      "fullTitle": "api: /submissions/:id/comments GET should return comments in order",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return extended comments",
      "fullTitle": "api: /submissions/:id/comments GET should return extended comments",
      "file": "/usr/odk/test/integration/api/comments.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot set config",
      "fullTitle": "api: /config generic endpoints POST should reject if the user cannot set config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject for an unknown config",
      "fullTitle": "api: /config generic endpoints POST should reject for an unknown config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should set the config",
      "fullTitle": "api: /config generic endpoints POST should set the config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should call fromValue for the config frame",
      "fullTitle": "api: /config generic endpoints POST should call fromValue for the config frame",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should overwrite the existing config",
      "fullTitle": "api: /config generic endpoints POST should overwrite the existing config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /config generic endpoints POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot set config",
      "fullTitle": "api: /config generic endpoints GET should reject if the user cannot set config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the config is not set",
      "fullTitle": "api: /config generic endpoints GET should return notfound if the config is not set",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the config",
      "fullTitle": "api: /config generic endpoints GET should return the config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot set config",
      "fullTitle": "api: /config generic endpoints DELETE should reject if the user cannot set config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject for an unknown config",
      "fullTitle": "api: /config generic endpoints DELETE should reject for an unknown config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should unset the config",
      "fullTitle": "api: /config generic endpoints DELETE should unset the config",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return success even if no config is set",
      "fullTitle": "api: /config generic endpoints DELETE should return success even if no config is set",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /config generic endpoints DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/config.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if user cannot create datasets",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should reject if user cannot create datasets",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if dataset name is not provided",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should reject if dataset name is not provided",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if dataset name is null",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should reject if dataset name is null",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject dataset name is invalid",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should reject dataset name is invalid",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create a new dataset and return dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should create a new dataset and return dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow properties to be set on new dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should allow properties to be set on new dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should add label-only entity to dataset, all via API",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should add label-only entity to dataset, all via API",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an event in the audit log for creating a new dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST should log an event in the audit log for creating a new dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 214,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if creating a dataset that already exists",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should reject if creating a dataset that already exists",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if creating a dataset that has a similar name to an existing published dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should reject if creating a dataset that has a similar name to an existing published dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow creating a dataset that only exists as a draft",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should allow creating a dataset that only exists as a draft",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow creating a dataset that has a similar name to a draft dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should allow creating a dataset that has a similar name to a draft dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow creating a dataset with same name as draft that conflicts with published dataset",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets POST dataset name conflicts via API should not allow creating a dataset with same name as draft that conflicts with published dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject user does not have dataset update access",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject user does not have dataset update access",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should add property to dataset and return success",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should add property to dataset and return success",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept entities with properties after properties have been added",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should accept entities with properties after properties have been added",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if property name is invalid",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if property name is invalid",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if property name is not provided",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if property name is not provided",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if property name is null",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if property name is null",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if creating a dataset property that already exists",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if creating a dataset property that already exists",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if creating a dataset property that already exists but with different capitalization",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should reject if creating a dataset property that already exists but with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log an event for creating a new dataset property",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should log an event for creating a new dataset property",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow property name from a deleted draft form be used",
      "fullTitle": "datasets and entities creating datasets and properties via the API projects/:id/datasets/:dataset/properties POST should allow property name from a deleted draft form be used",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot list datasets",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET should reject if the user cannot list datasets",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the datasets of Default project",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET should return the datasets of Default project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the extended datasets of Default project",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET should return the extended datasets of Default project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return draft datasets",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET should not return draft datasets",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the 0 for entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should return the 0 for entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the extended datasets of Default project",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should return the extended datasets of Default project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the correct count and latest timestamp of entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should return the correct count and latest timestamp of entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 196,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should exclude deleted entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should exclude deleted entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the correct count for multiple dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets GET extended should return the correct count for multiple dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot access dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should reject if the user cannot access dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should let the user download the dataset (even if 0 entity rows)",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should let the user download the dataset (even if 0 entity rows)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only published properties",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return only published properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if dataset does not exist",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should reject if dataset does not exist",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 197,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if dataset is not published",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should reject if dataset is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return csv file with data",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return csv file with data",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return csv file for dataset that have dot in its property name",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return csv file for dataset that have dot in its property name",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 272,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should stream csv of dataset with entities from multiple forms",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should stream csv of dataset with entities from multiple forms",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 379,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return deleted entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should not return deleted entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 236,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated value correctly (entity updated via API)",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return updated value correctly (entity updated via API)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 232,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated value correctly (entity updated via submission)",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should return updated value correctly (entity updated via submission)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 267,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter the Entities",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should filter the Entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 345,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should search the Entities with $search parameter",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should search the Entities with $search parameter",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 220,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine $filter and $search parameters",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET should combine $filter and $search parameters",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 304 content not changed if ETag matches",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET ETag on entities.csv should return 304 content not changed if ETag matches",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 282,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return new ETag if entity data is modified",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET ETag on entities.csv should return new ETag if entity data is modified",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 299,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return new ETag if entity deleted",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:dataset.csv GET ETag on entities.csv should return new ETag if entity deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 263,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the metadata of the dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return the metadata of the dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 284,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the extended metadata of the dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return the extended metadata of the dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if dataset is not published",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should reject if dataset is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return duplicate linkedForms",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return duplicate linkedForms",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a linked form that has been deleted",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return a linked form that has been deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a form draft as a linked form",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return a form draft as a linked form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 159,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return properties of a dataset in order",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return properties of a dataset in order",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties from multiple forms in order",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties from multiple forms in order",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties from multiple forms where later form publishes dataset",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties from multiple forms where later form publishes dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties from multiple forms including updated form with updated schema",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties from multiple forms including updated form with updated schema",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties when purged draft form shares some properties",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties when purged draft form shares some properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset properties when draft form (purged before second form publish) shares some properties",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return dataset properties when draft form (purged before second form publish) shares some properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return null in properties.forms when creation form is updated",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return null in properties.forms when creation form is updated",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return deleted form",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should not return deleted form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 109,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return source form that does not set any property",
      "fullTitle": "datasets and entities listing and downloading datasets projects/:id/datasets/:name GET should return source form that does not set any property",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless user can form.update",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should reject unless user can form.update",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if user can form.update but not entity.list",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should reject if user can form.update but not entity.list",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should link dataset to form using PATCH",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should link dataset to form using PATCH",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 185,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset attachment in form manifest",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should return dataset attachment in form manifest",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should override blob and link dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should override blob and link dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 280,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow an attachment to have a .CSV extension",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should allow an attachment to have a .CSV extension",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 267,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should unlink dataset from the form",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should unlink dataset from the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return error if dataset is not found",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should return error if dataset is not found",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should throw problem if datasetId is being set for non-data type",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should throw problem if datasetId is being set for non-data type",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return error if dataset is not published",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name PATCH should return error if dataset is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should unlink dataset from the form",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/draft/attachment/:name DELETE should unlink dataset from the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set datasetId of attachment on form draft upload",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments should set datasetId of attachment on form draft upload",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not link dataset if previous version has blob",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments should not link dataset if previous version has blob",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 120,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should link dataset if previous version does not have blob or dataset linked",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments should link dataset if previous version does not have blob or dataset linked",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not set datasetId of non-file type attachment",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments should not set datasetId of non-file type attachment",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should autolink on upload new form and simultaneously publish",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should autolink on upload new form and simultaneously publish",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should autolink when first publishing a draft",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should autolink when first publishing a draft",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if attachment already filled in",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if attachment already filled in",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if attachment isnt the dataset in question",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if attachment isnt the dataset in question",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if dataset already published because it will be attached already if dataset made before",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if dataset already published because it will be attached already if dataset made before",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 123,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should autolink if dataset already published but it was created after the form draft",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should autolink if dataset already published but it was created after the form draft",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 132,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if the update form doesnt consume dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if the update form doesnt consume dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink if form doesnt create dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink if form doesnt create dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not autolink on create/consume dataset if .csv extention doesnt match case",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink on create/consume dataset if .csv extention doesnt match case",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not autolink on draft consume-only form if .csv extention doesnt match case",
      "fullTitle": "datasets and entities linking form attachments to datasets autolink dataset to attachments autolink when publishing form that creates and consumes new dataset should not autolink on draft consume-only form if .csv extention doesnt match case",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw problem if blobId and datasetId are being set",
      "fullTitle": "datasets and entities linking form attachments to datasets check datasetId constraints should throw problem if blobId and datasetId are being set",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw problem if datasetId is being set for non-data type",
      "fullTitle": "datasets and entities linking form attachments to datasets check datasetId constraints should throw problem if datasetId is being set for non-data type",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not throw problem for fast external itemsets when there is existing \"itemsets\" dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets check datasetId constraints should not throw problem for fast external itemsets when there is existing \"itemsets\" dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not throw problem for new version of \"fast external itemsets\" when there is existing \"itemsets\" dataset",
      "fullTitle": "datasets and entities linking form attachments to datasets check datasetId constraints should not throw problem for new version of \"fast external itemsets\" when there is existing \"itemsets\" dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities csv",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return entities csv",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 407,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities csv for testing",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return entities csv for testing",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return data for columns that contain valid special characters",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return data for columns that contain valid special characters",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 271,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return deleted entities",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should not return deleted entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated value correctly",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return updated value correctly",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 289,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return md5 of last Entity timestamp in the manifest",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return md5 of last Entity timestamp in the manifest",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 315,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return approvalEntityList as the type attribute of mediaFile for datasets that require approval",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return approvalEntityList as the type attribute of mediaFile for datasets that require approval",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 235,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 304 content not changed if ETag matches",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return 304 content not changed if ETag matches",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 333,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return ETag if content has changed",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return ETag if content has changed",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 299,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return new ETag if content has been deleted",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return new ETag if content has been deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 343,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return new ETag if content has changed - draft token",
      "fullTitle": "datasets and entities linking form attachments to datasets projects/:id/forms/:formId/attachments/:name (entities dataset) should return new ETag if content has changed - draft token",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 267,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject dataset-diff if the user cannot modify the form",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should reject dataset-diff if the user cannot modify the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 220,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if user can modify form but not list datasets on project",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should reject if user can modify form but not list datasets on project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all properties of dataset",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return all properties of dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all properties with isNew to be false",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return all properties with isNew to be false",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all properties with appropriate value of isNew",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return all properties with appropriate value of isNew",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return properties in the same order they appear as questions in the form",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return properties in the same order they appear as questions in the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return ordered properties including properties not in the form",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return ordered properties including properties not in the form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 152,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset name only if no property mapping is defined",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return dataset name only if no property mapping is defined",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array if there is no dataset defined",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return empty array if there is no dataset defined",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return only properties of the dataset of the requested project",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return only properties of the dataset of the requested project",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return inForm false for removed property",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return inForm false for removed property",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array if managed encryption is enabled",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return empty array if managed encryption is enabled",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 249,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array if form is encrypted",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/draft/dataset-diff GET should return empty array if form is encrypted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all properties of dataset",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should return all properties of dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all properties with appropriate value of inForm",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should return all properties with appropriate value of inForm",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return unpublished properties",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should not return unpublished properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return dataset name only if there is no properties",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should return dataset name only if there is no properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should let the user download even if there are no properties",
      "fullTitle": "datasets and entities dataset diffs /projects/:id/forms/:formId/dataset-diff GET should let the user download even if there are no properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a Problem if the entity xml has the wrong version",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return a Problem if the entity xml has the wrong version",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 207,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a Problem if the entity xml is invalid (e.g. missing dataset name)",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return a Problem if the entity xml is invalid (e.g. missing dataset name)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a Problem if the savetos reference invalid properties",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return a Problem if the savetos reference invalid properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a Problem if the savetos reference invalid properties (extra whitespace)",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return a Problem if the savetos reference invalid properties (extra whitespace)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the created form upon success",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should return the created form upon success",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept entity form and save dataset with no binds",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should accept entity form and save dataset with no binds",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not let multiple fields to be mapped to a single property",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should not let multiple fields to be mapped to a single property",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should ignore a saveto incorrrectly placed on a bind on a structural field",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should ignore a saveto incorrrectly placed on a bind on a structural field",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when a saveto is on a field inside a repeat group",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should throw an error when a saveto is on a field inside a repeat group",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should publish dataset when any dataset creating form is published",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST should publish dataset when any dataset creating form is published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 127,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should warn if the entities-version is 2022.1.0 (earlier than 2024.1.0)",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST warnings about entities-version from before 2024.1.0 should warn if the entities-version is 2022.1.0 (earlier than 2024.1.0)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should warn if the entities-version is 2023.1.0 (earlier than 2024.1.0)",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST warnings about entities-version from before 2024.1.0 should warn if the entities-version is 2023.1.0 (earlier than 2024.1.0)",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow two forms to refrence the same dataset if the case is exactly the same",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should allow two forms to refrence the same dataset if the case is exactly the same",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow a form to be uploaded if dataset name conflicts with existing published dataset",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should not allow a form to be uploaded if dataset name conflicts with existing published dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow the second form to publish a dataset that will have a name conflict",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should not allow the second form to publish a dataset that will have a name conflict",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow the second form to publish (with new version) a dataset that will have a name conflict",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should not allow the second form to publish (with new version) a dataset that will have a name conflict",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should prevent name conflicts when there are multiple draft datasets with different capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should prevent name conflicts when there are multiple draft datasets with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow forms that match exisitng datasets even when there are other drafts with different capitalizations",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should allow forms that match exisitng datasets even when there are other drafts with different capitalizations",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow forms with same name in a different project to be published",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset name conflicts via Form upload and publishing should allow forms with same name in a different project to be published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if property name differ by just capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload should reject if property name differ by just capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject when publishing duplicate property with different capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload should reject when publishing duplicate property with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject when new Form draft has duplicate property with different capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload should reject when new Form draft has duplicate property with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "reject if the Form contains duplicate properties with different capitalization",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload reject if the Form contains duplicate properties with different capitalization",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not reject for existing duplicate properties",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset properties name conflicts via Form upload should not reject for existing duplicate properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update a dataset with a new draft and be able to upload multiple drafts",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST updating datasets through new form drafts should update a dataset with a new draft and be able to upload multiple drafts",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 151,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a Problem if updated form has invalid dataset properties",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST updating datasets through new form drafts should return a Problem if updated form has invalid dataset properties",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow a new form that creates a dataset without user having dataset.create verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow a new form that creates a dataset without user having dataset.create verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 255,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow \"creating\" of a dataset when the dataset exists but unpublished",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow \"creating\" of a dataset when the dataset exists but unpublished",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow updating a form about an unpublished dataset, which is similar to creating that dataset",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow updating a form about an unpublished dataset, which is similar to creating that dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow updating a draft that creates a dataset without user having dataset.create verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow updating a draft that creates a dataset without user having dataset.create verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow unpublished dataset to be published on form publish if user does not have dataset.create verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.create should NOT allow unpublished dataset to be published on form publish if user does not have dataset.create verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow a new form that updates a dataset without user having dataset.update verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should NOT allow a new form that updates a dataset without user having dataset.update verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 233,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow update draft that updates a dataset without user having dataset.update verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should NOT allow update draft that updates a dataset without user having dataset.update verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow unpublished properties to be published on form publish if user does not have dataset.update verb",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should NOT allow unpublished properties to be published on form publish if user does not have dataset.update verb",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ALLOW update of form draft that does not modify existing dataset",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should ALLOW update of form draft that does not modify existing dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 138,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ALLOW new form about existing dataset that does not update it",
      "fullTitle": "datasets and entities parsing datasets on form upload parsing datasets at /projects/:id/forms POST dataset-specific verbs dataset.update should ALLOW new form about existing dataset that does not update it",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log dataset creation when form is not published",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should not log dataset creation when form is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log dataset modification when form is not published",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should not log dataset modification when form is not published",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log appropriate sequence of form and dataset events",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should log appropriate sequence of form and dataset events",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log dataset modification when no new property is added",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should not log dataset modification when no new property is added",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log dataset publishing with properties in audit log",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST should log dataset publishing with properties in audit log",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 241,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to add properties to datasets",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST uploading forms that UPDATE but do not create entities should be able to add properties to datasets",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to have an update entity form with no savetos",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST uploading forms that UPDATE but do not create entities should be able to have an update entity form with no savetos",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create dataset if it does not exist and and log it",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset audit logging at /projects/:id/forms POST uploading forms that UPDATE but do not create entities should create dataset if it does not exist and and log it",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should clean up form fields and dataset properties of unneeded drafts",
      "fullTitle": "datasets and entities parsing datasets on form upload dataset property interaction with intermediate form schemas and purging uneeded drafts should clean up form fields and dataset properties of unneeded drafts",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should populate entity properties based on correct form schema",
      "fullTitle": "datasets and entities form schemas and dataset properties should populate entity properties based on correct form schema",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 314,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow update where no label or no properties are updated and entity block is childless",
      "fullTitle": "datasets and entities form schemas and dataset properties should allow update where no label or no properties are updated and entity block is childless",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow label to be added to entity block in new version of form",
      "fullTitle": "datasets and entities form schemas and dataset properties should allow label to be added to entity block in new version of form",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show same field type (structure) for meta/entity tag with and without children",
      "fullTitle": "datasets and entities form schemas and dataset properties should show same field type (structure) for meta/entity tag with and without children",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should gracefully handle error if incoming entity tag in sub has no attributes",
      "fullTitle": "datasets and entities form schemas and dataset properties should gracefully handle error if incoming entity tag in sub has no attributes",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow a form that has created an entity to be purged",
      "fullTitle": "datasets and entities dataset and entities should have isolated lifecycle should allow a form that has created an entity to be purged",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 167,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return published dataset even if corresponding form is deleted",
      "fullTitle": "datasets and entities dataset and entities should have isolated lifecycle should return published dataset even if corresponding form is deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should keep dataset and its property status intact even if corresponding form is deleted",
      "fullTitle": "datasets and entities dataset and entities should have isolated lifecycle should keep dataset and its property status intact even if corresponding form is deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not let submission edits get caught in pending submission count",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings should not let submission edits get caught in pending submission count",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 182,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow updating settings",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should allow updating settings",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should disallow writing/changing dataset name",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should disallow writing/changing dataset name",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return bad request if value of convert query param is invalid",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should return bad request if value of convert query param is invalid",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return warning for approvalRequired if there are pending submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should return warning for approvalRequired if there are pending submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a warning for ownerOnly by itself",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should not return a warning for ownerOnly by itself",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update dataset when pending submissions are draft or deleted",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should update dataset when pending submissions are draft or deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update approvalRequired without automatic conversions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should update approvalRequired without automatic conversions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should automatically convert pending submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should automatically convert pending submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not convert pending submissions after only ownerOnly is updated",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should not convert pending submissions after only ownerOnly is updated",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not convert deleted submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should not convert deleted submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 143,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not convert draft submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should not convert draft submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log error if there is a problem in a submission while auto converting",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should log error if there is a problem in a submission while auto converting",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should use latest version of submission in pending submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should use latest version of submission in pending submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should use latest version of submission (updated to not create entity) in pending submissions",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should use latest version of submission (updated to not create entity) in pending submissions",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should do something reasonable with pending submissions when they contain entity updates",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings PATCH /datasets/:name should do something reasonable with pending submissions when they contain entity updates",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 268,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not reprocess submission that previously generated entity.error",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings central issue #547, reprocessing submissions that had previous entity errors should not reprocess submission that previously generated entity.error",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reprocess submission that was edited after previously generating entity.error",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings central issue #547, reprocessing submissions that had previous entity errors should reprocess submission that was edited after previously generating entity.error",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 214,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not reprocessed an update caught up in the pending submission scenario ",
      "fullTitle": "datasets and entities approvalRequired and updating dataset settings central issue #547, reprocessing submissions that had previous entity errors should not reprocessed an update caught up in the pending submission scenario ",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 245,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "ignores the flag for an admin",
      "fullTitle": "datasets and entities ownerOnly ignores the flag for an admin",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 172,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "ignores the flag for a project manager",
      "fullTitle": "datasets and entities ownerOnly ignores the flag for a project manager",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 303,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "ignores the flag for a project viewer",
      "fullTitle": "datasets and entities ownerOnly ignores the flag for a project viewer",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 419,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "ignores the flag in /v1/test",
      "fullTitle": "datasets and entities ownerOnly ignores the flag in /v1/test",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 328,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "limits entity access for a Data Collector",
      "fullTitle": "datasets and entities ownerOnly limits entity access for a Data Collector",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 351,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "does not limit access if the flag is false",
      "fullTitle": "datasets and entities ownerOnly does not limit access if the flag is false",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 306,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "returns same hash as normal for users who can entity.list",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash returns same hash as normal for users who can entity.list",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 430,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "returns different hash for a data collector",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash returns different hash for a data collector",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 338,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "returns same hash as normal for a data collector if flag is false",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash returns same hash as normal for a data collector if flag is false",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 335,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "does not change hash of a different dataset",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash does not change hash of a different dataset",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 471,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after a data collector creates an entity",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after a data collector creates an entity",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 550,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "does not change hash after someone else creates an entity",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash does not change hash after someone else creates an entity",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 534,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after an entity is updated",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after an entity is updated",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 520,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after an entity is deleted",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after an entity is deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 505,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "does not change hash after an entity is purged",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash does not change hash after an entity is purged",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 691,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after an entity is restored",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after an entity is restored",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 676,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after an entity is undeleted, then another entity is deleted",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after an entity is undeleted, then another entity is deleted",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 790,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "changes hash after a dataset property is added",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash changes hash after a dataset property is added",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 473,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "computes hash based on timestamps and the entity count",
      "fullTitle": "datasets and entities ownerOnly OpenRosa hash computes hash based on timestamps and the entity count",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 745,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should happily return given no entities",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should happily return given no entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with correct deleted value",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return with correct deleted value",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return purged entities as well",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return purged entities as well",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only queried entities",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return only queried entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only queried purged entities",
      "fullTitle": "datasets and entities GET /datasets/:name/integrity should return only queried purged entities",
      "file": "/usr/odk/test/integration/api/datasets.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should send form and submission that collects entities for multiple trees in a repeat group",
      "fullTitle": "Entities from Repeats submitting forms and submissions should send form and submission that collects entities for multiple trees in a repeat group",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send form and submission that collects entities about household and multiple people",
      "fullTitle": "Entities from Repeats submitting forms and submissions should send form and submission that collects entities about household and multiple people",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send form and submission about two entities at different levels: farm and farmer",
      "fullTitle": "Entities from Repeats submitting forms and submissions should send form and submission about two entities at different levels: farm and farmer",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should assign properties to dataset trees in a repeat group",
      "fullTitle": "Entities from Repeats assigning properties to the individual datasets should assign properties to dataset trees in a repeat group",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should assign properties to households and people datasets at parent and child repeat levels",
      "fullTitle": "Entities from Repeats assigning properties to the individual datasets should assign properties to households and people datasets at parent and child repeat levels",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should assign properties to farm and farmer datasets at different levels",
      "fullTitle": "Entities from Repeats assigning properties to the individual datasets should assign properties to farm and farmer datasets at different levels",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with two entities in it at different levels",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with two entities in it at different levels",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with entity repeats",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with entity repeats",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with entity and entity repeats",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with entity and entity repeats",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with entities in two levels of repeat groups",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with entities in two levels of repeat groups",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 137,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with entity declared in a repeat / group",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with entity declared in a repeat / group",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission with repeat entities that update and create",
      "fullTitle": "Entities from Repeats processing submissions should process a submission with repeat entities that update and create",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should assign the same entity source to multiple entities created by the same submission",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should assign the same entity source to multiple entities created by the same submission",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 116,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make an entity_def_source record or make any entities if one has an error",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should not make an entity_def_source record or make any entities if one has an error",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 116,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an error when one of multiple entities fails",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should log an error when one of multiple entities fails",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should note what happens when two entities hold submission into backlog",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should note what happens when two entities hold submission into backlog",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should note behavior when one entity in a submission causes entire submission to be held in backlog",
      "fullTitle": "Entities from Repeats errors, entity sources and backlog should note behavior when one entity in a submission causes entire submission to be held in backlog",
      "file": "/usr/odk/test/integration/api/entities-from-repeats.js",
      "duration": 109,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 187,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should happily return given no entities",
      "fullTitle": "Entities API GET /datasets/:name/entities should happily return given no entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return metadata of the entities of the dataset",
      "fullTitle": "Entities API GET /datasets/:name/entities should return metadata of the entities of the dataset",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 328,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return metadata of the entities of the dataset - only deleted",
      "fullTitle": "Entities API GET /datasets/:name/entities should return metadata of the entities of the dataset - only deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return extended metadata of the entities of the dataset",
      "fullTitle": "Entities API GET /datasets/:name/entities should return extended metadata of the entities of the dataset",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 145,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not mince the object properties",
      "fullTitle": "Entities API GET /datasets/:name/entities should not mince the object properties",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 202,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities in stable order",
      "fullTitle": "Entities API GET /datasets/:name/entities should return entities in stable order",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should strip uuid: prefix from query param in entity requests",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should strip uuid: prefix from query param in entity requests",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return full entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return full entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return full extended entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return full extended entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return current version of entity data when updated",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return current version of entity data when updated",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 191,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not mince the object properties",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should not mince the object properties",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 214,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return full entity even if form+submission has been deleted and purged",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return full entity even if form+submission has been deleted and purged",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 265,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an Entity with SOFT conflict",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return an Entity with SOFT conflict",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an Entity with HARD conflict",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid should return an Entity with HARD conflict",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 171,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 186,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all versions of the Entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return all versions of the Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 159,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all versions of the Entity - Extended",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return all versions of the Entity - Extended",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 180,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all versions of the Entity - Conflicts",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should return all versions of the Entity - Conflicts",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 239,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should get version source with source details even when there is no corresponding submission event",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions should get version source with source details even when there is no corresponding submission event",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only relevent versions needed for conflict resolution",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should return only relevent versions needed for conflict resolution",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 244,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should correctly set relevantToConflict field",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should correctly set relevantToConflict field",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 295,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array when all conflicts are resolved",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should return empty array when all conflicts are resolved",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 225,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only relevent versions after conflict resolution",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should return only relevent versions after conflict resolution",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 236,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should correctly set `resolved` flag for the versions",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should correctly set `resolved` flag for the versions",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 251,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return correct response for conflict after second resolution",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/versions relevantToConflict should return correct response for conflict after second resolution",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 296,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/diffs should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/diffs should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 138,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/diffs should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return differences between the version of an Entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/diffs should return differences between the version of an Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 206,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 180,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return audit logs of the Entity including updates via API and submission",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return audit logs of the Entity including updates via API and submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 243,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return audit logs of the Entity when it is created via POST API",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return audit logs of the Entity when it is created via POST API",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the latest instance name of a source submission",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return the latest instance name of a source submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 181,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return right approval details when we have multiple approvals",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return right approval details when we have multiple approvals",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return paginated audit logs of the Entity",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return paginated audit logs of the Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 172,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return delete and restore events",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits should return delete and restore events",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 206,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include submission or source event when entity created or updated via API",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should not include submission or source event when entity created or updated via API",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return source when entity created via submission approval",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return source when entity created via submission approval",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return source when entity created via submission creation",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return source when entity created via submission creation",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return source when entity updated via submission",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return source when entity updated via submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return instanceId even when submission is deleted",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return instanceId even when submission is deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 186,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return instanceId even when form is deleted",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return instanceId even when form is deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entity audits even when submission and its logs are deleted",
      "fullTitle": "Entities API GET /datasets/:name/entities/:uuid/audits entity source within an audit event should return entity audits even when submission and its logs are deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 196,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API POST /datasets/:name/entities should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot write",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if the user cannot write",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject malformed json",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject malformed json",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject creating new entity if dataset not yet published",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject creating new entity if dataset not yet published",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create an Entity",
      "fullTitle": "Entities API POST /datasets/:name/entities should create an Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should generate uuid if one is not provided",
      "fullTitle": "Entities API POST /datasets/:name/entities should generate uuid if one is not provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if uuid is not a valid uuid",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if uuid is not a valid uuid",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if label is blank",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if label is blank",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if label is not provided",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if label is not provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if uuid is not unique",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if uuid is not unique",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 202,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if entity with the same uuid is soft deleted",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if entity with the same uuid is soft deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 220,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if data properties do not match dataset exactly",
      "fullTitle": "Entities API POST /datasets/:name/entities should reject if data properties do not match dataset exactly",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark the source as type api",
      "fullTitle": "Entities API POST /datasets/:name/entities should mark the source as type api",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the entity create event in the audit log",
      "fullTitle": "Entities API POST /datasets/:name/entities should log the entity create event in the audit log",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 356,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot update",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should reject if the user cannot update",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 219,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if version or force flag is not provided",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should reject if version or force flag is not provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 224,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if version does not match",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should reject if version does not match",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 169,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should store the entity update source and creator id",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should store the entity update source and creator id",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 218,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should add a source row with type api when updating an entity via PATCH",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should add a source row with type api when updating an entity via PATCH",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the entity update event in the audit log",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should log the entity update event in the audit log",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow parallel updates to the same Entity",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid should not allow parallel updates to the same Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 415,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should partially update an Entity",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should partially update an Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the latest data after multiple updates",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should return the latest data after multiple updates",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 228,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the label of an entity",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should update the label of an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if updating the label to be empty",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should reject if updating the label to be empty",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 184,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update an entity with additional properties",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should update an entity with additional properties",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 210,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should let a propery be set to empty string",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should let a propery be set to empty string",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not accept null property",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should not accept null property",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if updating property not in dataset",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid updating data should reject if updating property not in dataset",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 142,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should resolve the conflict without updating data",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should resolve the conflict without updating data",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should resolve the conflict with updating data",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should resolve the conflict with updating data",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resolve without the flag",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should not resolve without the flag",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 209,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should resolve the conflict and forcefully update the entity",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should resolve the conflict and forcefully update the entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 196,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw error if there is no conflict",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should throw error if there is no conflict",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if version does not match",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should reject if version does not match",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should forcefully resolve the conflict",
      "fullTitle": "Entities API PATCH /datasets/:name/entities/:uuid resolve conflict should forcefully resolve the conflict",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API DELETE /datasets/:name/entities/:uuid should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the entity does not exist",
      "fullTitle": "Entities API DELETE /datasets/:name/entities/:uuid should return notfound if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 178,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot delete",
      "fullTitle": "Entities API DELETE /datasets/:name/entities/:uuid should reject if the user cannot delete",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 191,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete an Entity",
      "fullTitle": "Entities API DELETE /datasets/:name/entities/:uuid should delete an Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 223,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the entity has not been deleted",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should reject if the entity has not been deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the entity does not exist",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should reject if the entity does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the entity uuid is not valid",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should reject if the entity uuid is not valid",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 169,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot restore",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should reject if the user cannot restore",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 170,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete the entity and then restore it",
      "fullTitle": "Entities API POST /datasets/:name/entities/:uuid/restore should soft-delete the entity and then restore it",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject malformed entity object json",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should reject malformed entity object json",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject malformed contents of entity array",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should reject malformed contents of entity array",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject malformed entities array",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should reject malformed entities array",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject empty entities array",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should reject empty entities array",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create Entities in bulk",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should create Entities in bulk",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should generate uuids for entities when no uuid is provided",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) should generate uuids for entities when no uuid is provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities if one is invalid (missing label)",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities if one is invalid (missing label)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities if one is invalid (invalid property)",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities if one is invalid (invalid property)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities if one is invalid (invalid UUID)",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities if one is invalid (invalid UUID)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities there is a UUID collision",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities there is a UUID collision",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 205,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create any entities if there is a UUID collision with soft deleted Entity",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) bulk create errors should not create any entities if there is a UUID collision with soft deleted Entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error if no source is provided",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity source when created through bulk append should throw an error if no source is provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error if source name is missing",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity source when created through bulk append should throw an error if source name is missing",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save source details in entity version source",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity source when created through bulk append should save source details in entity version source",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 141,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entities that share the same source",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity source when created through bulk append should create entities that share the same source",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return bulk create event in the audit log for an entity",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity audit events when created through bulk append should return bulk create event in the audit log for an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fetch the correct events for a conflict resolution (no new version)",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity audit events when created through bulk append should fetch the correct events for a conflict resolution (no new version)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 322,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fetch the correct events for a conflict resolution that does add a new version",
      "fullTitle": "Entities API POST /datasets/:name/entities (bulk creation) entity audit events when created through bulk append should fetch the correct events for a conflict resolution that does add a new version",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 291,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return not found if dataset is not there",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should return not found if dataset is not there",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return unauthorized if user does not have rights to delete entities",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should return unauthorized if user does not have rights to delete entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 185,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return ok even if provided entities are not there",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should return ok even if provided entities are not there",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete entities with the given UUIDs",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should delete entities with the given UUIDs",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count 0 if entities are already deleted",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should return count 0 if entities are already deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 182,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log entity.delete when only one uuid is provided",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-delete should log entity.delete when only one uuid is provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 166,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return not found if dataset is not there",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return not found if dataset is not there",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return unauthorized if user does not have rights to restore entities",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return unauthorized if user does not have rights to restore entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return ok even if provided entities are not there",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return ok even if provided entities are not there",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should restore entities with the given UUIDs",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should restore entities with the given UUIDs",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count 0 if entities are not deleted",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return count 0 if entities are not deleted",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log entity.restore when only one uuid is provided",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should log entity.restore when only one uuid is provided",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed valid and invalid UUIDs in bulk restore",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should handle mixed valid and invalid UUIDs in bulk restore",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle bulk restore with audit logging for multiple entities",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should handle bulk restore with audit logging for multiple entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return bulk restore event for individual entity audits",
      "fullTitle": "Entities API POST /datasets/:name/entities/bulk-restore should return bulk restore event for individual entity audits",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 170,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity",
      "fullTitle": "Entities API create new entities from submissions should create entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity if the label is missing in the submission",
      "fullTitle": "Entities API create new entities from submissions should not create entity if the label is missing in the submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity if the uuid is missing in the submission",
      "fullTitle": "Entities API create new entities from submissions should not create entity if the uuid is missing in the submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process multiple updates in a row",
      "fullTitle": "Entities API entity updates from submissions should process multiple updates in a row",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update data and label",
      "fullTitle": "Entities API entity updates from submissions should update data and label",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 173,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update only the label",
      "fullTitle": "Entities API entity updates from submissions should update only the label",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update label if not included",
      "fullTitle": "Entities API entity updates from submissions should not update label if not included",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 153,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update label if label is blank",
      "fullTitle": "Entities API entity updates from submissions should not update label if label is blank",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set field to blank",
      "fullTitle": "Entities API entity updates from submissions should set field to blank",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update field if not included in xml",
      "fullTitle": "Entities API entity updates from submissions should not update field if not included in xml",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an error and not update if baseVersion is missing",
      "fullTitle": "Entities API entity updates from submissions update error cases should log an error and not update if baseVersion is missing",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 152,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an error and not update if baseVersion in submission does not exist",
      "fullTitle": "Entities API entity updates from submissions update error cases should log an error and not update if baseVersion in submission does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an error and if baseVersion is not an integer",
      "fullTitle": "Entities API entity updates from submissions update error cases should log an error and if baseVersion is not an integer",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 205,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create an entity if it does not yet exist",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should create an entity if it does not yet exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should perform an upsert with blank label",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should perform an upsert with blank label",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should have create error if failed to update non-existent entity but still had error with create (e.g blank label)",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should have create error if failed to update non-existent entity but still had error with create (e.g blank label)",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update an entity if it does exist",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should update an entity if it does exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 184,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail both update and create if uuid exists and base version is wrong",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should fail both update and create if uuid exists and base version is wrong",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 162,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail both update and create on error like invalid uuid",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should fail both update and create on error like invalid uuid",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 159,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity when both create and update are true but baseVersion is empty",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should create entity when both create and update are true but baseVersion is empty",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 184,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log error when both create and update are true, baseVersion is empty but entity uuid exists",
      "fullTitle": "Entities API entity updates from submissions create and update in a single submission should log error when both create and update are true, baseVersion is empty but entity uuid exists",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create an entity from submission edited to have create flag",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should create an entity from submission edited to have create flag",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 164,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create an entity from approved submission edited to have create flag",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should create an entity from approved submission edited to have create flag",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create second entity with new uuid from edited submission",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not create second entity with new uuid from edited submission",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 155,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update a entity from edited sub if sub already created entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not update a entity from edited sub if sub already created entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update same entity from edited sub if sub already created entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not update same entity from edited sub if sub already created entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 142,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update entity when submission is edited to set update to true",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should update entity when submission is edited to set update to true",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update different entity when submission previously updated an entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not update different entity when submission previously updated an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 239,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not re-update entity when submission previously updated an entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not re-update entity when submission previously updated an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 211,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update entity after editing submission to reference valid entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should update entity after editing submission to reference valid entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity after sub updates an entity",
      "fullTitle": "Entities API entity updates from submissions only take one entity action per submission should not create entity after sub updates an entity",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should result in an error for an update from a create form",
      "fullTitle": "Entities API permitted entity actions should result in an error for an update from a create form",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should result in an error for a create from an update form",
      "fullTitle": "Entities API permitted entity actions should result in an error for a create from an update form",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject >250kb requests to non-entity endpoint",
      "fullTitle": "Entities API increased bodyParser json request limit for bulk entity creation should reject >250kb requests to non-entity endpoint",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow >250kb requests to bulk entity endpoint",
      "fullTitle": "Entities API increased bodyParser json request limit for bulk entity creation should allow >250kb requests to bulk entity endpoint",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow >250kb requests to bulk entity endpoint with query parameters",
      "fullTitle": "Entities API increased bodyParser json request limit for bulk entity creation should allow >250kb requests to bulk entity endpoint with query parameters",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the dataset does not exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should return notfound if the dataset does not exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 142,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return empty array if no entities exist",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should return empty array if no entities exist",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return creators sorted by display name",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should return creators sorted by display name",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include duplicate creators",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should not include duplicate creators",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only include creators of non-deleted entities",
      "fullTitle": "Entities API GET /datasets/:name/entities/creators should only include creators of non-deleted entities",
      "file": "/usr/odk/test/integration/api/entities.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can delete",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should reject unless the user can delete",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should delete the form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject restoring unless the user can delete",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should reject restoring unless the user can delete",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject restoring if referenced by the xml form id",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should reject restoring if referenced by the xml form id",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restore a soft-deleted form",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should restore a soft-deleted form",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log form.restore in audit log",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should log form.restore in audit log",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restore a specific form by numeric id when multiple trashed forms share the same xmlFormId",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should restore a specific form by numeric id when multiple trashed forms share the same xmlFormId",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail restoring a form that is not deleted",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should fail restoring a form that is not deleted",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail to restore a form when another active form with the same form id exists",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) should fail to restore a form when another active form with the same form id exists",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restore web user submission access",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) restoring access to undeleted forms should restore web user submission access",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restore public link submission access",
      "fullTitle": "api: /projects/:id/forms (delete, restore) /:id/restore (undeleting trashed forms) restoring access to undeleted forms should restore public link submission access",
      "file": "/usr/odk/test/integration/api/forms/delete-restore.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should reject notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user may modify the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should reject unless the user may modify the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the xmlFormId does not match",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should reject if the xmlFormId does not match",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should set the draft version",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should set the draft version",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create a new draft token while setting a new draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should create a new draft token while setting a new draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request an enketoId while setting a new draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should request an enketoId while setting a new draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request a new enketoId while setting each new draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should request a new enketoId while setting each new draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return with success even if the request to Enketo fails",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should return with success even if the request to Enketo fails",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should wait for Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should wait for Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 581,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request an enketoId from the worker if the request from the endpoint fails",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should request an enketoId from the worker if the request from the endpoint fails",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not request an enketoId from the worker if the request from the endpoint succeeds",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not request an enketoId from the worker if the request from the endpoint succeeds",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should manage draft/published enketo tokens separately",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should manage draft/published enketo tokens separately",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should replace the draft version",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should replace the draft version",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep the draft token while replacing the draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should keep the draft token while replacing the draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep the enketoId while replacing the draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should keep the enketoId while replacing the draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request an enketoId from the worker while replacing the draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not request an enketoId from the worker while replacing the draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should copy the published form definition if not given one",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should copy the published form definition if not given one",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should do nothing given no POST body and no published form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should do nothing given no POST body and no published form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept xlsx drafts",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should accept xlsx drafts",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should ignore xlsx warnings if asked",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should ignore xlsx warnings if asked",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should deal with xlsx itemsets",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should deal with xlsx itemsets",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should pick up xlsx itemsets when newly required",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should pick up xlsx itemsets when newly required",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should pick up new xlsx itemsets replacing the old one",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should pick up new xlsx itemsets replacing the old one",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow version conflicts in draft state",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should allow version conflicts in draft state",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should complain about field conflicts",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain about field conflicts",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should complain about field conflicts (older)",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain about field conflicts (older)",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not complain on downcast to string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not complain on downcast to string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should complain on upcast from string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain on upcast from string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not complain on double-downcast to string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not complain on double-downcast to string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should complain on upcast once downcasted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain on upcast once downcasted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should complain on downcast from group to string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain on downcast from group to string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should complain on downcast from repeat to string",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should complain on downcast from repeat to string",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not complain about discarded draft field conflicts",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should not complain about discarded draft field conflicts",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow new draft with missing meta group",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should allow new draft with missing meta group",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should identify attachments",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should identify attachments",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should carry forward matching published attachments",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should carry forward matching published attachments",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should carry forward matching draft attachments",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should carry forward matching draft attachments",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 127,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update form title with draft title when no published form exists",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST updating form titles should update form title with draft title when no published form exists",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update form title with draft title when form already published",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST updating form titles should not update form title with draft title when form already published",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update form title from draft when form published and existing draft present",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST updating form titles should not update form title from draft when form published and existing draft present",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 145,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update form title with latest draft title only on publish",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST updating form titles should update form title with latest draft title only on publish",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the old undeeded draft when a new version is uploaded",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts should purge the old undeeded draft when a new version is uploaded",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 119,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the old undeeded draft when a new version is uploaded (and no published draft)",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts should purge the old undeeded draft when a new version is uploaded (and no published draft)",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not purge fields because they are part of schema of published form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts purging form fields of unneeded drafts should not purge fields because they are part of schema of published form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge fields of unneeded intermediate draft with different schema",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts purging form fields of unneeded drafts should purge fields of unneeded intermediate draft with different schema",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the form field and schema of intermediate version (and no published draft)",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST purging unneeded drafts purging form fields of unneeded drafts should purge the form field and schema of intermediate version (and no published draft)",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow new draft submissions to be sent after soft-deleting old ones",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should allow new draft submissions to be sent after soft-deleting old ones",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT allow a new draft submission to be sent if it conflicts with a soft-deleted old ones",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should NOT allow a new draft submission to be sent if it conflicts with a soft-deleted old ones",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete submissions of undeeded draft when a new version is uploaded",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should soft-delete submissions of undeeded draft when a new version is uploaded",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete submissions of draft when it is abandoned/deleted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should soft-delete submissions of draft when it is abandoned/deleted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete submissions of draft when it is published",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should soft-delete submissions of draft when it is published",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete submissions of draft when it is published AND the version is set on publish",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should soft-delete submissions of draft when it is published AND the version is set on publish",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge draft submissions when project is encrypted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should purge draft submissions when project is encrypted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 226,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge old draft submissions after 30 days",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should purge old draft submissions after 30 days",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not let soft-deleted draft submissions be undeleted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts should not let soft-deleted draft submissions be undeleted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should work in the straight forward case of replacing active draft with previous draft and submissions",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts experimental - recovering deleted draft submissions should work in the straight forward case of replacing active draft with previous draft and submissions",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine draft subs from two draft versions if recovering old subs without deleting new ones",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts experimental - recovering deleted draft submissions should combine draft subs from two draft versions if recovering old subs without deleting new ones",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should recover draft subs in a def that got published (without changing the version) by adding them to the published subs",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts experimental - recovering deleted draft submissions should recover draft subs in a def that got published (without changing the version) by adding them to the published subs",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show what happens when a published def is set as the draft def of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft POST preserving submissions from old or deleted drafts experimental - recovering deleted draft submissions should show what happens when a published def is set as the draft def of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user does not have project-specific permissions",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user does not have project-specific permissions",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user does not have project-specific permissions, even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user does not have project-specific permissions, even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user does not have project-specific permissions, even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user does not have project-specific permissions, even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"app-user\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"app-user\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"app-user\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"app-user\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 120,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"app-user\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"app-user\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formfill\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formfill\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formfill\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formfill\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formfill\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formfill\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formview\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formview\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formview\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formview\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"formview\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"formview\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"pub-link\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"pub-link\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"pub-link\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"pub-link\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"pub-link\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"pub-link\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"viewer\"",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"viewer\"",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"viewer\", even if there is _also_ a published version of the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"viewer\", even if there is _also_ a published version of the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user has role \"viewer\", even if the form is closed",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should reject if the user has role \"viewer\", even if the form is closed",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should give basic draft details",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should give basic draft details",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should give extended draft details",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should give extended draft details",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the correct enketoId with extended draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should return the correct enketoId with extended draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not count nondraft submissions in its count",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft GET should not count nondraft submissions in its count",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot modify",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should reject if the user cannot modify",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete the draft without deleting the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should delete the draft without deleting the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the draft when it is deleted",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should purge the draft when it is deleted",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should conflict if there is no published version",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should conflict if there is no published version",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create a new draft token after delete",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should create a new draft token after delete",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot modify",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should reject if the user cannot modify",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the version conflicts",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should reject if the version conflicts",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set version on the fly if requested",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should set version on the fly if requested",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should succeed and set the publish date",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should succeed and set the publish date",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not have a draft afterwards",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should not have a draft afterwards",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should show the published versions at /versions",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should show the published versions at /versions",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should provide attachments as expected",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should provide attachments as expected",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs when publishing for first time",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should request Enketo IDs when publishing for first time",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with success even if request to Enketo fails",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should return with success even if request to Enketo fails",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should wait for Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should wait for Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 596,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs when republishing if they are missing",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should request Enketo IDs when republishing if they are missing",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request Enketo IDs when republishing if they are present",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should not request Enketo IDs when republishing if they are present",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs from worker if request from endpoint fails",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should request Enketo IDs from worker if request from endpoint fails",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request Enketo IDs from worker if request from endpoint succeeds",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should not request Enketo IDs from worker if request from endpoint succeeds",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update version even if version provided in query parameter has special chars",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should update version even if version provided in query parameter has special chars",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the correct def ids in the form audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /publish POST should log the correct def ids in the form audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 141,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return fields",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /fields GET should return fields",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a manifest",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /manifest GET should return a manifest",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the draft does not exist",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should reject notfound if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user may modify the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should reject unless the user may modify the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept the file",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should accept the file",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept xml type files",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should accept xml type files",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should replace an extant file with another",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should replace an extant file with another",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow the same file in different slots",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should allow the same file in different slots",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the draft does not exist",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should reject notfound if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user may update the form",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should reject unless the user may update the form",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the file does not exist",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should reject notfound if the file does not exist",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the attachment contents",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should delete the attachment contents",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (drafts) /:id/draft /attachments /:name DELETE should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/draft.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can create",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject unless the user can create",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the xml is malformed",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if the xml is malformed",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form id cannot be found",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if the form id cannot be found",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form id already exists",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if the form id already exists",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if an empty form version already existed but was deleted",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if an empty form version already existed but was deleted",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the created form upon success",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should return the created form upon success",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decode html entities in the value of form version - getodk/central#1470",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should decode html entities in the value of form version - getodk/central#1470",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if form id ends in .xml",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if form id ends in .xml",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if form id ends in .xls(x)",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if form id ends in .xls(x)",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if form id is too long",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject if form id is too long",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept and convert valid xlsx files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should accept and convert valid xlsx files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail on warnings even for valid xlsx files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should fail on warnings even for valid xlsx files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail on warnings even for valid xlsx files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should fail on warnings even for valid xlsx files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create the form for xlsx files with warnings given ignoreWarnings",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should create the form for xlsx files with warnings given ignoreWarnings",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should apply itemsets.csv if it is returned and expected",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should apply itemsets.csv if it is returned and expected",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should ignore itemsets.csv if it is returned but not expected",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should ignore itemsets.csv if it is returned but not expected",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an appropriate response upon conversion error",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should return an appropriate response upon conversion error",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept xls forms and return them over that endpoint",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should accept xls forms and return them over that endpoint",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should by default save the given definition as the draft",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should by default save the given definition as the draft",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should if flagged save the given definition as published",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should if flagged save the given definition as published",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should set the publish date if flagged publish=true",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should set the publish date if flagged publish=true",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should have published timestamp different from create timestamp if published separately",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should have published timestamp different from create timestamp if published separately",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log both actions in the audit log on publish=true",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should log both actions in the audit log on publish=true",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 285,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject with deleted form exists warning",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject with deleted form exists warning",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject with xls and deleted form exists warnings",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject with xls and deleted form exists warnings",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject form with missing meta group",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject form with missing meta group",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject form with meta field that is not a group",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should reject form with meta field that is not a group",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create the form for xml files with warnings given ignoreWarnings",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST should create the form for xml files with warnings given ignoreWarnings",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should request an enketoId",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should request an enketoId",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with success even if request to Enketo fails",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should return with success even if request to Enketo fails",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should wait for Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should wait for Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 558,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request an enketoId from worker if request from endpoint fails",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should request an enketoId from worker if request from endpoint fails",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request an enketoId from worker if request from endpoint succeeds",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo ID for draft should not request an enketoId from worker if request from endpoint succeeds",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should request Enketo IDs",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with success even if request to Enketo fails",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should return with success even if request to Enketo fails",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should wait for Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should wait for Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 1079,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should wait for published Enketo only briefly @slow",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should wait for published Enketo only briefly @slow",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 613,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should request Enketo IDs from worker if request from endpoint fails",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should request Enketo IDs from worker if request from endpoint fails",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not request Enketo IDs from worker if request from endpoint succeeds",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST Enketo IDs for published form should not request Enketo IDs from worker if request from endpoint succeeds",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST with structureChanged warning should reject",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept if ignoreWarnings set",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST with structureChanged warning should accept if ignoreWarnings set",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject with xls",
      "fullTitle": "api: /projects/:id/forms (create, read, update) POST with structureChanged warning should reject with xls",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the form was not created by xlsform",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return notfound if the form was not created by xlsform",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return xls notfound given xlsx file",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return xls notfound given xlsx file",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the xlsx file originally provided",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return the xlsx file originally provided",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return s3 redirect after xlsx file uploaded to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return s3 redirect after xlsx file uploaded to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the xlsx file originally provided for a draft",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return the xlsx file originally provided for a draft",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return s3 redirect after xlsx file for draft uploaded to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should return s3 redirect after xlsx file for draft uploaded to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should continue to offer the xlsx file after a copy-draft",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should continue to offer the xlsx file after a copy-draft",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not continue to offer the xlsx file after a noncopy-draft",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xlsx GET should not continue to offer the xlsx file after a noncopy-draft",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow xls file download only",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xls GET should allow xls file download only",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xml GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return just xml",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xml GET should return just xml",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the correct form given duplicates across projects",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id .xml GET should get the correct form given duplicates across projects",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return basic form details",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return basic form details",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return encrypted form keyId",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return encrypted form keyId",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 219,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return extended form details",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return extended form details",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return xls content type with extended form details",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return xls content type with extended form details",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count of public links with extended metadata",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return count of public links with extended metadata",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should exclude deleted and revoked public links",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should exclude deleted and revoked public links",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 127,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a draftToken",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should not return a draftToken",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not count draft submissions in its count",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should not count draft submissions in its count",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the correct enketoId",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id GET should return the correct enketoId",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /manifest GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return no files if no attachments exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /manifest GET should return no files if no attachments exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include attachments that have been uploaded",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /manifest GET should include attachments that have been uploaded",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /fields GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of fields",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /fields GET should return a list of fields",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should indicate selectMultiple fields",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /fields GET should indicate selectMultiple fields",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a sanitized JSON schema structure",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /fields GET should return a sanitized JSON schema structure",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should reject notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read the form",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should reject if the user cannot read the form",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an empty list if no attachments exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should return an empty list if no attachments exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should return a list of files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should flag exists: true for extant files",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should flag exists: true for extant files",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return upload updatedAt for extended metadata",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should return upload updatedAt for extended metadata",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return deletion exists and updatedAt for extended metadata",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments / GET should return deletion exists and updatedAt for extended metadata",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should reject notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject unless the user may read the form",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should reject unless the user may read the form",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if the file does not exist",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should reject notfound if the file does not exist",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return file contents with appropriate headers",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return file contents with appropriate headers",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 307 if file has been moved to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return 307 if file has been moved to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 304 content not changed if ETag matches",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return 304 content not changed if ETag matches",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return latest content and correct ETag",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return latest content and correct ETag",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return latest content if previous content was uploaded to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should return latest content if previous content was uploaded to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ignore local etag if content was uploaded to s3",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id /attachments /:name GET should ignore local etag if content was uploaded to s3",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can update",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should reject unless the user can update",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update allowed fields",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should update allowed fields",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if state is invalid",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should reject if state is invalid",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not update disallowed fields",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should not update disallowed fields",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /:id PATCH should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return Form if it is in draft and no auth is provided",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should not return Form if it is in draft and no auth is provided",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject without session token",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should reject without session token",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the Form with session token queryparam",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should return the Form with session token queryparam",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow form lookup by enketoId if form has multiple published versions",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should allow form lookup by enketoId if form has multiple published versions",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 116,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the Form by enketoOnceId",
      "fullTitle": "api: /projects/:id/forms (create, read, update) /form-links/:enketoId/form should return the Form by enketoOnceId",
      "file": "/usr/odk/test/integration/api/forms/forms.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can list",
      "fullTitle": "api: /projects/:id/forms (listing forms) GET should reject unless the user can list",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list forms in order",
      "fullTitle": "api: /projects/:id/forms (listing forms) GET should list forms in order",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should provide extended metadata if requested",
      "fullTitle": "api: /projects/:id/forms (listing forms) GET should provide extended metadata if requested",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../forms?deleted=true GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list soft-deleted forms",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../forms?deleted=true GET should list soft-deleted forms",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list soft-deleted forms including extended metadata and submissions",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../forms?deleted=true GET should list soft-deleted forms including extended metadata and submissions",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include deletedAt form field on regular forms",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../forms?deleted=true GET should not include deletedAt form field on regular forms",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if there is no authentication",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should reject if there is no authentication",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return no results if the user cannot read",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return no results if the user cannot read",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return form details as xml",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return form details as xml",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return only return matching form given formID=",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return only return matching form given formID=",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return nothing given a nonmatching formID=",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should return nothing given a nonmatching formID=",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not include closing/closed forms",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should not include closing/closed forms",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not include deleted forms",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should not include deleted forms",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not include forms without published versions",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should not include forms without published versions",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should escape illegal characters in url",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should escape illegal characters in url",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include a manifest node for forms with attachments",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should include a manifest node for forms with attachments",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list the correct form given duplicates across projects",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should list the correct form given duplicates across projects",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should encode html entities in the response",
      "fullTitle": "api: /projects/:id/forms (listing forms) ../formList GET should encode html entities in the response",
      "file": "/usr/odk/test/integration/api/forms/list.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft does not exist",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject after publish with a custom error message",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject after publish with a custom error message",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject on incorrect key with a custom error message",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should reject on incorrect key with a custom error message",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should give an appropriate formList",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should give an appropriate formList",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include a manifest node for forms with attachments",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /formList GET should include a manifest node for forms with attachments",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft does not exist",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should reject if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an empty manifest if the draft has no attachments",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should return an empty manifest if the draft has no attachments",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a manifest with present attachments",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /manifest GET should return a manifest with present attachments",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft does not exist",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should reject if the draft does not exist",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should give the xml",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft .xml GET should give the xml",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /attachments/:name GET should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /attachments/:name GET should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /attachments/:name GET should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the attachment",
      "fullTitle": "api: /test/:key/projects/:id/forms (testing drafts) /test/:key//:id/draft /attachments/:name GET should return the attachment",
      "file": "/usr/odk/test/integration/api/forms/test.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should list all versions",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should list all versions",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not list draft or orphan versions",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should not list draft or orphan versions",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not list any versions if none are published",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should not list any versions if none are published",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not give an enketoId",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should not give an enketoId",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return publishedBy if extended is requested",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should return publishedBy if extended is requested",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return xls content type with extended form details",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should return xls content type with extended form details",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not give an enketoId with extended details",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should not give an enketoId with extended details",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should sort results desc by publishedAt",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions GET should sort results desc by publishedAt",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 119,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the version does not exist",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version GET should reject if the version does not exist",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return basic details",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version GET should return basic details",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should look for empty string given ___",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version GET should look for empty string given ___",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the xlsx file originally provided",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version .xlsx GET should return the xlsx file originally provided",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a list of fields",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version /fields GET should return a list of fields",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a manifest",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version /manifest GET should return a manifest",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a list of attachments",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version /attachments should return a list of attachments",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an attachment",
      "fullTitle": "api: /projects/:id/forms (versions) /:id/versions /:version /attachments should return an attachment",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make additional form schemas for a form with unchanged fields",
      "fullTitle": "api: /projects/:id/forms (versions) intermediate form schema should not make additional form schemas for a form with unchanged fields",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should make additional form schema when fields change",
      "fullTitle": "api: /projects/:id/forms (versions) intermediate form schema should make additional form schema when fields change",
      "file": "/usr/odk/test/integration/api/forms/versions.js",
      "duration": 254,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "odk2geojson_helper_point()",
      "fullTitle": "db: geodata parsing functions odk2geojson_helper_point()",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 137,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "odk2geojson_helper_linestring",
      "fullTitle": "db: geodata parsing functions odk2geojson_helper_linestring",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "odk2geojson_helper_polygon",
      "fullTitle": "db: geodata parsing functions odk2geojson_helper_polygon",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "odk2geojson_ducktyped",
      "fullTitle": "db: geodata parsing functions odk2geojson_ducktyped",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "individual submission geodata is available (default field)",
      "fullTitle": "api: individual submission geodata individual submission geodata is available (default field)",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "when a submission is edited, the geodata of the edit appears under the editee instanceID",
      "fullTitle": "api: individual submission geodata when a submission is edited, the geodata of the edit appears under the editee instanceID",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "when a submission is edited, the geodata of the editee appears as a version of the submission",
      "fullTitle": "api: individual submission geodata when a submission is edited, the geodata of the editee appears as a version of the submission",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 120,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "when a submission is edited, the geodata of the edits appears as a versions of the submission",
      "fullTitle": "api: individual submission geodata when a submission is edited, the geodata of the edits appears as a versions of the submission",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "form upload creates geofield-descriptors",
      "fullTitle": "api: submission-geodata form upload creates geofield-descriptors",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "geo-submission is accessible via GeoJSON API (default field)",
      "fullTitle": "api: submission-geodata geo-submission is accessible via GeoJSON API (default field)",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "submission post creates geoextracts of all types ((multi)point, (multi)linestring, (multi)polygon)), retrievable using fieldpath query parameter",
      "fullTitle": "api: submission-geodata submission post creates geoextracts of all types ((multi)point, (multi)linestring, (multi)polygon)), retrievable using fieldpath query parameter",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "submissionID filter does its job",
      "fullTitle": "api: submission-geodata submissionID filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "fieldPath filter accepts no more than 1 query parameter",
      "fullTitle": "api: submission-geodata fieldPath filter accepts no more than 1 query parameter",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "submitterId filter does its job",
      "fullTitle": "api: submission-geodata submitterId filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "reviewState filter does its job",
      "fullTitle": "api: submission-geodata reviewState filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deleted filter does its job",
      "fullTitle": "api: submission-geodata deleted filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 154,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "resultset limiter does its job",
      "fullTitle": "api: submission-geodata resultset limiter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "timerange filter does its job",
      "fullTitle": "api: submission-geodata timerange filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "individual entity geodata is available",
      "fullTitle": "api: individual entity geodata individual entity geodata is available",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should serve valid (and not invalid) geodata for entities",
      "fullTitle": "api: entities-geodata should serve valid (and not invalid) geodata for entities",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "creatorId filter does its job",
      "fullTitle": "api: entities-geodata creatorId filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "entityUUID filter does its job",
      "fullTitle": "api: entities-geodata entityUUID filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "timerange filter does its job",
      "fullTitle": "api: entities-geodata timerange filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deletion filter does its job",
      "fullTitle": "api: entities-geodata deletion filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "resultset limiter does its job",
      "fullTitle": "api: entities-geodata resultset limiter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 205,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "Attribute label filter does its job",
      "fullTitle": "api: entities-geodata Attribute label filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 236,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "conflict status filter does its job",
      "fullTitle": "api: entities-geodata conflict status filter does its job",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 218,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mix fields and geotypes for default field from form with different versions",
      "fullTitle": "api: entities-geodata should mix fields and geotypes for default field from form with different versions",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should use root instance ID for edited submission",
      "fullTitle": "api: entities-geodata should use root instance ID for edited submission",
      "file": "/usr/odk/test/integration/api/geodata.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return all entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entity data that matches spec",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return entity data that matches spec",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 358,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count of entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return count of entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 372,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count of entities not the entity_defs",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return count of entities not the entity_defs",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 307,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return count of filtered entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return count of filtered entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 312,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only second entity",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return only second entity",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 307,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return filtered entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return filtered entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 405,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow filtering by UUID",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should allow filtering by UUID",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 302,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only searched entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return only searched entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 261,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only searched and filtered entities",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return only searched and filtered entities",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 276,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by conflict status",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should filter by conflict status",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 366,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT filter by label",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should NOT filter by label",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 265,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should NOT filter by name/uuid",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should NOT filter by name/uuid",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw error if filter criterion is invalid",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should throw error if filter criterion is invalid",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 310,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return selected properties only",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return selected properties only",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 138,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return selected user-defined only",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return selected user-defined only",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 275,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return update count and updatedAt",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return update count and updatedAt",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 378,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter by updatedAt",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should filter by updatedAt",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 340,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities in specified order",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return entities in specified order",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 306,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities with order specified in multiple clauses",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return entities with order specified in multiple clauses",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 381,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entities in stable order",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return entities in stable order",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 454,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return sorted null values in the correct order",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return sorted null values in the correct order",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 391,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return sorted null values in the correct order in any clause",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should return sorted null values in the correct order in any clause",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 481,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine orderby with other filters",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should combine orderby with other filters",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 476,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if orderby used with skiptoken",
      "fullTitle": "api: /datasets/:name.svc GET /Entities should reject if orderby used with skiptoken",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 334,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support equality with standard notation",
      "fullTitle": "api: /datasets/:name.svc GET /Entities filtering deleted entities should support equality with standard notation",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 361,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support equality with yoda notation",
      "fullTitle": "api: /datasets/:name.svc GET /Entities filtering deleted entities should support equality with yoda notation",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 379,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support inequality with standard notation",
      "fullTitle": "api: /datasets/:name.svc GET /Entities filtering deleted entities should support inequality with standard notation",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 397,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support inequality with yoda notation",
      "fullTitle": "api: /datasets/:name.svc GET /Entities filtering deleted entities should support inequality with yoda notation",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 385,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return metadata document",
      "fullTitle": "api: /datasets/:name.svc GET service document should return metadata document",
      "file": "/usr/odk/test/integration/api/odata-entities.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the form exists",
      "fullTitle": "api: /forms/:id.svc GET should reject unless the form exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form is published",
      "fullTitle": "api: /forms/:id.svc GET should reject unless the form is published",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should set the appropriate response headers",
      "fullTitle": "api: /forms/:id.svc GET should set the appropriate response headers",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form exists",
      "fullTitle": "api: /forms/:id.svc /$metadata GET should reject unless the form exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form is published",
      "fullTitle": "api: /forms/:id.svc /$metadata GET should reject unless the form is published",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /$metadata GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an EDMX metadata document",
      "fullTitle": "api: /forms/:id.svc /$metadata GET should return an EDMX metadata document",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form exists",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should reject unless the form exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission does not exist",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should reject if the submission does not exist",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the submission has been soft-deleted",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should reject if the submission has been soft-deleted",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return success if \"uuid:\" prefix is encoded",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return success if \"uuid:\" prefix is encoded",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an accurate edit count",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return an accurate edit count",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only parent ID",
      "fullTitle": "api: /forms/:id.svc /Submissions(id)/ GET should return only parent ID",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 128,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the form exists",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject unless the form exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the form is published",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject unless the form is published",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a count even if there are no rows",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return a count even if there are no rows",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 190,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should support $skiptoken even if associated submission is deleted",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should support $skiptoken even if associated submission is deleted",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return no submissions if $skiptoken instanceId does not exist",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return no submissions if $skiptoken instanceId does not exist",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 211,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return duplicate submissions if $skiptoken instanceId is reused",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should not return duplicate submissions if $skiptoken instanceId is reused",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 307,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a matching submission whose id is after that of $skiptoken submission",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return a matching submission whose id is after that of $skiptoken submission",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 224,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only return submissions with submissionDate gt provided timestamp",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should only return submissions with submissionDate gt provided timestamp",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 227,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count correctly while windowing",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should count correctly while windowing",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 254,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count correctly while filtering",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should count correctly while filtering",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 273,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count correctly while filtering and windowing",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should count correctly while filtering and windowing",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 218,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if subtable filtering criterion is non-root",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should reject if subtable filtering criterion is non-root",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 248,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count correctly while filtering and windowing subtable",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should count correctly while filtering and windowing subtable",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 217,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return subtable from deleted submissions",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return subtable from deleted submissions",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 230,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only parent ID",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET should return only parent ID",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 255,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return submissions in specified order",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET orderby should return submissions in specified order",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine orderby and other things like filtering",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET orderby should combine orderby and other things like filtering",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 249,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return null values at the correct end of list with orderby",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET orderby should return null values at the correct end of list with orderby",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 257,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if both orderby and skiptoken are used together",
      "fullTitle": "api: /forms/:id.svc /Submissions.xyz.* GET orderby should reject if both orderby and skiptoken are used together",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 203,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return not found if there is no draft",
      "fullTitle": "api: /forms/:id.svc /draft.svc GET should return not found if there is no draft",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 195,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /draft.svc GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the draft exists",
      "fullTitle": "api: /forms/:id.svc /draft.svc /$metadata GET should reject unless the draft exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /draft.svc /$metadata GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an EDMX metadata document",
      "fullTitle": "api: /forms/:id.svc /draft.svc /$metadata GET should return an EDMX metadata document",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the appropriate document for the draft",
      "fullTitle": "api: /forms/:id.svc /draft.svc /$metadata GET should return the appropriate document for the draft",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the draft exists",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions('xyz') should reject unless the draft exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions('xyz') should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return results from the published form",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions('xyz') should not return results from the published form",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject unless the draft exists",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions.xyz should reject unless the draft exists",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /forms/:id.svc /draft.svc /Submissions.xyz should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/odata.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should parse and save info from submission creating an entity",
      "fullTitle": "Offline Entities parsing branchId and trunkVersion from submission xml should parse and save info from submission creating an entity",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 725,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should parse and save branch info from sub updating an entity",
      "fullTitle": "Offline Entities parsing branchId and trunkVersion from submission xml should parse and save branch info from sub updating an entity",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 378,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ignore empty string trunkVersion and branchId values in update scenario",
      "fullTitle": "Offline Entities parsing branchId and trunkVersion from submission xml should ignore empty string trunkVersion and branchId values in update scenario",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 334,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log processing error if trunkVersion is set but branchId is not",
      "fullTitle": "Offline Entities parsing branchId and trunkVersion from submission xml should log processing error if trunkVersion is set but branchId is not",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 487,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should let multiple updates in the same branch get applied in order",
      "fullTitle": "Offline Entities offline branches submitted in order should let multiple updates in the same branch get applied in order",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply update branch in order after server version has advanced",
      "fullTitle": "Offline Entities offline branches submitted in order should apply update branch in order after server version has advanced",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 317,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle updating a branch in order, but with an interruption",
      "fullTitle": "Offline Entities offline branches submitted in order should handle updating a branch in order, but with an interruption",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 279,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle an offline branch that starts with a create",
      "fullTitle": "Offline Entities offline branches submitted in order should handle an offline branch that starts with a create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle offline create+update+update with interleaved online updates",
      "fullTitle": "Offline Entities offline branches submitted in order should handle offline create+update+update with interleaved online updates",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 276,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should quietly process submission without entity work if trunk and base versions are not good",
      "fullTitle": "Offline Entities out of order runs should quietly process submission without entity work if trunk and base versions are not good",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 139,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not apply out of order update from a run after starting a run",
      "fullTitle": "Offline Entities out of order runs should not apply out of order update from a run after starting a run",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 210,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not apply later trunkVersion (past existing server version)",
      "fullTitle": "Offline Entities out of order runs should not apply later trunkVersion (past existing server version)",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply later run received earlier",
      "fullTitle": "Offline Entities out of order runs should apply later run received earlier",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 209,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle offline update that comes before a create",
      "fullTitle": "Offline Entities out of order runs should handle offline update that comes before a create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 172,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle offline create/update that comes in backwards",
      "fullTitle": "Offline Entities out of order runs should handle offline create/update that comes in backwards",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an event when holding submission in backlog (force update)",
      "fullTitle": "Offline Entities out of order runs should log an event when holding submission in backlog (force update)",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an event when holding submission in backlog (force update-as-create, then create-as-update)",
      "fullTitle": "Offline Entities out of order runs should log an event when holding submission in backlog (force update-as-create, then create-as-update)",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 196,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should include submission.backlog.reprocess event in audit log of held submission",
      "fullTitle": "Offline Entities out of order runs should include submission.backlog.reprocess event in audit log of held submission",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 162,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not over-process a submission that is being held because it is later in a run",
      "fullTitle": "Offline Entities reprocessing submissions when toggling approvalRequired dataset flag should not over-process a submission that is being held because it is later in a run",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 280,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should wait for approval of create submission in offline branch",
      "fullTitle": "Offline Entities reprocessing submissions when toggling approvalRequired dataset flag should wait for approval of create submission in offline branch",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 260,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process update submission in backlog if approvalRequired is true",
      "fullTitle": "Offline Entities reprocessing submissions when toggling approvalRequired dataset flag should not process update submission in backlog if approvalRequired is true",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 171,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply an entity update when the previous update is missing",
      "fullTitle": "Offline Entities force-processing held submissions should apply an entity update when the previous update is missing",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 171,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply two updates when first upate is missing",
      "fullTitle": "Offline Entities force-processing held submissions should apply two updates when first upate is missing",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply an entity update as a create",
      "fullTitle": "Offline Entities force-processing held submissions should apply an entity update as a create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 199,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply an entity update as a create followed by another update",
      "fullTitle": "Offline Entities force-processing held submissions should apply an entity update as a create followed by another update",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should apply an entity update as a create, and then properly handle the delayed create as an update",
      "fullTitle": "Offline Entities force-processing held submissions should apply an entity update as a create, and then properly handle the delayed create as an update",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should verify that the create-as-update submission was parsed as a create even when applied as an update",
      "fullTitle": "Offline Entities force-processing held submissions should verify that the create-as-update submission was parsed as a create even when applied as an update",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process a submission from over 7 days ago",
      "fullTitle": "Offline Entities force-processing held submissions only force-process submissions held in backlog for a certain amount of time should process a submission from over 7 days ago",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 153,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process a submission in a soft-deleted form",
      "fullTitle": "Offline Entities force-processing held submissions force-processing deleted submissions and entities should not process a submission in a soft-deleted form",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process a submission that has been soft-deleted",
      "fullTitle": "Offline Entities force-processing held submissions force-processing deleted submissions and entities should not process a submission that has been soft-deleted",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process a submission for an entity that has been soft-deleted",
      "fullTitle": "Offline Entities force-processing held submissions force-processing deleted submissions and entities should not process a submission for an entity that has been soft-deleted",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark an update that is not contiguous with its trunk version as a soft conflict",
      "fullTitle": "Offline Entities conflict cases should mark an update that is not contiguous with its trunk version as a soft conflict",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 201,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark an update that is not contiguous (due to force processing) as a soft conflict",
      "fullTitle": "Offline Entities conflict cases should mark an update that is not contiguous (due to force processing) as a soft conflict",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 222,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark an update that is not contiguous with its trunk version as a soft conflict on entity despite earlier conflict resolution",
      "fullTitle": "Offline Entities conflict cases should mark an update that is not contiguous with its trunk version as a soft conflict on entity despite earlier conflict resolution",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should mark an update that is not contiguous (from an offline create branch) as a soft conflict on entity despite earlier conflict resolution",
      "fullTitle": "Offline Entities conflict cases should mark an update that is not contiguous (from an offline create branch) as a soft conflict on entity despite earlier conflict resolution",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 250,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should check that interrupting version logic is doesnt flag non-conflicts as conflicts",
      "fullTitle": "Offline Entities conflict cases should check that interrupting version logic is doesnt flag non-conflicts as conflicts",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show proper conflict info on create applied as update",
      "fullTitle": "Offline Entities conflict cases should show proper conflict info on create applied as update",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show proper conflict info on create applied as update that is only a soft conflict",
      "fullTitle": "Offline Entities conflict cases should show proper conflict info on create applied as update that is only a soft conflict",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 208,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should concurrently process an offline create + update @slow",
      "fullTitle": "Offline Entities locking an entity while processing a related submission should concurrently process an offline create + update @slow",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 3035,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle two updates followed by delayed create",
      "fullTitle": "Offline Entities miscellaneous should handle two updates followed by delayed create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle update from sub and update from API followed by delayed create",
      "fullTitle": "Offline Entities miscellaneous should handle update from sub and update from API followed by delayed create",
      "file": "/usr/odk/test/integration/api/offline-entities.js",
      "duration": 215,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not exist",
      "fullTitle": "api: /oidc/... GET /oidc/login should not exist",
      "file": "/usr/odk/test/integration/api/oidc.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not exist",
      "fullTitle": "api: /oidc/... GET /oidc/callback should not exist",
      "file": "/usr/odk/test/integration/api/oidc.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 if not logged in",
      "fullTitle": "api: /projects GET should return 401 if not logged in",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return an empty array if the user has access to no projects",
      "fullTitle": "api: /projects GET should return an empty array if the user has access to no projects",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all projects for an administrator",
      "fullTitle": "api: /projects GET should return all projects for an administrator",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return only granted projects for a non-administrator",
      "fullTitle": "api: /projects GET should return only granted projects for a non-administrator",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should only return each project once even if multiply assigned",
      "fullTitle": "api: /projects GET should only return each project once even if multiply assigned",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the correct project verbs when multiply assigned",
      "fullTitle": "api: /projects GET should return the correct project verbs when multiply assigned",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should order projects appropriately",
      "fullTitle": "api: /projects GET should order projects appropriately",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can create",
      "fullTitle": "api: /projects POST should reject unless the user can create",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless a name is provided",
      "fullTitle": "api: /projects POST should reject unless a name is provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create the given project",
      "fullTitle": "api: /projects POST should create the given project",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create the given project with a description",
      "fullTitle": "api: /projects POST should create the given project with a description",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create an audit log entry",
      "fullTitle": "api: /projects POST should create an audit log entry",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "api: /projects /:id GET should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if id is non-numeric",
      "fullTitle": "api: /projects /:id GET should reject if id is non-numeric",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if id is too big",
      "fullTitle": "api: /projects /:id GET should reject if id is too big",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if id is too small",
      "fullTitle": "api: /projects /:id GET should reject if id is too small",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can read",
      "fullTitle": "api: /projects /:id GET should reject unless the user can read",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the default project",
      "fullTitle": "api: /projects /:id GET should return the default project",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return verb information unless extended meta data is requested",
      "fullTitle": "api: /projects /:id GET should not return verb information unless extended meta data is requested",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return verb information with extended metadata (alice)",
      "fullTitle": "api: /projects /:id GET should return verb information with extended metadata (alice)",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return verb information with extended metadata (bob)",
      "fullTitle": "api: /projects /:id GET should return verb information with extended metadata (bob)",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return verb information with extended metadata (data collector only)",
      "fullTitle": "api: /projects /:id GET should return verb information with extended metadata (data collector only)",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return verb information with extended metadata (chelsea with two roles)",
      "fullTitle": "api: /projects /:id GET should return verb information with extended metadata (chelsea with two roles)",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "api: /projects /:id PATCH should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can update",
      "fullTitle": "api: /projects /:id PATCH should reject unless the user can update",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a sensible error given a nonboolean value",
      "fullTitle": "api: /projects /:id PATCH should return a sensible error given a nonboolean value",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update the project details and return the new project data",
      "fullTitle": "api: /projects /:id PATCH should update the project details and return the new project data",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update the project description",
      "fullTitle": "api: /projects /:id PATCH should update the project description",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects /:id PATCH should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "api: /projects /:id DELETE should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can delete",
      "fullTitle": "api: /projects /:id DELETE should reject unless the user can delete",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot update the project",
      "fullTitle": "api: /projects /:id/key POST should reject if the user cannot update the project",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if no passphrase is provided",
      "fullTitle": "api: /projects /:id/key POST should reject if no passphrase is provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if passphrase is too short",
      "fullTitle": "api: /projects /:id/key POST should reject if passphrase is too short",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if managed encryption is already active",
      "fullTitle": "api: /projects /:id/key POST should reject if managed encryption is already active",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a keyId if managed encryption is active",
      "fullTitle": "api: /projects /:id/key POST should return a keyId if managed encryption is active",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should modify extant forms",
      "fullTitle": "api: /projects /:id/key POST should modify extant forms",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 191,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not modify already-encrypted forms",
      "fullTitle": "api: /projects /:id/key POST should not modify already-encrypted forms",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 222,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should modify extant drafts",
      "fullTitle": "api: /projects /:id/key POST should modify extant drafts",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 202,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reuse the draft token and enketoId of an existing draft",
      "fullTitle": "api: /projects /:id/key POST should reuse the draft token and enketoId of an existing draft",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 251,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should modify only the draft if there is no published version",
      "fullTitle": "api: /projects /:id/key POST should modify only the draft if there is no published version",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 228,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the unneeded form defs being replaced when encrypted",
      "fullTitle": "api: /projects /:id/key POST should purge the unneeded form defs being replaced when encrypted",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 194,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should automatically enable subsequently created forms for encryption",
      "fullTitle": "api: /projects /:id/key POST should automatically enable subsequently created forms for encryption",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 189,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete draft submissions on project encryption",
      "fullTitle": "api: /projects /:id/key POST should delete draft submissions on project encryption",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 310,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects /:id/key POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not throw form warnings",
      "fullTitle": "api: /projects /:id/key POST should not throw form warnings",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 252,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the project does not exist",
      "fullTitle": "api: /projects /:id PUT should return notfound if the project does not exist",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject unless the user can update",
      "fullTitle": "api: /projects /:id PUT should reject unless the user can update",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if a required project field is not provided",
      "fullTitle": "api: /projects /:id PUT should fail if a required project field is not provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update project information",
      "fullTitle": "api: /projects /:id PUT should update project information",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated data with the PUT",
      "fullTitle": "api: /projects /:id PUT should return updated data with the PUT",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects /:id PUT should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if the wrong number of forms is provided",
      "fullTitle": "api: /projects /:id PUT should fail if the wrong number of forms is provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if an unknown form is provided",
      "fullTitle": "api: /projects /:id PUT should fail if an unknown form is provided",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if the same form is provided twice",
      "fullTitle": "api: /projects /:id PUT should fail if the same form is provided twice",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if an invalid form state is given",
      "fullTitle": "api: /projects /:id PUT should fail if an invalid form state is given",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update form details",
      "fullTitle": "api: /projects /:id PUT should update form details",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow changing non-writable form details",
      "fullTitle": "api: /projects /:id PUT should not allow changing non-writable form details",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects /:id PUT should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the actorId is not given",
      "fullTitle": "api: /projects /:id PUT should reject if the actorId is not given",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the actorId is not recognized",
      "fullTitle": "api: /projects /:id PUT should reject if the actorId is not recognized",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not delete public link assignments",
      "fullTitle": "api: /projects /:id PUT should not delete public link assignments",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the correct projects with the correct verbs",
      "fullTitle": "api: /projects?forms=true should return the correct projects with the correct verbs",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return projects with datasets",
      "fullTitle": "api: /projects?forms=true GET should return projects with datasets",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return projects with forms and datasets",
      "fullTitle": "api: /projects?forms=true GET should return projects with forms and datasets",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return projects/forms not assigned to user",
      "fullTitle": "api: /projects?forms=true GET should not return projects/forms not assigned to user",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return projects/datasets not assigned to user",
      "fullTitle": "api: /projects?forms=true GET should not return projects/datasets not assigned to user",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all forms including drafts to managers and above",
      "fullTitle": "api: /projects?forms=true GET should return all forms including drafts to managers and above",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return draft forms to data collectors",
      "fullTitle": "api: /projects?forms=true GET should not return draft forms to data collectors",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 109,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return datasets to data collectors",
      "fullTitle": "api: /projects?forms=true GET should not return datasets to data collectors",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return multiple projects with forms",
      "fullTitle": "api: /projects?forms=true GET should return multiple projects with forms",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return verbs for multiple roles",
      "fullTitle": "api: /projects?forms=true GET should return verbs for multiple roles",
      "file": "/usr/odk/test/integration/api/projects.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 unless the user is allowed to create",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should return 403 unless the user is allowed to create",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the created key",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should return the created key",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the once attribute if given",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should return the once attribute if given",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow project managers to create",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should allow project managers to create",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /projects/:id/forms/:id/public-links POST should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 unless the user is allowed to list",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should return 403 unless the user is allowed to list",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of links in order with merged data",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should return a list of links in order with merged data",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only return tokens from the requested form",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should only return tokens from the requested form",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should leave tokens out if the session is ended",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should leave tokens out if the session is ended",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should sort revoked links to the bottom",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should sort revoked links to the bottom",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should join through additional data if extended metadata is requested",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should join through additional data if extended metadata is requested",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should sort revoked field keys to the bottom in extended metadata",
      "fullTitle": "api: /projects/:id/forms/:id/public-links GET should sort revoked field keys to the bottom in extended metadata",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 unless the user can delete",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should return 403 unless the user can delete",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the token",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should delete the token",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow project managers to delete",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should allow project managers to delete",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should only delete the token if it is part of the form",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should only delete the token if it is part of the form",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the token deletion in the audit log",
      "fullTitle": "api: /projects/:id/forms/:id/public-links /:id DELETE should log the token deletion in the audit log",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 403 if an invalid key is provided",
      "fullTitle": "api: /key/:key should return 403 if an invalid key is provided",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should allow cookie+public-link",
      "fullTitle": "api: /key/:key should allow cookie+public-link",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow creating submissions on other forms",
      "fullTitle": "api: /key/:key should not allow creating submissions on other forms",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able access closed forms and its sub-resources",
      "fullTitle": "api: /key/:key should not be able access closed forms and its sub-resources",
      "file": "/usr/odk/test/integration/api/public-links.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return all roles",
      "fullTitle": "api: /roles GET should return all roles",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should notfound a role by system id",
      "fullTitle": "api: /roles /:id GET should notfound a role by system id",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should retrieve a role by system id",
      "fullTitle": "api: /roles /:id GET should retrieve a role by system id",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should notfound a role by numeric id",
      "fullTitle": "api: /roles /:id GET should notfound a role by numeric id",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should retrive a role by numeric id",
      "fullTitle": "api: /roles /:id GET should retrive a role by numeric id",
      "file": "/usr/odk/test/integration/api/roles.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a new session if the information is valid",
      "fullTitle": "api: /sessions POST should return a new session if the information is valid",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a new session even if invalid auth is passed in the header - invalid session cookie",
      "fullTitle": "api: /sessions POST should return a new session even if invalid auth is passed in the header - invalid session cookie",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a new session even if invalid auth is passed in the header - invalid bearer token",
      "fullTitle": "api: /sessions POST should return a new session even if invalid auth is passed in the header - invalid bearer token",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a new session even if invalid auth is passed in the header - invalid basic auth",
      "fullTitle": "api: /sessions POST should return a new session even if invalid auth is passed in the header - invalid basic auth",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a new session even if valid cookie is passed",
      "fullTitle": "api: /sessions POST should return a new session even if valid cookie is passed",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should treat email addresses case insensitively",
      "fullTitle": "api: /sessions POST should treat email addresses case insensitively",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should provide a csrf token when the session returns",
      "fullTitle": "api: /sessions POST should provide a csrf token when the session returns",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid password (undefined)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid password (undefined)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid password (null)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid password (null)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid password (empty string)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid password (empty string)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid password (wrong password)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid password (wrong password)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid password (number)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid password (number)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid password (array)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid password (array)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid password (object)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid password (object)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (undefined)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (undefined)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (null)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (null)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (empty string)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (empty string)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 401 for invalid email (invalid email)",
      "fullTitle": "api: /sessions POST should return a 401 for invalid email (invalid email)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (number)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (number)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (array)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (array)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a 400 for invalid email (object)",
      "fullTitle": "api: /sessions POST should return a 400 for invalid email (object)",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 401 if the email is wrong",
      "fullTitle": "api: /sessions POST should return a 401 if the email is wrong",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 400 if insufficient information is provided",
      "fullTitle": "api: /sessions POST should return a 400 if insufficient information is provided",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should treat a password repeated once as the singular version of the same",
      "fullTitle": "api: /sessions POST weird bcrypt implementation details should treat a password repeated once as the singular version of the same",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should treat a password repeated twice as the singular version of the same",
      "fullTitle": "api: /sessions POST weird bcrypt implementation details should treat a password repeated twice as the singular version of the same",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should treat a password repeated until truncation as the singular version of the same",
      "fullTitle": "api: /sessions POST weird bcrypt implementation details should treat a password repeated until truncation as the singular version of the same",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if no valid session exists",
      "fullTitle": "api: /sessions /restore GET should fail if no valid session exists",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 403 if the token does not exist",
      "fullTitle": "api: /sessions /:token DELETE should return a 403 if the token does not exist",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 403 if the user cannot delete the given token",
      "fullTitle": "api: /sessions /:token DELETE should return a 403 if the user cannot delete the given token",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should invalidate the token if successful",
      "fullTitle": "api: /sessions /:token DELETE should invalidate the token if successful",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow non-admins to delete their own sessions",
      "fullTitle": "api: /sessions /:token DELETE should allow non-admins to delete their own sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow managers to delete project public link sessions",
      "fullTitle": "api: /sessions /:token DELETE should allow managers to delete project public link sessions",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not clear cookies if using some other session",
      "fullTitle": "api: /sessions /:token DELETE should not clear cookies if using some other session",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 212,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log for public links",
      "fullTitle": "api: /sessions /:token DELETE should log the action in the audit log for public links",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a 401 if no token was specified",
      "fullTitle": "api: /sessions /current DELETE should return a 401 if no token was specified",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 404 if basic auth provided",
      "fullTitle": "api: /sessions /current DELETE should return a 404 if basic auth provided",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should invalidate the token if successful",
      "fullTitle": "api: /sessions /current DELETE should invalidate the token if successful",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the CSRF token is missing",
      "fullTitle": "api: /sessions cookie CSRF auth should reject if the CSRF token is missing",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the CSRF token is wrong",
      "fullTitle": "api: /sessions cookie CSRF auth should reject if the CSRF token is wrong",
      "file": "/usr/odk/test/integration/api/sessions.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a 204 with no content",
      "fullTitle": "api: /submission HEAD should return a 204 with no content",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail if not given X-OpenRosa-Version header",
      "fullTitle": "api: /submission HEAD should fail if not given X-OpenRosa-Version header",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fail if no auth is provided",
      "fullTitle": "api: /submission HEAD should fail if no auth is provided",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail on authentication given broken credentials",
      "fullTitle": "api: /submission HEAD should fail on authentication given broken credentials",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if no xml file is given",
      "fullTitle": "api: /submission POST should reject if no xml file is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the xml is not valid",
      "fullTitle": "api: /submission POST should reject if the xml is not valid",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if \"Multipart: Boundary not found\"",
      "fullTitle": "api: /submission POST should reject if \"Multipart: Boundary not found\"",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if \"Unexpected end of form\"",
      "fullTitle": "api: /submission POST should reject if \"Unexpected end of form\"",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if \"Malformed part header\"",
      "fullTitle": "api: /submission POST should reject if \"Malformed part header\"",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /submission POST should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot submit",
      "fullTitle": "api: /submission POST should reject if the user cannot submit",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if the form is not taking submissions",
      "fullTitle": "api: /submission POST should reject if the form is not taking submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission version does not exist",
      "fullTitle": "api: /submission POST should reject if the submission version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should save the submission to the appropriate form",
      "fullTitle": "api: /submission POST should save the submission to the appropriate form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save the submission to the appropriate form with device id as null when query string is empty",
      "fullTitle": "api: /submission POST should save the submission to the appropriate form with device id as null when query string is empty",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save given attachments",
      "fullTitle": "api: /submission POST should save given attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save attachments with unicode / non-english char",
      "fullTitle": "api: /submission POST should save attachments with unicode / non-english char",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not fail given identical attachments",
      "fullTitle": "api: /submission POST should not fail given identical attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not fail given identical attachment references",
      "fullTitle": "api: /submission POST should not fail given identical attachment references",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create audit log entries for saved attachments",
      "fullTitle": "api: /submission POST should create audit log entries for saved attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should ignore unknown attachments",
      "fullTitle": "api: /submission POST should ignore unknown attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should save client audit log attachments",
      "fullTitle": "api: /submission POST should save client audit log attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create empty client audit log slots",
      "fullTitle": "api: /submission POST should create empty client audit log slots",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should detect which attachments are expected",
      "fullTitle": "api: /submission POST should detect which attachments are expected",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the xml changes between posts",
      "fullTitle": "api: /submission POST should reject if the xml changes between posts",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should take in additional attachments via additional POSTs",
      "fullTitle": "api: /submission POST should take in additional attachments via additional POSTs",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should successfully save attachment binary data",
      "fullTitle": "api: /submission POST should successfully save attachment binary data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should successfully save additionally POSTed attachment binary data",
      "fullTitle": "api: /submission POST should successfully save additionally POSTed attachment binary data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should successfully save additionally POSTed attachment binary data with s3 enabled",
      "fullTitle": "api: /submission POST should successfully save additionally POSTed attachment binary data with s3 enabled",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 151,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept encrypted submissions, with attachments",
      "fullTitle": "api: /submission POST should accept encrypted submissions, with attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject resubmission of soft-deleted submission",
      "fullTitle": "api: /submission POST should reject resubmission of soft-deleted submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the deprecatedId is not known",
      "fullTitle": "api: /submission POST versioning should reject if the deprecatedId is not known",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not reject for an instanceID conflict on another form",
      "fullTitle": "api: /submission POST versioning should not reject for an instanceID conflict on another form",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should copy forward missing attachments",
      "fullTitle": "api: /submission POST versioning should copy forward missing attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should replace extant attachments",
      "fullTitle": "api: /submission POST versioning should replace extant attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upsert attachments",
      "fullTitle": "api: /submission POST versioning should upsert attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if there is no draft",
      "fullTitle": "api: /submission [draft] POST should reject notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should save client audit log attachments",
      "fullTitle": "api: /submission [draft] POST should save client audit log attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if there is no draft",
      "fullTitle": "api: /submission [draft] /test POST should reject notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /submission [draft] /test POST should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /submission [draft] /test POST should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /submission [draft] /test POST should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions POST should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot submit",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the user cannot submit",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form is not taking submissions",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the form is not taking submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission body is not valid xml",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the submission body is not valid xml",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form ids do not match",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the form ids do not match",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the form is not taking submissions",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the form is not taking submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission version does not exist",
      "fullTitle": "api: /forms/:id/submissions POST should reject if the submission version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should create expected attachments",
      "fullTitle": "api: /forms/:id/submissions POST should create expected attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept encrypted submissions, with attachments",
      "fullTitle": "api: /forms/:id/submissions POST should accept encrypted submissions, with attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /forms/:id/submissions [draft] POST should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] POST should accept submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept even if the version in the submission is wrong",
      "fullTitle": "api: /forms/:id/submissions [draft] POST should accept even if the version in the submission is wrong",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should copy forward matching attachments",
      "fullTitle": "api: /forms/:id/submissions /:instanceId PUT should copy forward matching attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not let a draft submission be deleted",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should not let a draft submission be deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete and restore non-draft submission even when draft submission with same instanceId exists",
      "fullTitle": "api: /forms/:id/submissions /:instanceId DELETE should delete and restore non-draft submission even when draft submission with same instanceId exists",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the submission has not been deleted",
      "fullTitle": "api: /forms/:id/submissions /:instanceId RESTORE should reject if the submission has not been deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId RESTORE should reject if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot restore",
      "fullTitle": "api: /forms/:id/submissions /:instanceId RESTORE should reject if the user cannot restore",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should soft-delete the submission and then restore it",
      "fullTitle": "api: /forms/:id/submissions /:instanceId RESTORE should soft-delete the submission and then restore it",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a zipfile with the relevant headers",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a zipfile with the relevant headers",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the csv header even if there is no data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return the csv header even if there is no data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 226,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 288,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should include all repeat rows @slow",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should include all repeat rows @slow",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 741,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include data from other forms",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should not include data from other forms",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 231,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return data from deleted submissions in csv export",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should not return data from deleted submissions in csv export",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 293,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a submitter-filtered zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a submitter-filtered zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 237,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a review state-filtered zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a review state-filtered zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 294,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a submissionDate-filtered zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a submissionDate-filtered zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 245,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return an updatedAt-filtered zipfile with the relevant data",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return an updatedAt-filtered zipfile with the relevant data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 244,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a zipfile with the relevant attachments",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a zipfile with the relevant attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 260,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a zipfile with the relevant attachments if s3 is enabled",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return a zipfile with the relevant attachments if s3 is enabled",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 272,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle s3 errors when trying to construct zipfile",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should handle s3 errors when trying to construct zipfile",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 309,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should filter attachments by the query",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should filter attachments by the query",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 341,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list the original submitted form version per submission",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should list the original submitted form version per submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 290,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiple values if ?splitSelectMultiples=true",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should split select multiple values if ?splitSelectMultiples=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should omit multiples it does not know about",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should omit multiples it does not know about",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 246,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiples and filter given both options",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should split select multiples and filter given both options",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 320,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should export deleted fields and values if ?deletedFields=true",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should export deleted fields and values if ?deletedFields=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 262,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should skip attachments if ?attachments=false is given",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should skip attachments if ?attachments=false is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 250,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should give the appropriate filename if ?attachments=false is given",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should give the appropriate filename if ?attachments=false is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 238,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should omit group paths if ?groupPaths=false is given",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should omit group paths if ?groupPaths=false is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 203,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select AND omit group paths given both options",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should split select AND omit group paths given both options",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 311,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should properly count present attachments",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should properly count present attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 239,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return worker-processed consolidated client audit log attachments",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return worker-processed consolidated client audit log attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 356,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return adhoc-processed consolidated client audit log attachments",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return adhoc-processed consolidated client audit log attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 336,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return adhoc-processed consolidated client audit log attachments if uploaded to s3",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return adhoc-processed consolidated client audit log attachments if uploaded to s3",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 338,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should gracefully handle error if client audit s3 download fails",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should gracefully handle error if client audit s3 download fails",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 277,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return additional user and change-reason columns of client audit log",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return additional user and change-reason columns of client audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 342,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return consolidated client audit log filtered by user",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return consolidated client audit log filtered by user",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 290,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return consolidated client audit log filtered by review state",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return consolidated client audit log filtered by review state",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 266,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the latest attached audit log after openrosa replace",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return the latest attached audit log after openrosa replace",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 278,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return the latest attached audit log after REST replace",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should return the latest attached audit log after REST replace",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 313,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should tolerate differences in line lengths",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should tolerate differences in line lengths",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 290,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should tolerate quote inside unquoted field of client audit log",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should tolerate quote inside unquoted field of client audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 294,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return original instanceId and latest attached audit log when instanceId deprecated with new audit log",
      "fullTitle": "api: /forms/:id/submissions .csv.zip GET versioning should return original instanceId and latest attached audit log when instanceId deprecated with new audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 280,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions .csv GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot get submissions",
      "fullTitle": "api: /forms/:id/submissions .csv GET should reject if the user cannot get submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a csv with the relevant headers",
      "fullTitle": "api: /forms/:id/submissions .csv GET should return a csv with the relevant headers",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the root csv table",
      "fullTitle": "api: /forms/:id/submissions .csv GET should return the root csv table",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 257,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return only the root csv table given repeats",
      "fullTitle": "api: /forms/:id/submissions .csv GET should return only the root csv table given repeats",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 228,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiple values if ?splitSelectMultiples=true",
      "fullTitle": "api: /forms/:id/submissions .csv GET should split select multiple values if ?splitSelectMultiples=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 274,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should omit group paths if ?groupPaths=false is given",
      "fullTitle": "api: /forms/:id/submissions .csv GET should omit group paths if ?groupPaths=false is given",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 178,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /forms/:id/submissions .csv GET should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 208,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should export deleted fields and values if ?deletedFields=true",
      "fullTitle": "api: /forms/:id/submissions .csv GET different versions of form schema should export deleted fields and values if ?deletedFields=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 343,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiple values if ?splitSelectMultiples=true",
      "fullTitle": "api: /forms/:id/submissions .csv GET different versions of form schema should split select multiple values if ?splitSelectMultiples=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 341,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if there is no draft",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should return notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 159,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return draft submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should return draft submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 116,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include draft submissions in nondraft csvzip",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not include draft submissions in nondraft csvzip",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 248,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry draft submissions forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not carry draft submissions forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 333,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over drafts when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not carry over drafts when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 243,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface drafts when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not resurface drafts when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 288,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log the action in the audit log",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should not log the action in the audit log",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 235,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should split select multiple values submitted over /test/ if ?splitSelectMultiples=true",
      "fullTitle": "api: /forms/:id/submissions [draft] .csv.zip should split select multiple values submitted over /test/ if ?splitSelectMultiples=true",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 288,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 166,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should happily return given no submissions",
      "fullTitle": "api: /forms/:id/submissions GET should happily return given no submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of submissions",
      "fullTitle": "api: /forms/:id/submissions GET should return a list of submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of deleted submissions",
      "fullTitle": "api: /forms/:id/submissions GET should return a list of deleted submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list with extended metadata if requested",
      "fullTitle": "api: /forms/:id/submissions GET should list with extended metadata if requested",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the draft does not exist",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should return notfound if the draft does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a list of submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should return a list of submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include draft submissions non-draft",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should not include draft submissions non-draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry draft submissions forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should not carry draft submissions forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over drafts when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should not carry over drafts when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface drafts when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] GET should not resurface drafts when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /keys GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an empty array if encryption is not being used",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return an empty array if encryption is not being used",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a self-managed key if it is used",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return a self-managed key if it is used",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return multiple self-managed keys if they are used",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return multiple self-managed keys if they are used",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return unused keys",
      "fullTitle": "api: /forms/:id/submissions /keys GET should not return unused keys",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return managed keys, with hint",
      "fullTitle": "api: /forms/:id/submissions /keys GET should return managed keys, with hint",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 218,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return a key more than once",
      "fullTitle": "api: /forms/:id/submissions /keys GET should not return a key more than once",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /submitters GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /submitters GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return an empty array if there are no submissions",
      "fullTitle": "api: /forms/:id/submissions /submitters GET should return an empty array if there are no submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all submitters once",
      "fullTitle": "api: /forms/:id/submissions /submitters GET should return all submitters once",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the draft does not exist",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should return notfound if the draft does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return draft-used keys",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should return draft-used keys",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not include draft keys nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should not include draft keys nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 275,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry draft keys forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should not carry draft keys forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over draft keys when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should not carry over draft keys when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface draft keys when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] /keys GET should not resurface draft keys when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the instance does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should return notfound if the instance does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read audits",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should reject if the user cannot read audits",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return all audit logs on the submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should return all audit logs on the submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not expand actor when not extended",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should not expand actor when not extended",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should expand actor on extended",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET should expand actor on extended",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return full entity in details of an event about an entity",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should return full entity in details of an event about an entity",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return basic entity details when extended metadata not set",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should not return basic entity details when extended metadata not set",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return updated entity in currentVersion",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should return updated entity in currentVersion",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entity uuid and dataset only when entity is soft-deleted",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should return entity uuid and dataset only when entity is soft-deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return entity uuid and dataset when entity is (manually) purged",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/audits GET submission audits about entity events should return entity uuid and dataset when entity is (manually) purged",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions /:instanceId.xml GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should redirect to the version if the referenced instanceID is out of date",
      "fullTitle": "api: /forms/:id/submissions /:instanceId.xml GET should redirect to the version if the referenced instanceID is out of date",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the version does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId.xml GET should return notfound if the version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId.xml GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId.xml GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return draft submissions",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should return draft submissions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return draft submissions nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should not return draft submissions nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not carry draft submissions forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should not carry draft submissions forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over draft submissions when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should not carry over draft submissions when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface draft submissions when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId.xml GET should not resurface draft submissions when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return with extended metadata if requested",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should return with extended metadata if requested",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not mince object properties",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should not mince object properties",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should redirect to the version if the referenced instanceID is out of date",
      "fullTitle": "api: /forms/:id/submissions /:instanceId GET should redirect to the version if the referenced instanceID is out of date",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the root does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should return notfound if the root does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the version does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should return notfound if the version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return extended submission details",
      "fullTitle": "api: /forms/:id/submissions [version] /:instanceId GET should return extended submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return draft submissions nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should not return draft submissions nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not carry draft submissions forward to the published version upon publish",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should not carry draft submissions forward to the published version upon publish",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not carry over draft submissions when a draft is replaced",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should not carry over draft submissions when a draft is replaced",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not resurface draft submissions when a draft is recreated",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId GET should not resurface draft submissions when a draft is recreated",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 132,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should happily return given no attachments",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should happily return given no attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should redirect to the version if the referenced instanceID is out of date",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments GET should redirect to the version if the referenced instanceID is out of date",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the version does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments GET should return notfound if the version does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return attachment information",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments GET should return attachment information",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the root does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/diffs GET should return notfound if the root does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/diffs GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return diffs between different submission versions",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/diffs GET should return diffs between different submission versions",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return draft attachments",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments GET should return draft attachments",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return draft attachments nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments GET should not return draft attachments nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the attachment does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should return notfound if the attachment does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should redirect to the version if the referenced instanceID is out of date",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name GET should redirect to the version if the referenced instanceID is out of date",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the attachment does not exist",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments/:attachment GET should return notfound if the attachment does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments/:attachment GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return attachment data",
      "fullTitle": "api: /forms/:id/submissions [version] /:rootId/versions/instanceId/attachments/:attachment GET should return attachment data",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a draft attachment",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments/:name GET should return a draft attachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return a draft attachment nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments/:name GET should not return a draft attachment nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot update a submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should reject if the user cannot update a submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "Data collector should be able to attach the given file if Submission is created by the them and attachment is not previously uploaded",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST Data collector should be able to attach the given file if Submission is created by the them and attachment is not previously uploaded",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "Public link should be able to upload attachment for the Submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST Public link should be able to upload attachment for the Submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "Public link should not be able to upload attachment for others Submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST Public link should not be able to upload attachment for others Submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject attachment upload when original submitter is no longer the submitter of current version",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should reject attachment upload when original submitter is no longer the submitter of current version",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject attachment upload when editor is demoted",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should reject attachment upload when editor is demoted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the attachment does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should reject if the attachment does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach the given file",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should attach the given file",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should attach a given file with empty Content-Type and serve it with default mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should attach a given file with empty Content-Type and serve it with default mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given file with missing Content-Type and serve it with default mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should attach a given file with missing Content-Type and serve it with default mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an audit entry about initial attachment",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should log an audit entry about initial attachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an audit entry about reattachment",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST should log an audit entry about reattachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach the given file and serve it with supplied mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for CSV should attach the given file and serve it with supplied mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given CSV file with empty Content-Type and serve it with mime type text/csv; charset=utf-8",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for CSV should attach a given CSV file with empty Content-Type and serve it with mime type text/csv; charset=utf-8",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given CSV file with missing Content-Type and serve it with mime type text/csv; charset=utf-8",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for CSV should attach a given CSV file with missing Content-Type and serve it with mime type text/csv; charset=utf-8",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach the given file and serve it with supplied mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for GeoJSON should attach the given file and serve it with supplied mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given GeoJSON file with empty Content-Type and serve it with mime type application/geo+json",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for GeoJSON should attach a given GeoJSON file with empty Content-Type and serve it with mime type application/geo+json",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given GeoJSON file with missing Content-Type and serve it with mime type application/geo+json",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for GeoJSON should attach a given GeoJSON file with missing Content-Type and serve it with mime type application/geo+json",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach the given file and serve it with supplied mime type",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for Custom should attach the given file and serve it with supplied mime type",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given Custom file with empty Content-Type and serve it with mime type application/octet-stream",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for Custom should attach a given Custom file with empty Content-Type and serve it with mime type application/octet-stream",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should attach a given Custom file with missing Content-Type and serve it with mime type application/octet-stream",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name POST special handling for Custom should attach a given Custom file with missing Content-Type and serve it with mime type application/octet-stream",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the form does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should return notfound if the form does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the submission does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should return notfound if the submission does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot update a submission",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should reject if the user cannot update a submission",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should clear the given attachment",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should clear the given attachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 309,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an audit entry about the deletion",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/attachments/:name DELETE should log an audit entry about the deletion",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 138,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete a draft attachment",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments/:name DELETE should delete a draft attachment",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 172,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not delete a draft attachment nondraft",
      "fullTitle": "api: /forms/:id/submissions [draft] /:instanceId/attachments/:name DELETE should not delete a draft attachment nondraft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return notfound if the root does not exist",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/versions GET should return notfound if the root does not exist",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user cannot read",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/versions GET should reject if the user cannot read",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return submission details",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/versions GET should return submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return extended submission details",
      "fullTitle": "api: /forms/:id/submissions /:instanceId/versions GET should return extended submission details",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep draft/nondraft versions apart",
      "fullTitle": "api: /forms/:id/submissions [version] partitioning should keep draft/nondraft versions apart",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep project versions apart",
      "fullTitle": "api: /forms/:id/submissions [version] partitioning should keep project versions apart",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject notfound if there is no draft",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject notfound if there is no draft",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the draft has been published",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject if the draft has been published",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the key is wrong",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject if the key is wrong",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject if the draft has been deleted",
      "fullTitle": "api: /forms/:id/submissions [draft] /test POST should reject if the draft has been deleted",
      "file": "/usr/odk/test/integration/api/submissions.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "validates the request body stringently",
      "fullTitle": "api: user-preferences validates the request body stringently",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "can store the string \"null\", distinct from NULL value",
      "fullTitle": "api: user-preferences can store the string \"null\", distinct from NULL value",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "can store a JS null propertyValue",
      "fullTitle": "api: user-preferences can store a JS null propertyValue",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow storing preferences for nonexistent projects",
      "fullTitle": "api: user-preferences should not allow storing preferences for nonexistent projects",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "PUT/DELETE preference storage operations",
      "fullTitle": "api: user-preferences PUT/DELETE preference storage operations",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 160,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "can log audit events for updating and deleting site property",
      "fullTitle": "api: user-preferences audit log can log audit events for updating and deleting site property",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "can log audit events for updating and deleting project property",
      "fullTitle": "api: user-preferences audit log can log audit events for updating and deleting project property",
      "file": "/usr/odk/test/integration/api/user-preferences.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject for anonymous users",
      "fullTitle": "api: /users GET should reject for anonymous users",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 26,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return nothing for authed users who cannot user.list",
      "fullTitle": "api: /users GET should return nothing for authed users who cannot user.list",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return a list of sorted users",
      "fullTitle": "api: /users GET should return a list of sorted users",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should search user display names if a query is given",
      "fullTitle": "api: /users GET should search user display names if a query is given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should search user emails if a query is given",
      "fullTitle": "api: /users GET should search user emails if a query is given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should search with compound phrases if given",
      "fullTitle": "api: /users GET should search with compound phrases if given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject unauthed users even if they exactly match an email",
      "fullTitle": "api: /users GET should reject unauthed users even if they exactly match an email",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 23,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return an exact email match to any authed user",
      "fullTitle": "api: /users GET should return an exact email match to any authed user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return lastLoginAt as null for users who have never logged in",
      "fullTitle": "api: /users GET should return lastLoginAt as null for users who have never logged in",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update lastLoginAt when user logs in multiple times",
      "fullTitle": "api: /users GET should update lastLoginAt when user logs in multiple times",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should prohibit non-admins from creating users",
      "fullTitle": "api: /users POST should prohibit non-admins from creating users",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should hash and store passwords if provided",
      "fullTitle": "api: /users POST with standard uname/password auth should hash and store passwords if provided",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept and hash blank passwords",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept and hash blank passwords",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept too short password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept too short password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept too long password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept too long password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept object password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept object password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept array password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept array password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept number password",
      "fullTitle": "api: /users POST with standard uname/password auth should not accept number password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should send an email to provisioned users",
      "fullTitle": "api: /users POST with standard uname/password auth should send an email to provisioned users",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send a token which can reset the new user password",
      "fullTitle": "api: /users POST with standard uname/password auth should send a token which can reset the new user password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow a too-short password when resetting via token",
      "fullTitle": "api: /users POST with standard uname/password auth should not allow a too-short password when resetting via token",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send a message explaining a pre-assigned password if given",
      "fullTitle": "api: /users POST with standard uname/password auth should send a message explaining a pre-assigned password if given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should duplicate the email into the display name if not given",
      "fullTitle": "api: /users POST with standard uname/password auth should duplicate the email into the display name if not given",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /users POST with standard uname/password auth should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not send any email if no account exists",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should not send any email if no account exists",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send a specific email if an account existed but was deleted",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should send a specific email if an account existed but was deleted",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send an email with a token which can reset the user password",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should send an email with a token which can reset the user password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should delete sessions after password reset",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should delete sessions after password reset",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow password reset token replay",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should not allow password reset token replay",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not log single use token deletion in the audit log",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should not log single use token deletion in the audit log",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail the request if invalidation is requested and no auth provided",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should fail the request if invalidation is requested and no auth provided",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fail the request if invalidation is requested but user is not authorized",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should fail the request if invalidation is requested but user is not authorized",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 81,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should invalidate the existing password if requested",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should invalidate the existing password if requested",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should clear sessions if password is invalidated",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should clear sessions if password is invalidated",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log action in audit log if password is invalidated",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should log action in audit log if password is invalidated",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail the request if invalidation is not allowed and email doesn't exist",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should fail the request if invalidation is not allowed and email doesn't exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 200 if user has rights to invalidate but account doesn'nt exist",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should return 200 if user has rights to invalidate but account doesn'nt exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow a user to reset their own password directly",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should not allow a user to reset their own password directly",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail the request if email field is sent blank in request body",
      "fullTitle": "api: /users /reset/initiate POST, /reset/verify POST with standard uname/password auth should fail the request if email field is sent blank in request body",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return unauthenticated if nobody is logged in",
      "fullTitle": "api: /users /users/current GET should return unauthenticated if nobody is logged in",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should give the authed user if logged in",
      "fullTitle": "api: /users /users/current GET should give the authed user if logged in",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not return site-wide verbs if not extended",
      "fullTitle": "api: /users /users/current GET should not return site-wide verbs if not extended",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return site-wide verbs if logged in (alice)",
      "fullTitle": "api: /users /users/current GET should return site-wide verbs if logged in (alice)",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return site-wide verbs if logged in (chelsea)",
      "fullTitle": "api: /users /users/current GET should return site-wide verbs if logged in (chelsea)",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 404 for public link",
      "fullTitle": "api: /users /users/current GET should return 404 for public link",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the authed user cannot get",
      "fullTitle": "api: /users /users/:id GET should reject if the authed user cannot get",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return the requested user",
      "fullTitle": "api: /users /users/:id GET should return the requested user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow non-admins to get themselves",
      "fullTitle": "api: /users /users/:id GET should allow non-admins to get themselves",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user does not exist",
      "fullTitle": "api: /users /users/:id GET should reject if the user does not exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include lastLoginAt field when getting a user by id",
      "fullTitle": "api: /users /users/:id GET should include lastLoginAt field when getting a user by id",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject non-admins from updating a different user",
      "fullTitle": "api: /users /users/:id PATCH should reject non-admins from updating a different user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 68,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user id cannot be found",
      "fullTitle": "api: /users /users/:id PATCH should reject if the user id cannot be found",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update only the allowed fields",
      "fullTitle": "api: /users /users/:id PATCH should update only the allowed fields",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow non-admins to update themselves",
      "fullTitle": "api: /users /users/:id PATCH should allow non-admins to update themselves",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow admins to update another user",
      "fullTitle": "api: /users /users/:id PATCH should allow admins to update another user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should send an email to the user's previous email when their email changes",
      "fullTitle": "api: /users /users/:id PATCH should send an email to the user's previous email when their email changes",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not send an email to a user when their email does not change",
      "fullTitle": "api: /users /users/:id PATCH should not send an email to a user when their email does not change",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the action in the audit log",
      "fullTitle": "api: /users /users/:id PATCH should log the action in the audit log",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the authed user cannot update",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should reject if the authed user cannot update",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user does not exist",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should reject if the user does not exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the old password is not correct",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should reject if the old password is not correct",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should change the password",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should change the password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should disallow a password that is too short (<10 chars)",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should disallow a password that is too short (<10 chars)",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow nonadministrator users to set their own password",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should allow nonadministrator users to set their own password",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete other sessions",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should delete other sessions",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete sessions if Basic auth is used",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should delete sessions if Basic auth is used",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should send an email to a user when their password changes",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should send an email to a user when their password changes",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log an audit on password change",
      "fullTitle": "api: /users /users/:id/password PUT with standard uname/password auth should log an audit on password change",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the authed user cannot delete",
      "fullTitle": "api: /users /users/:id DELETE should reject if the authed user cannot delete",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject if the user does not exist",
      "fullTitle": "api: /users /users/:id DELETE should reject if the user does not exist",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete the user",
      "fullTitle": "api: /users /users/:id DELETE should delete the user",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete any assignments the user had",
      "fullTitle": "api: /users /users/:id DELETE should delete any assignments the user had",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log an audit upon delete",
      "fullTitle": "api: /users /users/:id DELETE should log an audit upon delete",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should prevent login after delete",
      "fullTitle": "api: /users /users/:id DELETE should prevent login after delete",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should disable active sessions",
      "fullTitle": "api: /users /users/:id DELETE should disable active sessions",
      "file": "/usr/odk/test/integration/api/users.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create app users without long-lived sessions and issue short tokens on login",
      "fullTitle": "api: vg app-user auth should create app users without long-lived sessions and issue short tokens on login",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject non-string login credentials",
      "fullTitle": "api: vg app-user auth should reject non-string login credentials",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject login with missing body",
      "fullTitle": "api: vg app-user auth should reject login with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject login with whitespace-only credentials",
      "fullTitle": "api: vg app-user auth should reject login with whitespace-only credentials",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject login with non-string deviceId or comments",
      "fullTitle": "api: vg app-user auth should reject login with non-string deviceId or comments",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject app-user patch with missing body",
      "fullTitle": "api: vg app-user auth should reject app-user patch with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject app-user patch with non-string fullName or phone",
      "fullTitle": "api: vg app-user auth should reject app-user patch with non-string fullName or phone",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should clear phone on whitespace-only patch",
      "fullTitle": "api: vg app-user auth should clear phone on whitespace-only patch",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should lock out after five failed attempts per username and IP",
      "fullTitle": "api: vg app-user auth should lock out after five failed attempts per username and IP",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should scope lockout checks to null-ip entries when ip is missing",
      "fullTitle": "api: vg app-user auth should scope lockout checks to null-ip entries when ip is missing",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow admins to clear a login lockout",
      "fullTitle": "api: vg app-user auth should allow admins to clear a login lockout",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should honor project-level lockout settings",
      "fullTitle": "api: vg app-user auth should honor project-level lockout settings",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject lockout clear with missing body",
      "fullTitle": "api: vg app-user auth should reject lockout clear with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject lockout clear with non-string ip",
      "fullTitle": "api: vg app-user auth should reject lockout clear with non-string ip",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject activate/deactivate with missing body",
      "fullTitle": "api: vg app-user auth should reject activate/deactivate with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should list active app-user sessions with IP, user agent, deviceId, and comments",
      "fullTitle": "api: vg app-user auth should list active app-user sessions with IP, user agent, deviceId, and comments",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should cap active sessions at three per app user",
      "fullTitle": "api: vg app-user auth should cap active sessions at three per app user",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should respect configured session cap value",
      "fullTitle": "api: vg app-user auth should respect configured session cap value",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should honor project-level session TTL override",
      "fullTitle": "api: vg app-user auth should honor project-level session TTL override",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should honor project-level session cap override",
      "fullTitle": "api: vg app-user auth should honor project-level session cap override",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 73,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log audit events for create, login success/failure, password ops, revoke, deactivate",
      "fullTitle": "api: vg app-user auth should log audit events for create, login success/failure, password ops, revoke, deactivate",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 130,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject a third simultaneous session when DB cap is 2",
      "fullTitle": "api: vg app-user auth should reject a third simultaneous session when DB cap is 2",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should keep lockout active after failures age out",
      "fullTitle": "api: vg app-user auth should keep lockout active after failures age out",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should lift lockout after the lock duration expires",
      "fullTitle": "api: vg app-user auth should lift lockout after the lock duration expires",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject password change with missing body",
      "fullTitle": "api: vg app-user auth should reject password change with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject password change with non-string or blank passwords",
      "fullTitle": "api: vg app-user auth should reject password change with non-string or blank passwords",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject password change with a new password over 72 chars",
      "fullTitle": "api: vg app-user auth should reject password change with a new password over 72 chars",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow password change and invalidate previous sessions",
      "fullTitle": "api: vg app-user auth should allow password change and invalidate previous sessions",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject admin reset with missing body",
      "fullTitle": "api: vg app-user auth should reject admin reset with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject admin reset with non-string or blank password",
      "fullTitle": "api: vg app-user auth should reject admin reset with non-string or blank password",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject admin reset with a new password over 72 chars",
      "fullTitle": "api: vg app-user auth should reject admin reset with a new password over 72 chars",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow admin reset and deactivation to block login and terminate sessions",
      "fullTitle": "api: vg app-user auth should allow admin reset and deactivation to block login and terminate sessions",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 165,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should normalize usernames on create and allow login with mixed-case input",
      "fullTitle": "api: vg app-user auth should normalize usernames on create and allow login with mixed-case input",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject duplicate usernames",
      "fullTitle": "api: vg app-user auth should reject duplicate usernames",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject invalid passwords and blank usernames",
      "fullTitle": "api: vg app-user auth should reject invalid passwords and blank usernames",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 191,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject expired tokens",
      "fullTitle": "api: vg app-user auth should reject expired tokens",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should block login and data submission for deactivated app users",
      "fullTitle": "api: vg app-user auth should block login and data submission for deactivated app users",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should forbid an app user from changing, resetting, or deactivating another app user",
      "fullTitle": "api: vg app-user auth should forbid an app user from changing, resetting, or deactivating another app user",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 181,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should forbid an app user from changing an admin/user password via user routes",
      "fullTitle": "api: vg app-user auth should forbid an app user from changing an admin/user password via user routes",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should revoke only the current session on self-revoke",
      "fullTitle": "api: vg app-user auth should revoke only the current session on self-revoke",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject self-revoke with non-string deviceId",
      "fullTitle": "api: vg app-user auth should reject self-revoke with non-string deviceId",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow admin revoke to invalidate all sessions",
      "fullTitle": "api: vg app-user auth should allow admin revoke to invalidate all sessions",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 107,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not duplicate audit logs on repeated session revoke",
      "fullTitle": "api: vg app-user auth should not duplicate audit logs on repeated session revoke",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 147,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not duplicate audit logs on repeated revoke-admin",
      "fullTitle": "api: vg app-user auth should not duplicate audit logs on repeated revoke-admin",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 106,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should avoid audit logs on no-op activate/deactivate",
      "fullTitle": "api: vg app-user auth should avoid audit logs on no-op activate/deactivate",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should allow admin session revoke after field key deletion",
      "fullTitle": "api: vg app-user auth should allow admin session revoke after field key deletion",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject login for a username that belongs to a different project",
      "fullTitle": "api: vg app-user auth should reject login for a username that belongs to a different project",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject admin reset if vg auth record is missing",
      "fullTitle": "api: vg app-user auth should reject admin reset if vg auth record is missing",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject system settings update with missing body",
      "fullTitle": "api: vg app-user auth should reject system settings update with missing body",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept numeric strings for session settings updates",
      "fullTitle": "api: vg app-user auth should accept numeric strings for session settings updates",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should validate session settings updates",
      "fullTitle": "api: vg app-user auth should validate session settings updates",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject admin_pw longer than 72 characters",
      "fullTitle": "api: vg app-user auth should reject admin_pw longer than 72 characters",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return project app-user settings with admin_pw override",
      "fullTitle": "api: vg app-user auth should return project app-user settings with admin_pw override",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should allow updating project app-user settings admin_pw",
      "fullTitle": "api: vg app-user auth should allow updating project app-user settings admin_pw",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject project admin_pw longer than 72 characters",
      "fullTitle": "api: vg app-user auth should reject project admin_pw longer than 72 characters",
      "file": "/usr/odk/test/integration/api/vg-app-user-auth.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return enketo status for all forms",
      "fullTitle": "api: vg enketo status endpoints should return enketo status for all forms",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should require config.read permission to view enketo status",
      "fullTitle": "api: vg enketo status endpoints should require config.read permission to view enketo status",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should regenerate enketoId for specified forms",
      "fullTitle": "api: vg enketo status endpoints should regenerate enketoId for specified forms",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should require config.set permission to regenerate enketoIds",
      "fullTitle": "api: vg enketo status endpoints should require config.set permission to regenerate enketoIds",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter by projectId query parameter",
      "fullTitle": "api: vg enketo status endpoints should filter by projectId query parameter",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should filter by xmlFormId query parameter",
      "fullTitle": "api: vg enketo status endpoints should filter by xmlFormId query parameter",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-api.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should regenerate enketoId for an open form",
      "fullTitle": "domain: vg enketo status should regenerate enketoId for an open form",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-domain.js",
      "duration": 58,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail to regenerate enketoId for a closed form",
      "fullTitle": "domain: vg enketo status should fail to regenerate enketoId for a closed form",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-domain.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should fail to regenerate enketoId for a non-existent form",
      "fullTitle": "domain: vg enketo status should fail to regenerate enketoId for a non-existent form",
      "file": "/usr/odk/test/integration/api/vg-enketo-status-domain.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return enketo status for all forms across all projects",
      "fullTitle": "api: vg enketo status should return enketo status for all forms across all projects",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return status summary with counts by status type",
      "fullTitle": "api: vg enketo status should return status summary with counts by status type",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should filter by projectId when specified",
      "fullTitle": "api: vg enketo status should filter by projectId when specified",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should determine closed status correctly",
      "fullTitle": "api: vg enketo status should determine closed status correctly",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should determine status for forms with and without Enketo IDs",
      "fullTitle": "api: vg enketo status should determine status for forms with and without Enketo IDs",
      "file": "/usr/odk/test/integration/api/vg-enketo-status.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept app-user telemetry and allow admin listing with filters and paging",
      "fullTitle": "api: vg telemetry should accept app-user telemetry and allow admin listing with filters and paging",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 131,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject non-integer appUserId filter values",
      "fullTitle": "api: vg telemetry should reject non-integer appUserId filter values",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject telemetry payload appUserId that does not match the token actor",
      "fullTitle": "api: vg telemetry should reject telemetry payload appUserId that does not match the token actor",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should require latitude and longitude when location is provided",
      "fullTitle": "api: vg telemetry should require latitude and longitude when location is provided",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject non-UTC deviceDateTime",
      "fullTitle": "api: vg telemetry should reject non-UTC deviceDateTime",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject telemetry from non-app-user actors",
      "fullTitle": "api: vg telemetry should reject telemetry from non-app-user actors",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept a batch of events (max 10) and write one row per event",
      "fullTitle": "api: vg telemetry should accept a batch of events (max 10) and write one row per event",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should treat duplicate event ids as last-write-wins within a batch",
      "fullTitle": "api: vg telemetry should treat duplicate event ids as last-write-wins within a batch",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject an empty events array",
      "fullTitle": "api: vg telemetry should reject an empty events array",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 63,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should dedupe retries without events by device timestamp",
      "fullTitle": "api: vg telemetry should dedupe retries without events by device timestamp",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should dedupe/upsert replayed events by (appUserId, deviceId, clientEventId)",
      "fullTitle": "api: vg telemetry should dedupe/upsert replayed events by (appUserId, deviceId, clientEventId)",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept telemetry for recently expired app-user sessions and report invalidated status",
      "fullTitle": "api: vg telemetry should accept telemetry for recently expired app-user sessions and report invalidated status",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept telemetry after the bearer token is revoked (queued offline) and report invalidated status",
      "fullTitle": "api: vg telemetry should accept telemetry after the bearer token is revoked (queued offline) and report invalidated status",
      "file": "/usr/odk/test/integration/api/vg-telemetry.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "allows admin to create and login an app user (short-lived token)",
      "fullTitle": "vg org app-users (short token flow) allows admin to create and login an app user (short-lived token)",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "denies creation to users without project manage rights",
      "fullTitle": "vg org app-users (short token flow) denies creation to users without project manage rights",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "allows project managers to create app users",
      "fullTitle": "vg org app-users (short token flow) allows project managers to create app users",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "lists created app users without long-lived tokens",
      "fullTitle": "vg org app-users (short token flow) lists created app users without long-lived tokens",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "orders listings by most recently created",
      "fullTitle": "vg org app-users (short token flow) orders listings by most recently created",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "lists only app users from the requested project",
      "fullTitle": "vg org app-users (short token flow) lists only app users from the requested project",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "omits session tokens from listings even after login",
      "fullTitle": "vg org app-users (short token flow) omits session tokens from listings even after login",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "denies listing to users without project manage rights",
      "fullTitle": "vg org app-users (short token flow) denies listing to users without project manage rights",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "returns extended metadata with lastUsed for active app users",
      "fullTitle": "vg org app-users (short token flow) returns extended metadata with lastUsed for active app users",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 105,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "supports self login and submission via /key/:token",
      "fullTitle": "vg org app-users (short token flow) supports self login and submission via /key/:token",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "denies closed form access via /key/:token",
      "fullTitle": "vg org app-users (short token flow) denies closed form access via /key/:token",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions after admin revoke",
      "fullTitle": "vg org app-users (short token flow) rejects submissions after admin revoke",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions when app user is deactivated",
      "fullTitle": "vg org app-users (short token flow) rejects submissions when app user is deactivated",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions using a token from another project",
      "fullTitle": "vg org app-users (short token flow) rejects submissions using a token from another project",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions using an expired token",
      "fullTitle": "vg org app-users (short token flow) rejects submissions using an expired token",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "rejects submissions with malformed/unknown tokens",
      "fullTitle": "vg org app-users (short token flow) rejects submissions with malformed/unknown tokens",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "rejects legacy long-lived app-user sessions without vg auth",
      "fullTitle": "vg org app-users (short token flow) rejects legacy long-lived app-user sessions without vg auth",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "rejects submissions after password change using old token",
      "fullTitle": "vg org app-users (short token flow) rejects submissions after password change using old token",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 168,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "rejects submissions for unassigned forms",
      "fullTitle": "vg org app-users (short token flow) rejects submissions for unassigned forms",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deletes app users assignments on delete and scopes deletion to project",
      "fullTitle": "vg org app-users (short token flow) deletes app users assignments on delete and scopes deletion to project",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "allows project managers to delete app users in their project",
      "fullTitle": "vg org app-users (short token flow) allows project managers to delete app users in their project",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "app user tokens cannot access user profile routes",
      "fullTitle": "vg org app-users (short token flow) app user tokens cannot access user profile routes",
      "file": "/usr/odk/test/integration/api/vg-tests-orgAppUsers.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should audit failed login attempts with normalized identifiers",
      "fullTitle": "api: /sessions (vg web users) should audit failed login attempts with normalized identifiers",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should lock out logins after repeated failures",
      "fullTitle": "api: /sessions (vg web users) should lock out logins after repeated failures",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should honor a configured lockout duration",
      "fullTitle": "api: /sessions (vg web users) should honor a configured lockout duration",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should include attempts remaining header on failed login",
      "fullTitle": "api: /sessions (vg web users) should include attempts remaining header on failed login",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should include Retry-After header when locked out",
      "fullTitle": "api: /sessions (vg web users) should include Retry-After header when locked out",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should normalize response timing between missing email and bad password",
      "fullTitle": "api: /sessions (vg web users) should normalize response timing between missing email and bad password",
      "file": "/usr/odk/test/integration/api/vg-webusers.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should count audit log entries",
      "fullTitle": "analytics task queries general server metrics should count audit log entries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should count admins",
      "fullTitle": "analytics task queries general server metrics should count admins",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 114,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count encrypted projects",
      "fullTitle": "analytics task queries general server metrics should count encrypted projects",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 358,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number of questions in the biggest form",
      "fullTitle": "analytics task queries general server metrics should count the number of questions in the biggest form",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should find the maximum number of geo points per form",
      "fullTitle": "analytics task queries general server metrics should find the maximum number of geo points per form",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 207,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only use first geo field when counting max geo points per form",
      "fullTitle": "analytics task queries general server metrics should only use first geo field when counting max geo points per form",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 152,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number of unique roles across projects",
      "fullTitle": "analytics task queries general server metrics should count the number of unique roles across projects",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 143,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number archived projects",
      "fullTitle": "analytics task queries general server metrics should count the number archived projects",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should get the database size",
      "fullTitle": "analytics task queries general server metrics should get the database size",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should check database configurations",
      "fullTitle": "analytics task queries general server metrics should check database configurations",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should check external blob store configurations",
      "fullTitle": "analytics task queries general server metrics should check external blob store configurations",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should count failed audits",
      "fullTitle": "analytics task queries general server metrics should count failed audits",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count form definitions that are XML-only and are not associated with an XLSForm",
      "fullTitle": "analytics task queries general server metrics should count form definitions that are XML-only and are not associated with an XLSForm",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 235,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number of binary blob files total and uploaded to external store",
      "fullTitle": "analytics task queries general server metrics should count the number of binary blob files total and uploaded to external store",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 79,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of reset failed blob uploads",
      "fullTitle": "analytics task queries general server metrics should count number of reset failed blob uploads",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count how many datasets are ownerOnly",
      "fullTitle": "analytics task queries general server metrics should count how many datasets are ownerOnly",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count datasets with geometry property",
      "fullTitle": "analytics task queries general server metrics should count datasets with geometry property",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count entities with geometry properties",
      "fullTitle": "analytics task queries general server metrics should count entities with geometry properties",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count entity bulk delete audit logs with recent and total counts",
      "fullTitle": "analytics task queries general server metrics should count entity bulk delete audit logs with recent and total counts",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the total number of client audit submission attachments",
      "fullTitle": "analytics task queries general server metrics counting client audits should count the total number of client audit submission attachments",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count client audit attachments that failed processing",
      "fullTitle": "analytics task queries general server metrics counting client audits should count client audit attachments that failed processing",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 384,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count the number of rows extracted from client audit attachments",
      "fullTitle": "analytics task queries general server metrics counting client audits should count the number of rows extracted from client audit attachments",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 122,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count rows from client audit attachments uploaded to s3",
      "fullTitle": "analytics task queries general server metrics counting client audits should count rows from client audit attachments uploaded to s3",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of managers per project",
      "fullTitle": "analytics task queries user metrics should calculate number of managers per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should calculate number of viewers per project",
      "fullTitle": "analytics task queries user metrics should calculate number of viewers per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of data collectors per project",
      "fullTitle": "analytics task queries user metrics should calculate number of data collectors per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate unique device ids per project",
      "fullTitle": "analytics task queries user metrics should calculate unique device ids per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate public links per project",
      "fullTitle": "analytics task queries user metrics should calculate public links per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should calculate forms per project",
      "fullTitle": "analytics task queries form metrics should calculate forms per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate forms with repeats",
      "fullTitle": "analytics task queries form metrics should calculate forms with repeats",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should calculate forms with audits",
      "fullTitle": "analytics task queries form metrics should calculate forms with audits",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate forms with geospatial elements",
      "fullTitle": "analytics task queries form metrics should calculate forms with geospatial elements",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should count encrypted forms per project",
      "fullTitle": "analytics task queries form metrics should count encrypted forms per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate forms in each form state per project",
      "fullTitle": "analytics task queries form metrics should calculate forms in each form state per project",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate forms using webforms",
      "fullTitle": "analytics task queries form metrics should calculate forms using webforms",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of forms reusing ids of deleted forms",
      "fullTitle": "analytics task queries form metrics should calculate number of forms reusing ids of deleted forms",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 269,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of forms that create and update entities and do so in repeats",
      "fullTitle": "analytics task queries form metrics should count number of forms that create and update entities and do so in repeats",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 252,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions",
      "fullTitle": "analytics task queries submission metrics should calculate submissions",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by review state: approved",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by review state: approved",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by review state: rejected",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by review state: rejected",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by review state: hasIssues",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by review state: hasIssues",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions by review state: edited",
      "fullTitle": "analytics task queries submission metrics should calculate submissions by review state: edited",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions that have been edited",
      "fullTitle": "analytics task queries submission metrics should calculate submissions that have been edited",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 113,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate submissions that have comments",
      "fullTitle": "analytics task queries submission metrics should calculate submissions that have comments",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 99,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return datasets ID",
      "fullTitle": "analytics task queries dataset metrics should return datasets ID",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate properties",
      "fullTitle": "analytics task queries dataset metrics should calculate properties",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 84,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate creation forms",
      "fullTitle": "analytics task queries dataset metrics should calculate creation forms",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate followup forms",
      "fullTitle": "analytics task queries dataset metrics should calculate followup forms",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate entities",
      "fullTitle": "analytics task queries dataset metrics should calculate entities",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 212,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate failed entities",
      "fullTitle": "analytics task queries dataset metrics should calculate failed entities",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate entity updates",
      "fullTitle": "analytics task queries dataset metrics should calculate entity updates",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 312,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate entity updates through different sources like API and submission",
      "fullTitle": "analytics task queries dataset metrics should calculate entity updates through different sources like API and submission",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 375,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate entity creates through different sources (submission, API, bulk",
      "fullTitle": "analytics task queries dataset metrics should calculate entity creates through different sources (submission, API, bulk",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 183,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of entities ever updated vs. update actions applied",
      "fullTitle": "analytics task queries dataset metrics should calculate number of entities ever updated vs. update actions applied",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 241,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate number of entities ever with conflict, and which are currently resolved",
      "fullTitle": "analytics task queries dataset metrics should calculate number of entities ever with conflict, and which are currently resolved",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 213,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return right dataset of each projects",
      "fullTitle": "analytics task queries dataset metrics should return right dataset of each projects",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 167,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return recent and total entity.bulk.create events per dataset",
      "fullTitle": "analytics task queries dataset metrics should return recent and total entity.bulk.create events per dataset",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 142,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show dataset event metrics within project metrics",
      "fullTitle": "analytics task queries dataset metrics should show dataset event metrics within project metrics",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 92,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine dataset event metrics with other project metrics even if no bulk create events",
      "fullTitle": "analytics task queries dataset metrics should combine dataset event metrics with other project metrics even if no bulk create events",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should count number of multi entity errors (errors processing submission with entities from repeats)",
      "fullTitle": "analytics task queries dataset metrics should count number of multi entity errors (errors processing submission with entities from repeats)",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 192,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of offline entity branches (nontrivial branches with >1 update)",
      "fullTitle": "analytics task queries offline entity metrics should count number of offline entity branches (nontrivial branches with >1 update)",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 204,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of interrupted branches",
      "fullTitle": "analytics task queries offline entity metrics should count number of interrupted branches",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 436,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should count number of submission.backlog.* events (submissions temporarily in the backlog)",
      "fullTitle": "analytics task queries offline entity metrics should count number of submission.backlog.* events (submissions temporarily in the backlog)",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 246,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should measure time from submission creation to entity version finished processing",
      "fullTitle": "analytics task queries offline entity metrics should measure time from submission creation to entity version finished processing",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should measure max time between first submission on a branch received and last submission on that branch processed",
      "fullTitle": "analytics task queries offline entity metrics should measure max time between first submission on a branch received and last submission on that branch processed",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 166,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not see a delay for submissions processed with approvalRequired flag toggled",
      "fullTitle": "analytics task queries offline entity metrics should not see a delay for submissions processed with approvalRequired flag toggled",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 286,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not see a delay for submissions held in backlog and then force-processed",
      "fullTitle": "analytics task queries offline entity metrics should not see a delay for submissions held in backlog and then force-processed",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 234,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should calculate projects with descriptions",
      "fullTitle": "analytics task queries other project metrics should calculate projects with descriptions",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 120,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should combine system level queries",
      "fullTitle": "analytics task queries combined analytics should combine system level queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 865,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fill in all project.forms queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.forms queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 343,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fill in all project.other queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.other queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be idempotent and not cross-polute project counts",
      "fullTitle": "analytics task queries combined analytics should be idempotent and not cross-polute project counts",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 234,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fill in all project.datasets queries",
      "fullTitle": "analytics task queries combined analytics should fill in all project.datasets queries",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 638,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should find recently created analytics audit log",
      "fullTitle": "analytics task queries latest analytics audit log utility should find recently created analytics audit log",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should find nothing if no analytics audit log",
      "fullTitle": "analytics task queries latest analytics audit log utility should find nothing if no analytics audit log",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should find analytics audit log created 30 days ago",
      "fullTitle": "analytics task queries latest analytics audit log utility should find analytics audit log created 30 days ago",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not return analytics audit log more than 30 days prior",
      "fullTitle": "analytics task queries latest analytics audit log utility should not return analytics audit log more than 30 days prior",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should validate form fields match metrics template",
      "fullTitle": "analytics task queries parsing official analytics form should validate form fields match metrics template",
      "file": "/usr/odk/test/integration/other/analytics-queries.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not return 401 for POST /v1/sessions",
      "fullTitle": "authentication anonymous endpoints should not return 401 for POST /v1/sessions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not return 401 for POST /v1/users/reset/initiate",
      "fullTitle": "authentication anonymous endpoints should not return 401 for POST /v1/users/reset/initiate",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/analytics/preview",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/analytics/preview",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/assignments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/assignments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/assignments/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/assignments/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/audits",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/audits",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/backup",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/backup",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/config/some-key",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/config/some-key",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/config/some-key",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/config/some-key",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/config/some-key",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/config/some-key",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/form-links/some-enketo-id/form",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/form-links/some-enketo-id/form",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/projects/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/projects/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/app-users",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/app-users",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/app-users",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/app-users",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/app-users/app-user-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/app-users/app-user-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/assignments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/assignments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 45,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/assignments/forms",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/assignments/forms",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 25,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/assignments/forms/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/assignments/forms/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/assignments/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/assignments/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/datasets",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/datasets",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/datasets/tree",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/datasets/tree",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 43,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree.svc",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree.svc",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree.svc/$metadata",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree.svc/$metadata",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree.svc/Entities",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree.svc/Entities",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/datasets/tree/entities",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/datasets/tree/entities",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 29,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 27,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/datasets/tree/entities/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/datasets/tree/entities/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 28,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/datasets/tree/entities/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/datasets/tree/entities/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 27,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/audits",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/audits",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 29,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/diffs",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/diffs",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/datasets/tree/entities/uuid/restore",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/datasets/tree/entities/uuid/restore",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/versions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/entities/uuid/versions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/datasets/tree/integrity",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/datasets/tree/integrity",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/datasets/tree/properties",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/datasets/tree/properties",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/formList",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/formList",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/forms/simple",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/forms/simple",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc/$metadata",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc/$metadata",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc/Submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc/Submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc/Submissions('uuid')",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc/Submissions('uuid')",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.svc/child",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.svc/child",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.xls",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.xls",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.xlsx",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.xlsx",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/assignments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/assignments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/assignments/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/assignments/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/assignments/role-id/actor-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/assignments/role-id/actor-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/dataset-diff",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/dataset-diff",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/draft",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/draft",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/$metadata",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/$metadata",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/Submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/Submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/Submissions('uuid')",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/Submissions('uuid')",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/child",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.svc/child",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.xls",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.xls",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.xlsx",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.xlsx",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/forms/simple/draft/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/dataset-diff",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/dataset-diff",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/fields",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/fields",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 30,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/manifest",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/manifest",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/publish",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/publish",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submission",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submission",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submission",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submission",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions.csv.zip",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions.csv.zip",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions.csv.zip",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions.csv.zip",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/keys",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/keys",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/diffs",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/diffs",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/root-uuid/versions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/submitters",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/submitters",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/projects/1/forms/simple/draft/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/projects/1/forms/simple/draft/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/audits",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/draft/submissions/uuid/audits",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/fields",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/fields",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/manifest",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/manifest",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/public-links",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/public-links",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/public-links",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/public-links",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/public-links/public-link-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/public-links/public-link-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/restore",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/restore",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions.csv",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions.csv",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions.csv.zip",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions.csv.zip",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions.csv.zip",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions.csv.zip",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/keys",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/keys",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/diffs",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/diffs",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/root-uuid/versions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/submitters",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/submitters",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/projects/1/forms/simple/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/projects/1/forms/simple/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/projects/1/forms/simple/submissions/uuid",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/projects/1/forms/simple/submissions/uuid",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 29,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/audits",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/audits",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/comments",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/comments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/comments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/comments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/edit",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/submissions/uuid/edit",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/restore",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/forms/simple/submissions/uuid/restore",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 51,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 40,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xls",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xls",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xlsx",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xlsx",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xml",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1.xml",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/attachments",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/attachments",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/attachments/attachment-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/attachments/attachment-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/fields",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/fields",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/manifest",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/forms/simple/versions/version-1/manifest",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/key",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/key",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/projects/1/submission",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/projects/1/submission",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/projects/1/submission",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/projects/1/submission",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/roles",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/roles",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/roles/role-id",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/roles/role-id",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 31,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/sessions/current",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/sessions/current",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/sessions/restore",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/sessions/restore",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/sessions/some-token",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/sessions/some-token",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/user-preferences/project/1/property-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/user-preferences/project/1/property-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/user-preferences/project/1/property-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/user-preferences/project/1/property-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/user-preferences/site/property-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/user-preferences/site/property-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/user-preferences/site/property-name",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/user-preferences/site/property-name",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/users",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/users",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/users",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/users",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the DELETE /v1/users/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the DELETE /v1/users/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 32,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PATCH /v1/users/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the PATCH /v1/users/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 48,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/users/1",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/users/1",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the PUT /v1/users/1/password",
      "fullTitle": "authentication restricted endpoints should return 401 for the PUT /v1/users/1/password",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 34,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return 401 for the GET /v1/users/current",
      "fullTitle": "authentication restricted endpoints should return 401 for the GET /v1/users/current",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/users/reset/initiate?invalidate=true",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/users/reset/initiate?invalidate=true",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 401 for the POST /v1/users/reset/verify",
      "fullTitle": "authentication restricted endpoints should return 401 for the POST /v1/users/reset/verify",
      "file": "/usr/odk/test/integration/other/authentication.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should accept email and password",
      "fullTitle": "basic authentication should accept email and password",
      "file": "/usr/odk/test/integration/other/basic-auth.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject 401 if supplied token does not match the expected format",
      "fullTitle": "bearer authentication should reject 401 if supplied token does not match the expected format",
      "file": "/usr/odk/test/integration/other/bearer-auth.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should reject 401 if the header format is wrong",
      "fullTitle": "bearer authentication should reject 401 if the header format is wrong",
      "file": "/usr/odk/test/integration/other/bearer-auth.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not purge xls blob that is still referenced",
      "fullTitle": "blob query module should not purge xls blob that is still referenced",
      "file": "/usr/odk/test/integration/other/blobs.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle blob collisions with different filenames",
      "fullTitle": "blob query module should handle blob collisions with different filenames",
      "file": "/usr/odk/test/integration/other/blobs.js",
      "duration": 128,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle blob collisions with different filenames and content-types",
      "fullTitle": "blob query module should handle blob collisions with different filenames and content-types",
      "file": "/usr/odk/test/integration/other/blobs.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle blob collisions and not purge still attached blobs",
      "fullTitle": "blob query module should handle blob collisions and not purge still attached blobs",
      "file": "/usr/odk/test/integration/other/blobs.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return a reasonable error on unparseable requests",
      "fullTitle": "bodyParser should return a reasonable error on unparseable requests",
      "file": "/usr/odk/test/integration/other/body-parser.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a reasonable error on too big requests",
      "fullTitle": "bodyParser should return a reasonable error on too big requests",
      "file": "/usr/odk/test/integration/other/body-parser.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a reasonable error on bad Content-Encoding header",
      "fullTitle": "bodyParser should return a reasonable error on bad Content-Encoding header",
      "file": "/usr/odk/test/integration/other/body-parser.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return a formatted 404 on routematch failure",
      "fullTitle": "bodyParser should return a formatted 404 on routematch failure",
      "file": "/usr/odk/test/integration/other/body-parser.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should define indexes on both sides of foreign key relationships",
      "fullTitle": "database indexes should define indexes on both sides of foreign key relationships",
      "file": "/usr/odk/test/integration/other/database-indexes.js",
      "duration": 9,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "Event stamps are applied upon submission insertion and modification",
      "fullTitle": "DB: Event stamping Event stamps are applied upon submission insertion and modification",
      "file": "/usr/odk/test/integration/other/db-eventstamping.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should time out after 2 mins if no activity at all",
      "fullTitle": "db.stream() timeouts should time out after 2 mins if no activity at all",
      "file": "/usr/odk/test/integration/other/db-stream.js",
      "duration": 693,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not time out after 2 mins if the stream is read",
      "fullTitle": "db.stream() timeouts should not time out after 2 mins if the stream is read",
      "file": "/usr/odk/test/integration/other/db-stream.js",
      "duration": 1542,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should check simple diff case",
      "fullTitle": "empty entity structure field submission diffing should check simple diff case",
      "file": "/usr/odk/test/integration/other/empty-entity-structure.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show submissions in odata",
      "fullTitle": "empty entity structure field odata should show submissions in odata",
      "file": "/usr/odk/test/integration/other/empty-entity-structure.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show odata metadata",
      "fullTitle": "empty entity structure field odata should show odata metadata",
      "file": "/usr/odk/test/integration/other/empty-entity-structure.js",
      "duration": 278,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should show submissions in odata when label added",
      "fullTitle": "empty entity structure field odata should show submissions in odata when label added",
      "file": "/usr/odk/test/integration/other/empty-entity-structure.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject keyless forms in keyed projects @slow",
      "fullTitle": "managed encryption lock management should reject keyless forms in keyed projects @slow",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 266,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should reject forms created while project managed encryption is being enabled @slow",
      "fullTitle": "managed encryption lock management should reject forms created while project managed encryption is being enabled @slow",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should give a decryptor for the given passphrases",
      "fullTitle": "managed encryption decryptor should give a decryptor for the given passphrases",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 261,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should correctly record attachment file ordering",
      "fullTitle": "managed encryption encrypted submission attachment parsing should correctly record attachment file ordering",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject with a reasonable message given incorrect passphrase",
      "fullTitle": "managed encryption end-to-end @slow should reject with a reasonable message given incorrect passphrase",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 391,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt to CSV successfully",
      "fullTitle": "managed encryption end-to-end @slow should decrypt to CSV successfully",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 461,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt to CSV successfully if submissions uploaded to S3",
      "fullTitle": "managed encryption end-to-end @slow should decrypt to CSV successfully if submissions uploaded to S3",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 351,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt to CSV successfully as a direct root table",
      "fullTitle": "managed encryption end-to-end @slow should decrypt to CSV successfully as a direct root table",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 538,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt with passphrases provided via url-encoded POST body",
      "fullTitle": "managed encryption end-to-end @slow should decrypt with passphrases provided via url-encoded POST body",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 467,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt with passphrases provide via JSON POST body",
      "fullTitle": "managed encryption end-to-end @slow should decrypt with passphrases provide via JSON POST body",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 348,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt attached files successfully",
      "fullTitle": "managed encryption end-to-end @slow should decrypt attached files successfully",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 554,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt attached files successfully when s3 enabled",
      "fullTitle": "managed encryption end-to-end @slow should decrypt attached files successfully when s3 enabled",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 531,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle s3 issues gracefully",
      "fullTitle": "managed encryption end-to-end @slow should handle s3 issues gracefully",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 499,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should strip .enc suffix from decrypted attachments",
      "fullTitle": "managed encryption end-to-end @slow should strip .enc suffix from decrypted attachments",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 569,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should skip encrypted client audit log attachments and mark them as processed",
      "fullTitle": "managed encryption end-to-end @slow should skip encrypted client audit log attachments and mark them as processed",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 431,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt client audit log attachments",
      "fullTitle": "managed encryption end-to-end @slow should decrypt client audit log attachments",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 509,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should decrypt client audit log attachments from s3",
      "fullTitle": "managed encryption end-to-end @slow should decrypt client audit log attachments from s3",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 554,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed [plaintext/encrypted] attachments (not decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed [plaintext/encrypted] attachments (not decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 447,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed [plaintext/encrypted] attachments (decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed [plaintext/encrypted] attachments (decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 618,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed[plaintext/encrypted] formdata (decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed[plaintext/encrypted] formdata (decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 457,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed[plaintext/encrypted] formdata (not decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed[plaintext/encrypted] formdata (not decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 489,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed[managedA/managedB] formdata (decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed[managedA/managedB] formdata (decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 721,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed [plaintext/missing-encrypted-xml] formdata (decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed [plaintext/missing-encrypted-xml] formdata (decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 497,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle mixed [plaintext/missing-encrypted-xml] formdata (not decrypting)",
      "fullTitle": "managed encryption end-to-end @slow should handle mixed [plaintext/missing-encrypted-xml] formdata (not decrypting)",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 517,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log publish events in the audits",
      "fullTitle": "managed encryption end-to-end @slow should log publish events in the audits",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 373,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should survive a round-trip",
      "fullTitle": "managed encryption end-to-end @slow odk encryption simulation oaep padding should survive a round-trip",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should pad appropriately",
      "fullTitle": "managed encryption end-to-end @slow odk encryption simulation pkcs7 padding should pad appropriately",
      "file": "/usr/odk/test/integration/other/encryption.js",
      "duration": 0,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should persist the list of UUIDs of purged entities",
      "fullTitle": "query module entities purge should persist the list of UUIDs of purged entities",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return purged entities through integrity url",
      "fullTitle": "query module entities purge should return purged entities through integrity url",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 221,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge a deleted entity from repeat that shares a source with a non-deleted entity",
      "fullTitle": "query module entities purge should purge a deleted entity from repeat that shares a source with a non-deleted entity",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge a specific entity",
      "fullTitle": "query module entities purge entities purge arguments should purge a specific entity",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge deleted entities, which were created via submissions",
      "fullTitle": "query module entities purge entities purge arguments should purge deleted entities, which were created via submissions",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 139,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all deleted entities of a dataset",
      "fullTitle": "query module entities purge entities purge arguments should purge all deleted entities of a dataset",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 140,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all deleted entities under a project",
      "fullTitle": "query module entities purge entities purge arguments should purge all deleted entities under a project",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 299,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all deleted entities under a project",
      "fullTitle": "query module entities purge entities purge arguments should purge all deleted entities under a project",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 235,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when entityUuid specified without projectId and datasetName",
      "fullTitle": "query module entities purge entities purge arguments should throw an error when entityUuid specified without projectId and datasetName",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should throw an error when entityUuid specified without projectId",
      "fullTitle": "query module entities purge entities purge arguments should throw an error when entityUuid specified without projectId",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 72,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should throw an error when entityUuid specified without datasetName",
      "fullTitle": "query module entities purge entities purge arguments should throw an error when entityUuid specified without datasetName",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when datasetName specified without projectId",
      "fullTitle": "query module entities purge entities purge arguments should throw an error when datasetName specified without projectId",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge multiple entities deleted over 30 days ago",
      "fullTitle": "query module entities purge 30 day time limit should purge multiple entities deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge recently deleted entities when forced",
      "fullTitle": "query module entities purge 30 day time limit should purge recently deleted entities when forced",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all versions of a deleted entity",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should purge all versions of a deleted entity",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should redact notes of a deleted entity sent with x-action-notes",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should redact notes of a deleted entity sent with x-action-notes",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 88,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge API entity sources",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should purge API entity sources",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 126,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge submission entity sources",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should purge submission entity sources",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 145,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not purge bulk entity sources",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should not purge bulk entity sources",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge submission backlog for entities",
      "fullTitle": "query module entities purge deep cleanup of all entity artifacts should purge submission backlog for entities",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 135,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow reuse of purged uuid when creating single entity",
      "fullTitle": "query module entities purge restrict recreation with same uuid should not allow reuse of purged uuid when creating single entity",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not allow reuse of purged uuid when creating bulk entities",
      "fullTitle": "query module entities purge restrict recreation with same uuid should not allow reuse of purged uuid when creating bulk entities",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log a purge event in the audit log when purging entities",
      "fullTitle": "query module entities purge entity.purge audit event should log a purge event in the audit log when purging entities",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log event if no entities purged",
      "fullTitle": "query module entities purge entity.purge audit event should not log event if no entities purged",
      "file": "/usr/odk/test/integration/other/entities-purging.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should upgrade a form with only a published version",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should upgrade a form with only a published version",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upgrade a form with only a draft version",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should upgrade a form with only a draft version",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upgrade a form with a draft version and a published version",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should upgrade a form with a draft version and a published version",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should only upgrade the latest version of a form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should only upgrade the latest version of a form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 216,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should carry forward the xlsx file of a published form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should carry forward the xlsx file of a published form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should carry forward the xlsx file of a draft form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should carry forward the xlsx file of a draft form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should carry forward the attachments of a form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should carry forward the attachments of a form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 152,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the formList once the form changes",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should update the formList once the form changes",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 187,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the updatedAt timestamps on the form when updating a draft form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should update the updatedAt timestamps on the form when updating a draft form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the updatedAt timestamps on the form when updating a published form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should update the updatedAt timestamps on the form when updating a published form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set publishedBy to null on the form when updating a published form",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2023.1.0 update form should set publishedBy to null on the form when updating a published form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upgrade a form with a draft version and a published version",
      "fullTitle": "Update / migrate entities-version within form upgrading a 2022.1.0 create form should upgrade a form with a draft version and a published version",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log events about the upgrade for a published form",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should log events about the upgrade for a published form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 90,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log events about the upgrade for a draft form",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should log events about the upgrade for a draft form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log events about the upgrade for a published and draft form",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should log events about the upgrade for a published and draft form",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 123,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update the audit log event for a successful upgrade",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should update the audit log event for a successful upgrade",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not update form if there is a problem, but should process audit event",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should not update form if there is a problem, but should process audit event",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not update form if the entities version is not the target one (e.g. 2024.1)",
      "fullTitle": "Update / migrate entities-version within form audit logging and errors should not update form if the entities version is not the target one (e.g. 2024.1)",
      "file": "/usr/odk/test/integration/other/form-entities-version.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge a form deleted over 30 days ago",
      "fullTitle": "query module form purge should purge a form deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge multiple forms deleted over 30 days ago",
      "fullTitle": "query module form purge should purge multiple forms deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should by default not purge a recently deleted form",
      "fullTitle": "query module form purge should by default not purge a recently deleted form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge a recently deleted form immediately when forced",
      "fullTitle": "query module form purge should purge a recently deleted form immediately when forced",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 50,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log the purge action in the audit log",
      "fullTitle": "query module form purge should log the purge action in the audit log",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 46,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log purge action in the audit log for each form",
      "fullTitle": "query module form purge should log purge action in the audit log for each form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 55,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should update the actee table with purgedAt details",
      "fullTitle": "query module form purge should update the actee table with purgedAt details",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge a form with multiple versions",
      "fullTitle": "query module form purge should purge a form with multiple versions",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge attachments (and blobs) of a form",
      "fullTitle": "query module form purge should purge attachments (and blobs) of a form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge attachments and blobs of a form, s3-enabled, blobs not uploaded",
      "fullTitle": "query module form purge should purge attachments and blobs of a form, s3-enabled, blobs not uploaded",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge attachments and blobs of a form, s3-enabled, blobs uploaded",
      "fullTitle": "query module form purge should purge attachments and blobs of a form, s3-enabled, blobs uploaded",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 125,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the form fields of a form",
      "fullTitle": "query module form purge should purge the form fields of a form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 108,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge the select multiple values of a purged form",
      "fullTitle": "query module form purge should purge the select multiple values of a purged form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge a deleted form by ID",
      "fullTitle": "query module form purge purging specific forms via specific arguments should purge a deleted form by ID",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all versions of deleted form in project",
      "fullTitle": "query module form purge purging specific forms via specific arguments should purge all versions of deleted form in project",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 110,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge named form only from specified project",
      "fullTitle": "query module form purge purging specific forms via specific arguments should purge named form only from specified project",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 93,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when xmlFormId specified without project ID",
      "fullTitle": "query module form purge purging specific forms via specific arguments should throw an error when xmlFormId specified without project ID",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should delete all defs of a submission",
      "fullTitle": "query module form purge purging form submissions should delete all defs of a submission",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge attachments and blobs associated with the submission",
      "fullTitle": "query module form purge purging form submissions should purge attachments and blobs associated with the submission",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 91,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge submission comments from comments table",
      "fullTitle": "query module form purge purging form submissions should purge submission comments from comments table",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge submission comments from notes fields of audits table",
      "fullTitle": "query module form purge purging form submissions should purge submission comments from notes fields of audits table",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 77,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge client audit log attachments (that have been processed into database)",
      "fullTitle": "query module form purge purging form submissions should purge client audit log attachments (that have been processed into database)",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge xls blob of a form",
      "fullTitle": "query module form purge purging form submissions should purge xls blob of a form",
      "file": "/usr/odk/test/integration/other/form-purging.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create a new def and update the version",
      "fullTitle": "form forward versioning should create a new def and update the version",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 36,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should create a new draft def and not update the current version",
      "fullTitle": "form forward versioning should create a new draft def and not update the current version",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 47,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should preserve submissions",
      "fullTitle": "form forward versioning should preserve submissions",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should copy forward matching attachments",
      "fullTitle": "form forward versioning should copy forward matching attachments",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 59,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not copy forward nonmatching attachments",
      "fullTitle": "form forward versioning should not copy forward nonmatching attachments",
      "file": "/usr/odk/test/integration/other/form-versioning.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not include x-powered-by header",
      "fullTitle": "http-headers should not include x-powered-by header",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should allow private caching of HEAD responses",
      "fullTitle": "http-headers caching headers should allow private caching of HEAD responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should allow private caching of GET responses",
      "fullTitle": "http-headers caching headers should allow private caching of GET responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 38,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow any caching of DELETE responses",
      "fullTitle": "http-headers caching headers should not allow any caching of DELETE responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 42,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow any caching of PATCH responses",
      "fullTitle": "http-headers caching headers should not allow any caching of PATCH responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not allow any caching of POST responses",
      "fullTitle": "http-headers caching headers should not allow any caching of POST responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 39,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not allow any caching of PUT responses",
      "fullTitle": "http-headers caching headers should not allow any caching of PUT responses",
      "file": "/usr/odk/test/integration/other/http-headers.js",
      "duration": 49,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return 404 for path URL decode errors",
      "fullTitle": "http should return 404 for path URL decode errors",
      "file": "/usr/odk/test/integration/other/http.js",
      "duration": 35,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should put old forms into project",
      "fullTitle": "database migrations: removing default project should put old forms into project",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 719,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make a default project if no forms",
      "fullTitle": "database migrations: removing default project should not make a default project if no forms",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 641,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should test migration",
      "fullTitle": "database migrations: intermediate form schema should test migration",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 2123,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deletes backups configs",
      "fullTitle": "database migrations: 20230123-01-remove-google-backups deletes backups configs",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 137,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "deletes the role that grants backup.verify",
      "fullTitle": "database migrations: 20230123-01-remove-google-backups deletes the role that grants backup.verify",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 139,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "consumes a token",
      "fullTitle": "database migrations: 20230123-01-remove-google-backups backup creation token consumes a token",
      "file": "/usr/odk/test/integration/other/knex-migrations.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to list projects it can access",
      "fullTitle": "data collector role should be able to list projects it can access",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to get basic project details",
      "fullTitle": "data collector role should be able to get basic project details",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to update project details",
      "fullTitle": "data collector role should not be able to update project details",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 70,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to list all forms in a project",
      "fullTitle": "data collector role should be able to list all forms in a project",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 67,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to get form detail",
      "fullTitle": "data collector role should be able to get form detail",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to update form details",
      "fullTitle": "data collector role should not be able to update form details",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to create new forms",
      "fullTitle": "data collector role should not be able to create new forms",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 76,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to list form submissions",
      "fullTitle": "data collector role should not be able to list form submissions",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to create new submissions",
      "fullTitle": "data collector role should be able to create new submissions",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to download submissions",
      "fullTitle": "data collector role should not be able to download submissions",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to get submission detail",
      "fullTitle": "data collector role should not be able to get submission detail",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 119,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able access closed forms and its sub-resources",
      "fullTitle": "data collector role should not be able access closed forms and its sub-resources",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 267,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able see closing forms and make submission",
      "fullTitle": "data collector role should be able see closing forms and make submission",
      "file": "/usr/odk/test/integration/other/roles-data-collector.js",
      "duration": 123,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to list projects it can access",
      "fullTitle": "project viewer role should be able to list projects it can access",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to get basic project details",
      "fullTitle": "project viewer role should be able to get basic project details",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 66,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to update project details",
      "fullTitle": "project viewer role should not be able to update project details",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to list all forms in a project",
      "fullTitle": "project viewer role should be able to list all forms in a project",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to get form detail",
      "fullTitle": "project viewer role should be able to get form detail",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to get form versions",
      "fullTitle": "project viewer role should be able to get form versions",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to get versions of the draft form",
      "fullTitle": "project viewer role should not be able to get versions of the draft form",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 133,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to get details of the published version",
      "fullTitle": "project viewer role should be able to get details of the published version",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to get details of the unpublished version",
      "fullTitle": "project viewer role should not be able to get details of the unpublished version",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 158,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to update form details",
      "fullTitle": "project viewer role should not be able to update form details",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not be able to create new forms",
      "fullTitle": "project viewer role should not be able to create new forms",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should be able to list form submissions",
      "fullTitle": "project viewer role should be able to list form submissions",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 144,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not be able to create new submissions",
      "fullTitle": "project viewer role should not be able to create new submissions",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 89,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to download submissions",
      "fullTitle": "project viewer role should be able to download submissions",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 174,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to get submission detail",
      "fullTitle": "project viewer role should be able to get submission detail",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 309,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should be able to fetch a submission attachment",
      "fullTitle": "project viewer role should be able to fetch a submission attachment",
      "file": "/usr/odk/test/integration/other/roles-project-viewer.js",
      "duration": 161,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process values on submission ingest",
      "fullTitle": "select many value processing should process values on submission ingest",
      "file": "/usr/odk/test/integration/other/select-many.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update values on submission update",
      "fullTitle": "select many value processing should update values on submission update",
      "file": "/usr/odk/test/integration/other/select-many.js",
      "duration": 98,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should handle when field changes from select1 to select (selectMultiple)",
      "fullTitle": "select many value processing should handle when field changes from select1 to select (selectMultiple)",
      "file": "/usr/odk/test/integration/other/select-many.js",
      "duration": 153,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should accept symbols",
      "fullTitle": "slonik query() should accept symbols",
      "file": "/usr/odk/test/integration/other/slonik.js",
      "duration": 65,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not accept non-symbols",
      "fullTitle": "slonik query() should not accept non-symbols",
      "file": "/usr/odk/test/integration/other/slonik.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge a specific submission",
      "fullTitle": "query module submission purge submission purge arguments should purge a specific submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 157,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should throw an error when instanceId specified without project ID and xmlFormId",
      "fullTitle": "query module submission purge submission purge arguments should throw an error when instanceId specified without project ID and xmlFormId",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 60,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should throw an error when project ID or xmlFormId is non-null but there is no instance id",
      "fullTitle": "query module submission purge submission purge arguments should throw an error when project ID or xmlFormId is non-null but there is no instance id",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 64,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge a submission deleted over 30 days ago",
      "fullTitle": "query module submission purge 30 day time limit should purge a submission deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 56,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge multiple submissions deleted over 30 days ago",
      "fullTitle": "query module submission purge 30 day time limit should purge multiple submissions deleted over 30 days ago",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 85,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge recently deleted submission when forced",
      "fullTitle": "query module submission purge 30 day time limit should purge recently deleted submission when forced",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 52,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge attachments with submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge attachments with submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 101,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge blobs associated with attachments when purging submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge blobs associated with attachments when purging submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge all versions of a deleted submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge all versions of a deleted submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 82,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge comments of a deleted submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge comments of a deleted submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 61,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should redact notes of a deleted submission sent with x-action-notes",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should redact notes of a deleted submission sent with x-action-notes",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should purge form field values of a deleted submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge form field values of a deleted submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 86,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge client audit blobs attachments for a deleted submission",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge client audit blobs attachments for a deleted submission",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 128,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should purge client audit blobs when two submissions have same client audit file",
      "fullTitle": "query module submission purge deep cleanup of all submission artifacts should purge client audit blobs when two submissions have same client audit file",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 188,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should set submission def id on entity source to null when submission deleted",
      "fullTitle": "query module submission purge submissions as entity sources should set submission def id on entity source to null when submission deleted",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 313,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log a purge event in the audit log when purging submissions",
      "fullTitle": "query module submission purge submission.purge audit event should log a purge event in the audit log when purging submissions",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 260,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not log event if no submissions purged",
      "fullTitle": "query module submission purge submission.purge audit event should not log event if no submissions purged",
      "file": "/usr/odk/test/integration/other/submission-purging.js",
      "duration": 78,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should run all operations within the correct transaction context",
      "fullTitle": "transaction integration should run all operations within the correct transaction context",
      "file": "/usr/odk/test/integration/other/transactions.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not allow a write conflict @slow",
      "fullTitle": "enketo worker transaction should not allow a write conflict @slow",
      "file": "/usr/odk/test/integration/other/transactions.js",
      "duration": 656,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create a user account with a password",
      "fullTitle": "task: accounts createUser should create a user account with a password",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 8,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should create a user account with a null password",
      "fullTitle": "task: accounts createUser should create a user account with a null password",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log an audit entry",
      "fullTitle": "task: accounts createUser should log an audit entry",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should set the password if given",
      "fullTitle": "task: accounts createUser should set the password if given",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 13,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not verify a null password",
      "fullTitle": "task: accounts createUser should not verify a null password",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if the password is too short",
      "fullTitle": "task: accounts createUser should complain if the password is too short",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should promote a user account to admin",
      "fullTitle": "task: accounts promoteUser should promote a user account to admin",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log an audit entry",
      "fullTitle": "task: accounts promoteUser should log an audit entry",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should set a user password",
      "fullTitle": "task: accounts setUserPassword should set a user password",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain about a password that is too short",
      "fullTitle": "task: accounts setUserPassword should complain about a password that is too short",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should delete sessions",
      "fullTitle": "task: accounts setUserPassword should delete sessions",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log an audit entry",
      "fullTitle": "task: accounts setUserPassword should log an audit entry",
      "file": "/usr/odk/test/integration/task/account.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not compute analytics if not enabled",
      "fullTitle": "task: analytics should not compute analytics if not enabled",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not compute analytics if explicitly disabled",
      "fullTitle": "task: analytics should not compute analytics if explicitly disabled",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not compute analytics if analytics sent recently",
      "fullTitle": "task: analytics should not compute analytics if analytics sent recently",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should send analytics if enabled and time to send",
      "fullTitle": "task: analytics should send analytics if enabled and time to send",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 139,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should resend analytics if last attempt failed",
      "fullTitle": "task: analytics should resend analytics if last attempt failed",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log event and full report if analytics sent successfully",
      "fullTitle": "task: analytics should log event and full report if analytics sent successfully",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should log request errors",
      "fullTitle": "task: analytics should log request errors",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 80,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should check xml content of what analytics reporter sent",
      "fullTitle": "task: analytics should check xml content of what analytics reporter sent",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 71,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should encode XML entities in user-controlled fields in analytics XML",
      "fullTitle": "task: analytics should encode XML entities in user-controlled fields in analytics XML",
      "file": "/usr/odk/test/integration/task/analytics.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fetch configuration by key",
      "fullTitle": "task: config getConfiguration should fetch configuration by key",
      "file": "/usr/odk/test/integration/task/config.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject if configuration is not found",
      "fullTitle": "task: config getConfiguration should reject if configuration is not found",
      "file": "/usr/odk/test/integration/task/config.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should save configuration by key",
      "fullTitle": "task: config setConfiguration should save configuration by key",
      "file": "/usr/odk/test/integration/task/config.js",
      "duration": 9,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should round-trip successfully",
      "fullTitle": "task: fs encrypted archives should round-trip successfully",
      "file": "/usr/odk/test/integration/task/fs.js",
      "duration": 182,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail gracefully given an incorrect passphrase",
      "fullTitle": "task: fs encrypted archives should fail gracefully given an incorrect passphrase",
      "file": "/usr/odk/test/integration/task/fs.js",
      "duration": 146,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail gracefully given a random file",
      "fullTitle": "task: fs encrypted archives should fail gracefully given a random file",
      "file": "/usr/odk/test/integration/task/fs.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fail gracefully given a random archive",
      "fullTitle": "task: fs encrypted archives should fail gracefully given a random archive",
      "file": "/usr/odk/test/integration/task/fs.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log upgrade if no previous upgrade event exists",
      "fullTitle": "task: log-upgrade should log upgrade if no previous upgrade event exists",
      "file": "/usr/odk/test/integration/task/log-upgrade.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log upgrade if version changes",
      "fullTitle": "task: log-upgrade should log upgrade if version changes",
      "file": "/usr/odk/test/integration/task/log-upgrade.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log upgrade if client or server changes",
      "fullTitle": "task: log-upgrade should log upgrade if client or server changes",
      "file": "/usr/odk/test/integration/task/log-upgrade.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not log upgrade if nothing changes",
      "fullTitle": "task: log-upgrade should not log upgrade if nothing changes",
      "file": "/usr/odk/test/integration/task/log-upgrade.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge recently deleted forms by default",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms force flag should not purge recently deleted forms by default",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 8,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge recently deleted form if forced",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms force flag should purge recently deleted form if forced",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return message for multiple forms purged",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms force flag should return message for multiple forms purged",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge specific recently deleted form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified by formId should not purge specific recently deleted form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge specific recently deleted form if forced",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified by formId should purge specific recently deleted form if forced",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should force purge only specific form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified by formId should force purge only specific form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge recently deleted forms even if projectId is matched (when not forced",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should not purge recently deleted forms even if projectId is matched (when not forced",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge recently deleted forms even if projectId AND formId is matched (when not forced)",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should not purge recently deleted forms even if projectId AND formId is matched (when not forced)",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge specific form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should purge specific form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge specific form if tied to a different project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should not purge specific form if tied to a different project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge all forms in project if no form ID supplied",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should purge all forms in project if no form ID supplied",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge multiple forms if tied to a different project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms form specified with projectId should not purge multiple forms if tied to a different project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should throw error if xmlFormId specified without projectId",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms with xmlFormId should throw error if xmlFormId specified without projectId",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should force purge form by project and xmlFormId",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms with xmlFormId should force purge form by project and xmlFormId",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not purge form by project and xmlFormId if form deleted recently and not forced",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) forms with xmlFormId should not purge form by project and xmlFormId if form deleted recently and not forced",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call submission purge if mode is specified as submissions",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should call submission purge if mode is specified as submissions",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call submission purge if submission instance id is specified",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should call submission purge if submission instance id is specified",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if instance id specified without project and form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should complain if instance id specified without project and form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if instance id specified without project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should complain if instance id specified without project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if instance id specified without form",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) submissions should complain if instance id specified without form",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call entities purge if mode is specified as entities",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should call entities purge if mode is specified as entities",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call entities purge if entities uuid is specified",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should call entities purge if entities uuid is specified",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should call entities purge if dataset name is specified",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should call entities purge if dataset name is specified",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if uuid specified without project and dataset",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should complain if uuid specified without project and dataset",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if uuid specified without project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should complain if uuid specified without project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if uuid specified without dataset",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should complain if uuid specified without dataset",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should complain if dataset specified without project",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) entities should complain if dataset specified without project",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge both forms and submissions when neither mode is specified (not forced)",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) all should purge both forms and submissions when neither mode is specified (not forced)",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 9,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge both forms and submissions when neither mode is specified (forced)",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) all should purge both forms and submissions when neither mode is specified (forced)",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should accept other mode and treat as \"all\"",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) all should accept other mode and treat as \"all\"",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should purge in a reasonable amount of time @slow",
      "fullTitle": "task: purge deleted resources (forms, submissions and entities) with s3 blob storage should purge in a reasonable amount of time @slow",
      "file": "/usr/odk/test/integration/task/purge.js",
      "duration": 757,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should remove expired sessions",
      "fullTitle": "task: reap-sessions should remove expired sessions",
      "file": "/usr/odk/test/integration/task/reap-sessions.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "uploadPending() should fail",
      "fullTitle": "task: s3 s3 disabled uploadPending() should fail",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 41,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "setFailedToPending() should fail",
      "fullTitle": "task: s3 s3 disabled setFailedToPending() should fail",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 37,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "getCount() should fail",
      "fullTitle": "task: s3 s3 disabled getCount() should fail",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 44,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return count of pending blobs",
      "fullTitle": "task: s3 s3 enabled getCount() should return count of pending blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 9,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return count of uploaded blobs",
      "fullTitle": "task: s3 s3 enabled getCount() should return count of uploaded blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return count of failed blobs",
      "fullTitle": "task: s3 s3 enabled getCount() should return count of failed blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return count of skipped blobs",
      "fullTitle": "task: s3 s3 enabled getCount() should return count of skipped blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should reject requests for unknown statuses",
      "fullTitle": "task: s3 s3 enabled getCount() should reject requests for unknown statuses",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should change all failed messages to pending",
      "fullTitle": "task: s3 s3 enabled setFailedToPending() should change all failed messages to pending",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 16,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not do anything if nothing to upload",
      "fullTitle": "task: s3 s3 enabled uploadPending() should not do anything if nothing to upload",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should upload pending blobs, and ignore others",
      "fullTitle": "task: s3 s3 enabled uploadPending() should upload pending blobs, and ignore others",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 14,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should skip 0-byte blobs",
      "fullTitle": "task: s3 s3 enabled uploadPending() should skip 0-byte blobs",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 8,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return error if uploading fails",
      "fullTitle": "task: s3 s3 enabled uploadPending() should return error if uploading fails",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 14,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not allow failure to affect previous or future uploads",
      "fullTitle": "task: s3 s3 enabled uploadPending() should not allow failure to affect previous or future uploads",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 16,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not attempt to upload an in-progress blob",
      "fullTitle": "task: s3 s3 enabled uploadPending() with delayed s3 upload should not attempt to upload an in-progress blob",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 329,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should upload requested number of blobs, and ignore others",
      "fullTitle": "task: s3 s3 enabled uploadPending() with limit should upload requested number of blobs, and ignore others",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 15,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not complain if blob count is less than limit",
      "fullTitle": "task: s3 s3 enabled uploadPending() with limit should not complain if blob count is less than limit",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 5,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should upload all blobs if limit is zero",
      "fullTitle": "task: s3 s3 enabled uploadPending() with limit should upload all blobs if limit is zero",
      "file": "/usr/odk/test/integration/task/s3.js",
      "duration": 14,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should print success json to stdout",
      "fullTitle": "task: runner should print success json to stdout",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 1111,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should print failure details to stderr and exit nonzero",
      "fullTitle": "task: runner should print failure details to stderr and exit nonzero",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 973,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log",
      "fullTitle": "task: auditing on task success should log",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 12,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fault but passthrough on log failure",
      "fullTitle": "task: auditing on task success should fault but passthrough on log failure",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 8,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log",
      "fullTitle": "task: auditing on task failure should log",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fault but passthrough on log failure",
      "fullTitle": "task: auditing on task failure should fault but passthrough on log failure",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should do nothing on task success",
      "fullTitle": "task: emailing should do nothing on task success",
      "file": "/usr/odk/test/integration/task/task.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not make entity for approved submission for non-entity form",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make entity for approved submission for non-entity form",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 163,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make entity for rejected entity submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make entity for rejected entity submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 198,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make entity for create=false submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make entity for create=false submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 134,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make an entity when reprocessing a submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make an entity when reprocessing a submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make an entity when reprocessing an edited submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make an entity when reprocessing an edited submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 153,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not make entity for draft submission",
      "fullTitle": "worker: entity should not make an entity or log anything about entities should not make entity for draft submission",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 136,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log entity creation in audit log",
      "fullTitle": "worker: entity should successfully process submissions about entities should log entity creation in audit log",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 190,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should log entity update in audit log",
      "fullTitle": "worker: entity should successfully process submissions about entities should log entity update in audit log",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 193,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because UUID is invalid",
      "fullTitle": "worker: entity should catch problems creating new entity validation errors should fail because UUID is invalid",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 104,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because dataset attribute is missing",
      "fullTitle": "worker: entity should catch problems creating new entity validation errors should fail because dataset attribute is missing",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 102,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity because UUID is used by a deleted entity",
      "fullTitle": "worker: entity should catch problems creating new entity validation errors should not create entity because UUID is used by a deleted entity",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 117,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity because UUID is used by a purged entity",
      "fullTitle": "worker: entity should catch problems creating new entity validation errors should not create entity because UUID is used by a purged entity",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 141,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail if trying to use an entity uuid that exists",
      "fullTitle": "worker: entity should catch problems creating new entity constraint errors should fail if trying to use an entity uuid that exists",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 149,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail for other constraint errors like dataset name does not exist",
      "fullTitle": "worker: entity should catch problems creating new entity constraint errors should fail for other constraint errors like dataset name does not exist",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 95,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail and log other system errors",
      "fullTitle": "worker: entity should catch problems creating new entity constraint errors should fail and log other system errors",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 33,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should fail because UUID is invalid",
      "fullTitle": "worker: entity should catch problems updating entity validation errors should fail because UUID is invalid",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 177,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because dataset attribute is missing",
      "fullTitle": "worker: entity should catch problems updating entity validation errors should fail because dataset attribute is missing",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 137,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because UUID has been deleted",
      "fullTitle": "worker: entity should catch problems updating entity validation errors should fail because UUID has been deleted",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 150,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail because UUID has been purged",
      "fullTitle": "worker: entity should catch problems updating entity validation errors should fail because UUID has been purged",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 179,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail if trying to update an entity by uuid that does not exist",
      "fullTitle": "worker: entity should catch problems updating entity constraint errors should fail if trying to update an entity by uuid that does not exist",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 121,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should fail for other constraint errors like dataset name does not exist",
      "fullTitle": "worker: entity should catch problems updating entity constraint errors should fail for other constraint errors like dataset name does not exist",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 115,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity on submission creation when approvalRequired is false",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should create entity on submission creation when approvalRequired is false",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 100,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity on submission approval when approvalRequired is true",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should create entity on submission approval when approvalRequired is true",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 124,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity on submission update when approvalRequired is false and it was not created on submission receipt",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should create entity on submission update when approvalRequired is false and it was not created on submission receipt",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 129,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should create entity on approval of submission update when approvalRequired is true and entity was not created previously",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should create entity on approval of submission update when approvalRequired is true and entity was not created previously",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 190,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create a new entity on edit if it was created on submission receipt",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should not create a new entity on edit if it was created on submission receipt",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 118,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create on approval if approval is not required",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should not create on approval if approval is not required",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 132,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not create entity when review status is rejected",
      "fullTitle": "worker: entity event processing based on approvalRequired flag should not create entity when review status is rejected",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 239,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should update entity on submission.create even if approvalRequired is true for new entities",
      "fullTitle": "worker: entity event processing of entity updates only on submission.create regardless of approvalRequired should update entity on submission.create even if approvalRequired is true for new entities",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 175,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not process submission.update (approval) for entity update",
      "fullTitle": "worker: entity event processing of entity updates only on submission.create regardless of approvalRequired should not process submission.update (approval) for entity update",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 148,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should never process submission.update for entity update even if submission.create gets skipped",
      "fullTitle": "worker: entity event processing of entity updates only on submission.create regardless of approvalRequired should never process submission.update for entity update even if submission.create gets skipped",
      "file": "/usr/odk/test/integration/worker/entity.js",
      "duration": 176,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should do nothing if the attachment is not a client audit",
      "fullTitle": "worker: submission.attachment.update should do nothing if the attachment is not a client audit",
      "file": "/usr/odk/test/integration/worker/submission.attachment.update.js",
      "duration": 112,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process the given logs",
      "fullTitle": "worker: submission.attachment.update should process the given logs",
      "file": "/usr/odk/test/integration/worker/submission.attachment.update.js",
      "duration": 94,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should process the given logs if already uploaded to s3",
      "fullTitle": "worker: submission.attachment.update should process the given logs if already uploaded to s3",
      "file": "/usr/odk/test/integration/worker/submission.attachment.update.js",
      "duration": 83,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should not reprocess already-processed logs",
      "fullTitle": "worker: submission.attachment.update should not reprocess already-processed logs",
      "file": "/usr/odk/test/integration/worker/submission.attachment.update.js",
      "duration": 97,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should opt-in user to mailing list when preference changes",
      "fullTitle": "worker: user should opt-in user to mailing list when preference changes",
      "file": "/usr/odk/test/integration/worker/user.js",
      "duration": 62,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should NOT opt-in user to mailing list when preference changes to explicitly opt out",
      "fullTitle": "worker: user should NOT opt-in user to mailing list when preference changes to explicitly opt out",
      "file": "/usr/odk/test/integration/worker/user.js",
      "duration": 57,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should not opt-in user if preference is set to false immediately after",
      "fullTitle": "worker: user should not opt-in user if preference is set to false immediately after",
      "file": "/usr/odk/test/integration/worker/user.js",
      "duration": 53,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should return false and do nothing if no event is given",
      "fullTitle": "worker runner @slow should return false and do nothing if no event is given",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 0,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return false and do nothing if no jobs match the event",
      "fullTitle": "worker runner @slow should return false and do nothing if no jobs match the event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return true if a job is matched",
      "fullTitle": "worker runner @slow should return true if a job is matched",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 0,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should pass the container and event details to the job",
      "fullTitle": "worker runner @slow should pass the container and event details to the job",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should run all matched jobs",
      "fullTitle": "worker runner @slow should run all matched jobs",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should mark the event as processed after on job completion",
      "fullTitle": "worker runner @slow should mark the event as processed after on job completion",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 7,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should log to Sentry if a worker goes wrong",
      "fullTitle": "worker runner @slow should log to Sentry if a worker goes wrong",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 75,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should still survive and reschedule if Sentry goes wrong",
      "fullTitle": "worker runner @slow should still survive and reschedule if Sentry goes wrong",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should unclaim the event and mark failure in case of failure",
      "fullTitle": "worker runner @slow should unclaim the event and mark failure in case of failure",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 87,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should roll back changes in case of error in any job",
      "fullTitle": "worker runner @slow should roll back changes in case of error in any job",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 103,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should return null if there are no unprocessed events",
      "fullTitle": "worker checker should return null if there are no unprocessed events",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 6,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should mark the event as claimed",
      "fullTitle": "worker checker should mark the event as claimed",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 4,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not mark any other events as claimed",
      "fullTitle": "worker checker should not mark any other events as claimed",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should return the oldest eligible event",
      "fullTitle": "worker checker should return the oldest eligible event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 3,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not return a recently failed event",
      "fullTitle": "worker checker should not return a recently failed event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 1,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should retry a previously failed event after some time",
      "fullTitle": "worker checker should retry a previously failed event after some time",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should not return a repeatedly failed event",
      "fullTitle": "worker checker should not return a repeatedly failed event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should claim a stale/hung event",
      "fullTitle": "worker checker should claim a stale/hung event",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 2,
      "currentRetry": 0,
      "speed": "fast",
      "err": {}
    },
    {
      "title": "should run a full loop right away",
      "fullTitle": "worker loop should run a full loop right away",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 96,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should run two full loops right away",
      "fullTitle": "worker loop should run two full loops right away",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should run two full loops with an idle cycle in between",
      "fullTitle": "worker loop should run two full loops with an idle cycle in between",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 156,
      "currentRetry": 0,
      "speed": "slow",
      "err": {}
    },
    {
      "title": "should restart if the check fails prequery",
      "fullTitle": "worker loop should restart if the check fails prequery",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 54,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restart if the check fails in-query",
      "fullTitle": "worker loop should restart if the check fails in-query",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 69,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    },
    {
      "title": "should restart if the process itself fails",
      "fullTitle": "worker loop should restart if the process itself fails",
      "file": "/usr/odk/test/integration/worker/worker.js",
      "duration": 74,
      "currentRetry": 0,
      "speed": "medium",
      "err": {}
    }
  ]
}